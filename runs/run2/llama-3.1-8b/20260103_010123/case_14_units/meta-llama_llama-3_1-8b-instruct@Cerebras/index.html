<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Converter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            padding: 20px;
        }
        
        #converter {
            width: 300px;
            margin: 40px auto;
            background-color: #fff;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        #category {
            margin-bottom: 20px;
        }
        
        #units {
            margin-bottom: 20px;
        }
        
        #input-field, #output-field {
            width: 100%;
            height: 40px;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        
        #swap {
            background-color: #4CAF50;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        #swap:hover {
            background-color: #3e8e41;
        }
        
        #formula {
            margin-bottom: 20px;
        }
        
        #quick-conversions {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div id="converter">
        <h2>Unit Converter</h2>
        <div id="category">
            <select id="category-select">
                <option value="length">Length</option>
                <option value="weight">Weight</option>
                <option value="temperature">Temperature</option>
                <option value="volume">Volume</option>
                <option value="time">Time</option>
            </select>
        </div>
        <div id="units">
            <select id="from-select">
            </select>
            <select id="to-select">
            </select>
        </div>
        <input id="input-field" type="number">
        <button id="swap">Swap</button>
        <input id="output-field" type="number">
        <div id="formula">
            <p id="formula-text"></p>
        </div>
        <div id="quick-conversions">
            <button id="km-miles">km to miles</button>
            <button id="miles-km">miles to km</button>
            <button id="celsius-fahrenheit">C to F</button>
            <button id="fahrenheit-celsius">F to C</button>
        </div>
    </div>
    
    <script>
        const categories = {
            length: {
                from: ['km', 'm', 'cm', 'mm', 'miles', 'feet', 'inches'],
                to: ['m', 'cm', 'mm', 'miles', 'feet', 'inches', 'km']
            },
            weight: {
                from: ['kg', 'g', 'lb', 'oz'],
                to: ['g', 'lb', 'oz', 'kg']
            },
            temperature: {
                from: ['C', 'F', 'K'],
                to: ['F', 'K', 'C']
            },
            volume: {
                from: ['L', 'mL', 'gallons', 'cups'],
                to: ['mL', 'gallons', 'cups', 'L']
            },
            time: {
                from: ['hours', 'minutes', 'seconds'],
                to: ['minutes', 'seconds', 'hours']
            }
        };
        
        const units = document.getElementById('units');
        const fromSelect = document.getElementById('from-select');
        const toSelect = document.getElementById('to-select');
        const inputField = document.getElementById('input-field');
        const swapButton = document.getElementById('swap');
        const outputField = document.getElementById('output-field');
        const formulaText = document.getElementById('formula-text');
        const quickConversions = document.getElementById('quick-conversions');
        
        let category = 'length';
        let fromUnit = 'km';
        let toUnit = 'miles';
        
        function updateUnits() {
            const categorySelect = document.getElementById('category-select');
            category = categorySelect.value;
            fromSelect.innerHTML = '';
            toSelect.innerHTML = '';
            for (const unit of categories[category].from) {
                const option = document.createElement('option');
                option.textContent = unit;
                option.value = unit;
                fromSelect.appendChild(option);
            }
            for (const unit of categories[category].to) {
                const option = document.createElement('option');
                option.textContent = unit;
                option.value = unit;
                toSelect.appendChild(option);
            }
            const quickConversionButtons = quickConversions.children;
            for (let i = 0; i < quickConversionButtons.length; i++) {
                const button = quickConversionButtons[i];
                button.onclick = () => {
                    const from = button.id.replace('-', ' to ');
                    const to = button.id.replace('-', ' from ');
                    fromSelect.value = from;
                    toSelect.value = to;
                    inputField.value = '';
                    outputField.value = '';
                    updateOutput();
                };
            }
        }
        
        function updateOutput() {
            const input = parseFloat(inputField.value);
            if (isNaN(input)) {
                outputField.value = '';
                return;
            }
            const formula = getFormula();
            const output = formula(input);
            outputField.value = output;
            formulaText.textContent = formula.toString();
        }
        
        function getFormula() {
            switch (category) {
                case 'length':
                    if (fromUnit === 'km' && toUnit === 'miles') return x => x * 0.621371;
                    if (fromUnit === 'miles' && toUnit === 'km') return x => x * 1.60934;
                    if (fromUnit === 'cm' && toUnit === 'm') return x => x / 100;
                    if (fromUnit === 'm' && toUnit === 'cm') return x => x * 100;
                    if (fromUnit === 'mm' && toUnit === 'm') return x => x / 1000;
                    if (fromUnit === 'm' && toUnit === 'mm') return x => x * 1000;
                    if (fromUnit === 'feet' && toUnit === 'm') return x => x / 3.28084;
                    if (fromUnit === 'm' && toUnit === 'feet') return x => x * 3.28084;
                    if (fromUnit === 'inches' && toUnit === 'm') return x => x / 39.3701;
                    if (fromUnit === 'm' && toUnit === 'inches') return x => x * 39.3701;
                    break;
                case 'weight':
                    if (fromUnit === 'kg' && toUnit === 'g') return x => x * 1000;
                    if (fromUnit === 'g' && toUnit === 'kg') return x => x / 1000;
                    if (fromUnit === 'lb' && toUnit === 'kg') return x => x / 2.20462;
                    if (fromUnit === 'kg' && toUnit === 'lb') return x => x * 2.20462;
                    if (fromUnit === 'oz' && toUnit === 'kg') return x => x / 35.274;
                    if (fromUnit === 'kg' && toUnit === 'oz') return x => x * 35.274;
                    break;
                case 'temperature':
                    if (fromUnit === 'C' && toUnit === 'F') return x => x * 9/5 + 32;
                    if (fromUnit === 'F' && toUnit === 'C') return x => (x - 32) * 5/9;
                    if (fromUnit === 'K' && toUnit === 'C') return x => x - 273.15;
                    if (fromUnit === 'C' && toUnit === 'K') return x => x + 273.15;
                    break;
                case 'volume':
                    if (fromUnit === 'L' && toUnit === 'mL') return x => x * 1000;
                    if (fromUnit === 'mL' && toUnit === 'L') return x => x / 1000;
                    if (fromUnit === 'gallons' && toUnit === 'L') return x => x * 3.78541;
                    if (fromUnit === 'L' && toUnit === 'gallons') return x => x / 3.78541;
                    if (fromUnit === 'cups' && toUnit === 'L') return x => x * 0.23656;
                    if (fromUnit === 'L' && toUnit === 'cups') return x => x / 0.23656;
                    break;
                case 'time':
                    if (fromUnit === 'hours' && toUnit === 'minutes') return x => x * 60;
                    if (fromUnit === 'minutes' && toUnit === 'hours') return x => x / 60;
                    if (fromUnit === 'minutes' && toUnit === 'seconds') return x => x * 60;
                    if (fromUnit === 'seconds' && toUnit === 'minutes') return x => x / 60;
                    if (fromUnit === 'hours' && toUnit === 'seconds') return x => x * 3600;
                    if (fromUnit === 'seconds' && toUnit === 'hours') return x => x / 3600;
                    break;
            }
            return x => x;
        }
        
        fromSelect.addEventListener('change', () => {
            fromUnit = fromSelect.value;
            updateOutput();
        });
        
        toSelect.addEventListener('change', () => {
            toUnit = toSelect.value;
            updateOutput();
        });
        
        inputField.addEventListener('input', updateOutput);
        
        swapButton.addEventListener('click', () => {
            const temp = fromUnit;
            fromUnit = toUnit;
            toUnit = temp;
            fromSelect.value = toUnit;
            toSelect.value = fromUnit;
            updateOutput();
        });
        
        updateUnits();
    </script>
</body>
</html>