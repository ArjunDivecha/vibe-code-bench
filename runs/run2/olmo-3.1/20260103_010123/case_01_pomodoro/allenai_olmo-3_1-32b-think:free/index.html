<!DOCTYPE html>
<html>
<head>
    <title>Pomodoro Timer</title>
    <style>
        body {
            background-color: #f0f0f0;
            color: #333;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .timer-display {
            font-size: 3em;
            margin: 10px;
        }

        #time {
            color: red;
            font-weight: bold;
        }

        #session {
            margin-left: 10px;
            color: #666;
        }

        button {
            background: #ff6347;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin: 5px;
        }

        button:hover {
            background: #cc0000;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="timer-display">
            <span id="time">25:00</span>
            <span id="session">Work 1</span>
        </div>
        <button id="start">Start</button>
        <button id="pause">Pause</button>
        <button id="reset">Reset</button>
    </div>
    <script>
let timeRemaining = 25 * 60;
let sessionType = 'work';
let sessionCount = 1;
let isPaused = true;
const workDuration = 25 * 60;
const breakDuration = 5 * 60;
let timerId;

function formatTime(seconds) {
    const minutes = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
}

function playBeep() {
    const context = new AudioContext();
    const oscillator = context.createOscillator();
    oscillator.type = 'sine';
    oscillator.frequency.value = 440;
    const gainNode = context.createGain();
    gainNode.gain.setValueAtTime(0.3, context.currentTime);
    oscillator.connect(gainNode).connect(context.destination);
    oscillator.start();
    setTimeout(() => oscillator.stop(), 500);
}

function updateTimeDisplay() {
    document.getElementById('time').textContent = formatTime(timeRemaining);
}

function toggleSession() {
    if (sessionType === 'work') {
        sessionType = 'break';
        document.getElementById('session').textContent = `Break ${sessionCount}`;
        timeRemaining = breakDuration;
        updateTimeDisplay();
    } else {
        sessionType = 'work';
        sessionCount++;
        document.getElementById('session').textContent = `Work ${sessionCount}`;
        timeRemaining = workDuration;
        updateTimeDisplay();
    }
}

function countdown() {
    if (isPaused) return;
    if (timeRemaining <= 0) {
        playBeep();
        toggleSession();
        return;
    }
    timeRemaining--;
    updateTimeDisplay();
}

function startTimer() {
    if (!isPaused) return;
    isPaused = false;
    updateTimeDisplay();
    timerId = setInterval(countdown, 1000);
}

function pauseTimer() {
    if (isPaused) return;
    isPaused = true;
    clearInterval(timerId);
}

function resetTimer() {
    timeRemaining = workDuration;
    sessionType = 'work';
    sessionCount = 1;
    isPaused = true;
    updateTimeDisplay();
    document.getElementById('session').textContent = 'Work 1';
    clearInterval(timerId);
}

document.getElementById('start').addEventListener('click', function() {
    if (isPaused) {
        startTimer();
    }
});

document.getElementById('pause').addEventListener('click', function() {
    if (!isPaused) {
        pauseTimer();
    }
});

document.getElementById('reset').addEventListener('click', function() {
    resetTimer();
});

resetTimer();
</script>
</body>
</html>