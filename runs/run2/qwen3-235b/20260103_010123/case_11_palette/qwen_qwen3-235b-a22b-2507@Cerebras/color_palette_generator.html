<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        :root {
            --border-radius: 8px;
            --transition-speed: 0.3s;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --hover-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #2c3e50;
            font-weight: 300;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .instructions {
            background-color: #fff;
            padding: 15px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .palette {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .color-card {
            position: relative;
            width: 180px;
            height: 220px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all var(--transition-speed) ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            transform: translateY(0);
        }
        
        .color-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--hover-shadow);
        }
        
        .color-display {
            height: 120px;
            width: 100%;
            position: relative;
        }
        
        .color {
            width: 100%;
            height: 100%;
            transition: all var(--transition-speed) ease;
        }
        
        .lock {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 28px;
            height: 28px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 2;
            transition: all var(--transition-speed) ease;
        }
        
        .lock svg {
            width: 14px;
            height: 14px;
            fill: #555;
            transition: all var(--transition-speed) ease;
        }
        
        .lock.locked svg {
            fill: #e74c3c;
        }
        
        .color-info {
            background-color: #fff;
            padding: 12px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .color-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .color-hex {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-bottom: 5px;
            font-family: monospace;
        }
        
        .color-rgb {
            font-size: 0.8rem;
            color: #95a5a6;
            font-family: monospace;
        }
        
        .color-card.locked {
            opacity: 1;
            transform: scale(1.02);
        }
        
        .color-card.locked:hover {
            transform: scale(1.02) translateY(-5px);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all var(--transition-speed) ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow);
        }
        
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button svg {
            width: 16px;
            height: 16px;
        }
        
        .save-btn {
            background-color: #2ecc71;
        }
        
        .save-btn:hover {
            background-color: #27ae60;
        }
        
        .saved-palettes {
            margin-top: 40px;
            width: 100%;
        }
        
        .saved-palettes h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
            font-weight: 300;
            font-size: 1.8rem;
        }
        
        .palettes-container {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
            scrollbar-width: thin;
        }
        
        .palettes-container::-webkit-scrollbar {
            height: 6px;
        }
        
        .palettes-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .palettes-container::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 10px;
        }
        
        .saved-palette {
            min-width: 180px;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all var(--transition-speed) ease;
        }
        
        .saved-palette:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
        }
        
        .saved-colors {
            display: flex;
            height: 100px;
        }
        
        .saved-color {
            flex-grow: 1;
            height: 100%;
        }
        
        .saved-palette-info {
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .palette-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .remove-btn {
            background: none;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            font-size: 1.2rem;
            opacity: 0.7;
            transition: opacity var(--transition-speed) ease;
        }
        
        .remove-btn:hover {
            opacity: 1;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: #2ecc71;
            color: white;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        @media (max-width: 768px) {
            .color-card {
                width: 150px;
                height: 200px;
            }
            
            .color-display {
                height: 100px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .color-card {
                width: 100%;
                max-width: 150px;
                height: 180px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Color Palette Generator</h1>
            <p class="subtitle">Create, explore and save beautiful color schemes</p>
        </header>
        
        <div class="instructions">
            Click any color to copy its hex code. Press the spacebar to generate a new palette. Lock colors to keep them when generating new palettes.
        </div>
        
        <div class="palette" id="color-palette">
            <!-- Color cards will be generated here -->
        </div>
        
        <div class="controls">
            <button id="generate-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                Generate New Palette
            </button>
            <button id="save-btn" class="save-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>
                Save This Palette
            </button>
        </div>
        
        <div class="saved-palettes">
            <h2>Saved Palettes</h2>
            <div class="palettes-container" id="saved-palettes-container">
                <!-- Saved palettes will be inserted here -->
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22,4 12,14.01 9,11.01"></polyline>
        </svg>
        <span id="notification-message">Color copied to clipboard!</span>
    </div>
    
    <script>
        // Color name database
        const colorNames = [
            "Crimson Sky", "Ocean Deep", "Forest Whisper", "Sunset Glow", "Desert Bloom",
            "Midnight Blue", "Rose Gold", "Emerald Dream", "Lavender Mist", "Citrus Burst",
            "Royal Velvet", "Arctic Ice", "Mystic Purple", "Golden Hour", "Tropical Teal",
            "Candy Floss", "Charcoal Gray", "Mango Tango", "Ocean Foam", "Dusty Rose",
            "Electric Lime", "Neon Fire", "Cloud White", "Midnight Express", "Royal Orchid",
            "Copper Penny", "Sky High", "Mint Julep", "Cherry Blossom", "Sapphire Stone",
            "Autumn Leaf", "Ocean Breeze", "Lemon Zest", "Plum Perfect", "Coral Reef",
            "Steel Gray", "Honey Dew", "Royal Blue", "Misty Mountain", "Fire Opal",
            "Crimson Tide", "Ocean Spray", "Forest Canopy", "Sunshine Day", "Desert Sand",
            "Midnight Storm", "Rose Quartz", "Emerald Lake", "Lavender Field", "Citrus Sunrise"
        ];
        
        // Color palette array
        let colorCards = [];
        let savedPalettes = JSON.parse(localStorage.getItem('savedPalettes')) || [];
        
        // DOM Elements
        const paletteContainer = document.getElementById('color-palette');
        const generateBtn = document.getElementById('generate-btn');
        const saveBtn = document.getElementById('save-btn');
        const savedPalettesContainer = document.getElementById('saved-palettes-container');
        const notification = document.getElementById('notification');
        const notificationMessage = document.getElementById('notification-message');
        
        // Generate a random color
        function generateRandomColor() {
            const r = Math.floor(Math.random() * 256);
            const g = Math.floor(Math.random() * 256);
            const b = Math.floor(Math.random() * 256);
            return { r, g, b };
        }
        
        // Convert RGB to Hex
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        }
        
        // Calculate relative luminance (for determining text color)
        function getLuminance(r, g, b) {
            const a = [r, g, b].map(function (v) {
                v /= 255;
                return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
            });
            return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;
        }
        
        // Get contrasting text color
        function getContrastColor(r, g, b) {
            return getLuminance(r, g, b) > 0.5 ? '#333' : '#fff';
        }
        
        // Generate a random color name
        function getRandomColorName() {
            return colorNames[Math.floor(Math.random() * colorNames.length)];
        }
        
        // Create a color card
        function createColorCard(colorData, index) {
            const card = document.createElement('div');
            card.className = 'color-card';
            card.dataset.index = index;
            
            if (colorData.locked) {
                card.classList.add('locked');
            }
            
            card.innerHTML = `
                <div class="color-display">
                    <div class="color" style="background-color: rgb(${colorData.r}, ${colorData.g}, ${colorData.b});"></div>
                    <div class="lock${colorData.locked ? ' locked' : ''}">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                        </svg>
                    </div>
                </div>
                <div class="color-info">
                    <div class="color-name">${colorData.name}</div>
                    <div class="color-hex">${colorData.hex}</div>
                    <div class="color-rgb">RGB(${colorData.r}, ${colorData.g}, ${colorData.b})</div>
                </div>
            `;
            
            // Add event listeners
            card.querySelector('.lock').addEventListener('click', (e) => {
                e.stopPropagation();
                toggleLock(index);
            });
            
            card.addEventListener('click', () => {
                copyColor(colorData.hex, colorData.name);
            });
            
            return card;
        }
        
        // Toggle lock on a color
        function toggleLock(index) {
            colorCards[index].locked = !colorCards[index].locked;
            const card = document.querySelector(`.color-card[data-index="${index}"]`);
            const lock = card.querySelector('.lock');
            
            card.classList.toggle('locked');
            lock.classList.toggle('locked');
        }
        
        // Copy color to clipboard
        function copyColor(hex, name) {
            navigator.clipboard.writeText(hex).then(() => {
                showNotification(`${name} (${hex}) copied to clipboard!`);
            });
        }
        
        // Show notification
        function showNotification(message) {
            notificationMessage.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }
        
        // Generate a new palette
        function generatePalette() {
            // Preserve locked colors
            const preservedColors = colorCards
                .map((color, index) => color.locked ? { ...color, index } : null)
                .filter(color => color !== null);
            
            // Generate new colors for unlocked positions
            colorCards = Array(5).fill().map((_, index) => {
                // Check if this position has a locked color
                const preserved = preservedColors.find(c => c.index === index);
                
                if (preserved) {
                    return preserved;
                } else {
                    const color = generateRandomColor();
                    return {
                        r: color.r,
                        g: color.g,
                        b: color.b,
                        hex: rgbToHex(color.r, color.g, color.b),
                        name: getRandomColorName(),
                        locked: false
                    };
                }
            });
            
            // Update the UI
            updatePaletteDisplay();
        }
        
        // Update the palette display
        function updatePaletteDisplay() {
            paletteContainer.innerHTML = '';
            colorCards.forEach((color, index) => {
                const card = createColorCard(color, index);
                paletteContainer.appendChild(card);
            });
        }
        
        // Save current palette
        function saveCurrentPalette() {
            const paletteName = `Palette ${savedPalettes.length + 1}`;
            const palette = {
                id: Date.now(),
                name: paletteName,
                colors: colorCards.map(color => ({
                    r: color.r,
                    g: color.g,
                    b: color.b,
                    hex: color.hex,
                    name: color.name
                }))
            };
            
            savedPalettes.unshift(palette); // Add to the beginning
            savePalettesToStorage();
            renderSavedPalettes();
            showNotification('Palette saved successfully!');
        }
        
        // Save palettes to localStorage
        function savePalettesToStorage() {
            localStorage.setItem('savedPalettes', JSON.stringify(savedPalettes));
        }
        
        // Remove a saved palette
        function removeSavedPalette(id) {
            savedPalettes = savedPalettes.filter(palette => palette.id !== id);
            savePalettesToStorage();
            renderSavedPalettes();
            showNotification('Palette removed!');
        }
        
        // Render saved palettes
        function renderSavedPalettes() {
            savedPalettesContainer.innerHTML = '';
            
            if (savedPalettes.length === 0) {
                const emptyMessage = document.createElement('p');
                emptyMessage.textContent = 'No saved palettes yet. Save your favorites!';
                emptyMessage.style.textAlign = 'center';
                emptyMessage.style.color = '#7f8c8d';
                emptyMessage.style.width = '100%';
                savedPalettesContainer.appendChild(emptyMessage);
                return;
            }
            
            savedPalettes.forEach(palette => {
                const paletteElement = document.createElement('div');
                paletteElement.className = 'saved-palette';
                
                paletteElement.innerHTML = `
                    <div class="saved-colors">
                        ${palette.colors.map(color => `
                            <div class="saved-color" style="background-color: ${color.hex};"></div>
                        `).join('')}
                    </div>
                    <div class="saved-palette-info">
                        <div class="palette-name">${palette.name}</div>
                        <button class="remove-btn" data-id="${palette.id}">Ã—</button>
                    </div>
                `;
                
                // Add click event to copy entire palette
                paletteElement.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('remove-btn')) {
                        copyPalette(palette);
                    }
                });
                
                savedPalettesContainer.appendChild(paletteElement);
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    removeSavedPalette(parseInt(e.target.dataset.id));
                });
            });
        }
        
        // Copy a saved palette to clipboard (as hex codes)
        function copyPalette(palette) {
            const hexCodes = palette.colors.map(c => c.hex).join(', ');
            navigator.clipboard.writeText(hexCodes).then(() => {
                showNotification(`Palette "${palette.name}" copied!`);
            });
        }
        
        // Event Listeners
        generateBtn.addEventListener('click', generatePalette);
        saveBtn.addEventListener('click', saveCurrentPalette);
        
        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                generatePalette();
            }
        });
        
        // Initialize
        function init() {
            // Generate initial palette
            generatePalette();
            
            // Render saved palettes
            renderSavedPalettes();
        }
        
        // Start the app
        init();
    </script>
</body>
</html>