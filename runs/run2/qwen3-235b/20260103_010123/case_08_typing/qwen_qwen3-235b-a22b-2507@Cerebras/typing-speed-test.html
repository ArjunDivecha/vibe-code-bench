<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        .text-display {
            font-size: 18px;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        .char {
            position: relative;
        }
        .char.correct {
            color: #27ae60;
        }
        .char.incorrect {
            color: #e74c3c;
            text-decoration: underline;
        }
        .char.current {
            background-color: #ecf0f1;
            border-radius: 3px;
        }
        textarea {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            resize: none;
            font-family: inherit;
        }
        textarea:focus {
            outline: none;
            border-color: #3498db;
        }
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 18px;
        }
        .stat {
            background-color: #f0f0f0;
            padding: 10px 15px;
            border-radius: 5px;
            flex: 1;
            margin: 0 5px;
            text-align: center;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }
        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .result-container {
            text-align: center;
            margin-top: 20px;
        }
        .result-stats {
            margin-top: 15px;
            font-size: 18px;
        }
        .result-stats p {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Typing Speed Test</h1>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="accuracy">0%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="time">0s</div>
                <div class="stat-label">Time</div>
            </div>
        </div>
        
        <div class="text-display" id="text-display"></div>
        
        <textarea id="text-input" placeholder="Start typing here..." rows="5" disabled></textarea>
        
        <button id="start-btn">Start Test</button>
        
        <div class="result-container" id="result-container" style="display: none;">
            <h2>Test Complete!</h2>
            <div class="result-stats">
                <p>Final WPM: <span id="final-wpm">0</span></p>
                <p>Final Accuracy: <span id="final-accuracy">0%</span></p>
                <p>Time: <span id="final-time">0</span> seconds</p>
                <p>Characters: <span id="final-characters">0</span> correct out of <span id="final-total">0</span></p>
            </div>
        </div>
    </div>

    <script>
        // Array of text samples for the typing test
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This pangram contains every letter of the English alphabet at least once, making it perfect for typing practice and keyboard testing.",
            "Programming is the process of creating a set of instructions that tell a computer how to perform a task. Programming can be done using a variety of computer programming languages.",
            "The Internet is a global network of billions of computers and other electronic devices. With the Internet, it's possible to access almost any information, communicate with anyone else in the world, and do much more.",
            "Artificial intelligence is intelligence demonstrated by machines, in contrast to the natural intelligence displayed by humans and animals. Leading AI textbooks define the field as the study of intelligent agents.",
            "Climate change refers to long-term shifts in temperatures and weather patterns. These shifts may be natural, but since the 1800s, human activities have been the main driver of climate change, primarily due to burning fossil fuels.",
            "The human brain is the command center for the human nervous system. It receives signals from the body's sensory organs and outputs actions to the body. It also contains the consciousness of the mind.",
            "Reading is essential for a fulfilling life. Books can transport you to different worlds, teach you new skills, and help you understand different perspectives. The more you read, the more things you will know.",
            "Exercise has tremendous benefits for your mind and body. It improves your mood, boosts your health, increases your energy, and helps you live longer. Finding physical activities you enjoy is key to maintaining a routine.",
            "Learning a new language opens doors to different cultures and ways of thinking. It improves cognitive abilities, enhances career opportunities, and makes traveling more enjoyable and immersive.",
            "Photography is the art of capturing light with a camera. Whether using a smartphone or a professional DSLR, anyone can create compelling images by understanding composition, lighting, and timing."
        ];

        // DOM elements
        const textDisplay = document.getElementById('text-display');
        const textInput = document.getElementById('text-input');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const timeDisplay = document.getElementById('time');
        const startButton = document.getElementById('start-btn');
        const resultContainer = document.getElementById('result-container');
        const finalWpm = document.getElementById('final-wpm');
        const finalAccuracy = document.getElementById('final-accuracy');
        const finalTime = document.getElementById('final-time');
        const finalCharacters = document.getElementById('final-characters');
        const finalTotal = document.getElementById('final-total');

        // Variables to track typing test state
        let currentText = '';
        let startTime = null;
        let timer = null;
        let testActive = false;

        // Initialize the app
        function init() {
            selectRandomText();
            startButton.addEventListener('click', startTest);
            textInput.addEventListener('input', handleTyping);
        }

        // Select a random text from the samples
        function selectRandomText() {
            const randomIndex = Math.floor(Math.random() * textSamples.length);
            currentText = textSamples[randomIndex];
            displayText();
        }

        // Display the text with individual character spans
        function displayText() {
            textDisplay.innerHTML = '';
            for (let i = 0; i < currentText.length; i++) {
                const charSpan = document.createElement('span');
                charSpan.classList.add('char');
                charSpan.innerText = currentText[i];
                textDisplay.appendChild(charSpan);
            }
        }

        // Start the typing test
        function startTest() {
            selectRandomText();
            textInput.value = '';
            textInput.disabled = false;
            textInput.focus();
            resultContainer.style.display = 'none';
            
            // Reset stats
            wpmDisplay.innerText = '0';
            accuracyDisplay.innerText = '0%';
            timeDisplay.innerText = '0s';
            
            // Reset text styling
            const chars = textDisplay.querySelectorAll('.char');
            chars.forEach(char => {
                char.className = 'char';
            });
            chars[0].classList.add('current');
            
            // Start timer
            startTime = new Date();
            testActive = true;
            startButton.innerText = 'Restart Test';
            
            // Update timer every second
            clearInterval(timer);
            timer = setInterval(updateTimer, 1000);
        }

        // Handle typing input
        function handleTyping() {
            if (!testActive) return;
            
            const inputText = textInput.value;
            const chars = textDisplay.querySelectorAll('.char');
            
            // Reset all character classes
            chars.forEach(char => {
                char.classList.remove('correct', 'incorrect');
            });
            
            // Add classes based on user input
            for (let i = 0; i < inputText.length; i++) {
                if (i < currentText.length) {
                    if (inputText[i] === currentText[i]) {
                        chars[i].classList.add('correct');
                    } else {
                        chars[i].classList.add('incorrect');
                    }
                }
            }
            
            // Highlight current character to type
            if (inputText.length < currentText.length) {
                chars[inputText.length].classList.add('current');
            }
            
            // Calculate and update stats
            updateStats(inputText);
            
            // Check if test is complete
            if (inputText.length === currentText.length) {
                endTest();
            }
        }

        // Update timer
        function updateTimer() {
            if (!testActive) return;
            
            const currentTime = new Date();
            const elapsedSeconds = Math.floor((currentTime - startTime) / 1000);
            timeDisplay.innerText = `${elapsedSeconds}s`;
        }

        // Update WPM and accuracy stats
        function updateStats(inputText) {
            if (!startTime || inputText.length === 0) return;
            
            const currentTime = new Date();
            const elapsedMinutes = (currentTime - startTime) / 1000 / 60;
            
            // Calculate WPM (words are considered to be 5 characters on average)
            const charactersTyped = inputText.length;
            const wpm = Math.round((charactersTyped / 5) / elapsedMinutes);
            wpmDisplay.innerText = isNaN(wpm) || !isFinite(wpm) ? '0' : wpm;
            
            // Calculate accuracy
            let correctChars = 0;
            for (let i = 0; i < inputText.length; i++) {
                if (i < currentText.length && inputText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            const accuracy = inputText.length > 0 ? Math.round((correctChars / inputText.length) * 100) : 0;
            accuracyDisplay.innerText = `${accuracy}%`;
        }

        // End the test and show results
        function endTest() {
            testActive = false;
            textInput.disabled = true;
            clearInterval(timer);
            
            // Final calculations
            const endTime = new Date();
            const totalSeconds = Math.floor((endTime - startTime) / 1000);
            
            const inputText = textInput.value;
            let correctChars = 0;
            for (let i = 0; i < inputText.length; i++) {
                if (i < currentText.length && inputText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            const finalWpmCalc = Math.round((correctChars / 5) / (totalSeconds / 60));
            const finalAccuracyCalc = Math.round((correctChars / inputText.length) * 100);
            
            // Update result display
            finalWpm.innerText = finalWpmCalc;
            finalAccuracy.innerText = finalAccuracyCalc + '%';
            finalTime.innerText = totalSeconds;
            finalCharacters.innerText = correctChars;
            finalTotal.innerText = inputText.length;
            
            resultContainer.style.display = 'block';
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>