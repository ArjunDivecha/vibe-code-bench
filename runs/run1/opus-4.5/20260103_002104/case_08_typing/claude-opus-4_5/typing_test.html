<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #1a1a2e;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            min-width: 120px;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .stat-box.timer {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 10px 20px rgba(245, 87, 108, 0.3);
        }

        .stat-box.accuracy {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            box-shadow: 0 10px 20px rgba(79, 172, 254, 0.3);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 5px;
        }

        .text-display {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            font-size: 1.3em;
            line-height: 1.8;
            min-height: 120px;
            position: relative;
        }

        .text-display span {
            transition: all 0.1s ease;
        }

        .correct {
            color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .incorrect {
            color: #dc3545;
            background: rgba(220, 53, 69, 0.2);
            text-decoration: underline;
        }

        .current {
            background: #ffc107;
            border-radius: 3px;
            animation: pulse 1s infinite;
        }

        .untyped {
            color: #6c757d;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .input-area {
            width: 100%;
            padding: 20px;
            font-size: 1.2em;
            border: 3px solid #667eea;
            border-radius: 15px;
            outline: none;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .input-area:focus {
            border-color: #764ba2;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .input-area:disabled {
            background: #e9ecef;
            cursor: not-allowed;
        }

        .btn {
            display: inline-block;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            box-shadow: 0 10px 20px rgba(245, 87, 108, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(245, 87, 108, 0.4);
        }

        .button-container {
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .results-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .results-overlay.show {
            display: flex;
        }

        .results-card {
            background: white;
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .results-card h2 {
            color: #1a1a2e;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }

        .result-item .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
        }

        .result-item .label {
            color: #666;
            margin-top: 5px;
        }

        .result-item.highlight .value {
            color: #28a745;
        }

        .progress-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .message {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .message.ready {
            background: #d4edda;
            color: #155724;
        }

        .message.running {
            background: #fff3cd;
            color: #856404;
        }

        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .mode-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .mode-btn.active {
            background: #667eea;
            color: white;
        }

        .mode-btn:hover {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>
        <p class="subtitle">Test your typing speed and accuracy!</p>

        <div class="mode-selector">
            <button class="mode-btn active" data-duration="30">30 sec</button>
            <button class="mode-btn" data-duration="60">60 sec</button>
            <button class="mode-btn" data-duration="120">2 min</button>
        </div>

        <div class="stats-container">
            <div class="stat-box">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat-box timer">
                <div class="stat-value" id="timer">30</div>
                <div class="stat-label">Seconds</div>
            </div>
            <div class="stat-box accuracy">
                <div class="stat-value" id="accuracy">100%</div>
                <div class="stat-label">Accuracy</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress" style="width: 0%"></div>
        </div>

        <div class="message ready" id="message">Click the text box and start typing to begin!</div>

        <div class="text-display" id="text-display"></div>

        <textarea class="input-area" id="input-area" placeholder="Start typing here..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>

        <div class="button-container">
            <button class="btn btn-primary" id="restart-btn">üîÑ New Text</button>
            <button class="btn btn-secondary" id="reset-btn">‚èπÔ∏è Reset</button>
        </div>
    </div>

    <div class="results-overlay" id="results-overlay">
        <div class="results-card">
            <h2>üéâ Test Complete!</h2>
            <div class="results-stats">
                <div class="result-item highlight">
                    <div class="value" id="final-wpm">0</div>
                    <div class="label">Words Per Minute</div>
                </div>
                <div class="result-item">
                    <div class="value" id="final-accuracy">0%</div>
                    <div class="label">Accuracy</div>
                </div>
                <div class="result-item">
                    <div class="value" id="final-chars">0</div>
                    <div class="label">Characters Typed</div>
                </div>
                <div class="result-item">
                    <div class="value" id="final-errors">0</div>
                    <div class="label">Errors</div>
                </div>
            </div>
            <button class="btn btn-primary" id="try-again-btn">üîÑ Try Again</button>
        </div>
    </div>

    <script>
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This pangram contains every letter of the English alphabet at least once. Typing tests often use this sentence because it provides a good variety of finger movements across the keyboard.",
            "Programming is the art of telling a computer what to do through a series of instructions. Learning to code opens up endless possibilities for creating software, websites, and applications that can change the world.",
            "The Internet has revolutionized the way we communicate, work, and live. From social media to online shopping, digital technology has become an integral part of our daily lives, connecting billions of people worldwide.",
            "Space exploration represents humanity's greatest adventure. From the first moon landing to modern Mars missions, we continue to push the boundaries of what is possible, seeking to understand our place in the universe.",
            "Climate change is one of the most pressing challenges of our time. Scientists around the world are working to understand its impacts and develop solutions to protect our planet for future generations.",
            "Music has the power to evoke emotions and bring people together. Whether classical or contemporary, instrumental or vocal, melodies and rhythms have shaped cultures throughout human history.",
            "Reading books expands our minds and transports us to different worlds. Through literature, we gain new perspectives, learn about diverse experiences, and develop empathy for others.",
            "Physical exercise is essential for maintaining good health. Regular activity strengthens the heart, builds muscle, improves mental well-being, and helps prevent various diseases and conditions.",
            "Artificial intelligence is transforming industries across the globe. Machine learning algorithms can now recognize images, understand speech, and even create art, raising both exciting opportunities and ethical questions.",
            "Cooking is both an art and a science. Understanding how ingredients interact, mastering various techniques, and developing your palate can turn simple meals into extraordinary culinary experiences."
        ];

        let currentText = "";
        let currentIndex = 0;
        let errors = 0;
        let totalTyped = 0;
        let isRunning = false;
        let startTime = null;
        let timerInterval = null;
        let testDuration = 30;
        let timeRemaining = 30;

        const textDisplay = document.getElementById('text-display');
        const inputArea = document.getElementById('input-area');
        const wpmDisplay = document.getElementById('wpm');
        const timerDisplay = document.getElementById('timer');
        const accuracyDisplay = document.getElementById('accuracy');
        const progressBar = document.getElementById('progress');
        const messageEl = document.getElementById('message');
        const resultsOverlay = document.getElementById('results-overlay');
        const restartBtn = document.getElementById('restart-btn');
        const resetBtn = document.getElementById('reset-btn');
        const tryAgainBtn = document.getElementById('try-again-btn');
        const modeBtns = document.querySelectorAll('.mode-btn');

        function getRandomText() {
            const randomIndex = Math.floor(Math.random() * textSamples.length);
            return textSamples[randomIndex];
        }

        function renderText() {
            const inputValue = inputArea.value;
            let html = '';

            for (let i = 0; i < currentText.length; i++) {
                let charClass = 'untyped';
                
                if (i < inputValue.length) {
                    if (inputValue[i] === currentText[i]) {
                        charClass = 'correct';
                    } else {
                        charClass = 'incorrect';
                    }
                } else if (i === inputValue.length) {
                    charClass = 'current';
                }

                let char = currentText[i];
                if (char === ' ') {
                    char = '&nbsp;';
                }
                html += `<span class="${charClass}">${char}</span>`;
            }

            textDisplay.innerHTML = html;
        }

        function calculateWPM() {
            if (!startTime) return 0;
            const timeElapsed = (Date.now() - startTime) / 1000 / 60;
            if (timeElapsed === 0) return 0;
            const wordsTyped = inputArea.value.length / 5;
            return Math.round(wordsTyped / timeElapsed);
        }

        function calculateAccuracy() {
            if (totalTyped === 0) return 100;
            return Math.round(((totalTyped - errors) / totalTyped) * 100);
        }

        function updateStats() {
            wpmDisplay.textContent = calculateWPM();
            accuracyDisplay.textContent = calculateAccuracy() + '%';
            
            const progress = (inputArea.value.length / currentText.length) * 100;
            progressBar.style.width = Math.min(progress, 100) + '%';
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                timerDisplay.textContent = timeRemaining;

                if (timeRemaining <= 0) {
                    endTest();
                }
            }, 1000);
        }

        function startTest() {
            if (isRunning) return;
            
            isRunning = true;
            startTime = Date.now();
            messageEl.textContent = "‚è±Ô∏è Test in progress... Keep typing!";
            messageEl.className = "message running";
            startTimer();
        }

        function endTest() {
            isRunning = false;
            clearInterval(timerInterval);
            inputArea.disabled = true;

            document.getElementById('final-wpm').textContent = calculateWPM();
            document.getElementById('final-accuracy').textContent = calculateAccuracy() + '%';
            document.getElementById('final-chars').textContent = inputArea.value.length;
            document.getElementById('final-errors').textContent = errors;

            resultsOverlay.classList.add('show');
        }

        function resetTest(newText = false) {
            clearInterval(timerInterval);
            isRunning = false;
            startTime = null;
            currentIndex = 0;
            errors = 0;
            totalTyped = 0;
            timeRemaining = testDuration;

            if (newText) {
                currentText = getRandomText();
            }

            inputArea.value = '';
            inputArea.disabled = false;
            timerDisplay.textContent = testDuration;
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            progressBar.style.width = '0%';
            messageEl.textContent = "Click the text box and start typing to begin!";
            messageEl.className = "message ready";
            resultsOverlay.classList.remove('show');

            renderText();
            inputArea.focus();
        }

        inputArea.addEventListener('input', (e) => {
            if (!isRunning && inputArea.value.length === 1) {
                startTest();
            }

            const inputValue = inputArea.value;
            const lastIndex = inputValue.length - 1;

            if (inputValue.length > totalTyped) {
                totalTyped = inputValue.length;
                if (inputValue[lastIndex] !== currentText[lastIndex]) {
                    errors++;
                }
            }

            renderText();
            updateStats();

            if (inputValue.length >= currentText.length) {
                endTest();
            }
        });

        inputArea.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                e.preventDefault();
            }
        });

        restartBtn.addEventListener('click', () => resetTest(true));
        resetBtn.addEventListener('click', () => resetTest(false));
        tryAgainBtn.addEventListener('click', () => resetTest(true));

        modeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                modeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                testDuration = parseInt(btn.dataset.duration);
                resetTest(false);
            });
        });

        // Initialize
        currentText = getRandomText();
        renderText();
    </script>
</body>
</html>