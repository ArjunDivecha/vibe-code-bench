<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #1a1a2e;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 20px;
            background: #f0f0f0;
            border-radius: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #0f3460;
        }

        .stat-value.highlight {
            color: #e94560;
        }

        .text-display {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            font-size: 1.3rem;
            line-height: 1.8;
            font-family: 'Courier New', monospace;
            min-height: 150px;
            border: 3px solid #e0e0e0;
            position: relative;
            overflow-wrap: break-word;
        }

        .text-display.active {
            border-color: #0f3460;
        }

        .char {
            padding: 2px 1px;
            border-radius: 3px;
        }

        .char.correct {
            color: #00c853;
            background: rgba(0, 200, 83, 0.1);
        }

        .char.incorrect {
            color: #ff1744;
            background: rgba(255, 23, 68, 0.1);
            text-decoration: underline;
        }

        .char.current {
            background: #ffd600;
            animation: blink 1s infinite;
        }

        .char.pending {
            color: #999;
        }

        @keyframes blink {
            0%, 50% { background: #ffd600; }
            51%, 100% { background: #ffea00; }
        }

        .input-area {
            margin-bottom: 25px;
        }

        #typing-input {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            outline: none;
            transition: border-color 0.3s;
        }

        #typing-input:focus {
            border-color: #0f3460;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        button {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: #0f3460;
            color: white;
        }

        .btn-primary:hover {
            background: #16213e;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e94560;
            color: white;
        }

        .btn-secondary:hover {
            background: #c73e54;
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal h2 {
            color: #1a1a2e;
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .final-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .final-stat {
            padding: 20px;
            background: #f0f0f0;
            border-radius: 15px;
        }

        .final-stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #0f3460;
        }

        .final-stat-label {
            font-size: 0.85rem;
            color: #666;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0f3460, #e94560);
            border-radius: 4px;
            transition: width 0.3s;
            width: 0%;
        }

        .timer-warning {
            animation: pulse 0.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { color: #e94560; }
            50% { color: #ff6b6b; }
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .stat-value {
                font-size: 1.8rem;
            }

            .text-display {
                font-size: 1rem;
                padding: 15px;
            }

            .final-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-label">Time</div>
                <div class="stat-value" id="timer">30</div>
            </div>
            <div class="stat">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
        </div>

        <div class="text-display" id="text-display"></div>

        <div class="input-area">
            <input type="text" id="typing-input" placeholder="Start typing here..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        </div>

        <div class="button-container">
            <button class="btn-primary" id="new-text-btn">New Text</button>
            <button class="btn-secondary" id="restart-btn">Restart</button>
        </div>
    </div>

    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>üéâ Test Complete!</h2>
            <div class="final-stats">
                <div class="final-stat">
                    <div class="final-stat-value" id="final-wpm">0</div>
                    <div class="final-stat-label">Words Per Minute</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-value" id="final-accuracy">0%</div>
                    <div class="final-stat-label">Accuracy</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-value" id="final-chars">0</div>
                    <div class="final-stat-label">Characters</div>
                </div>
            </div>
            <div class="button-container">
                <button class="btn-primary" id="modal-restart">Try Again</button>
                <button class="btn-secondary" id="modal-new-text">Different Text</button>
            </div>
        </div>
    </div>

    <script>
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This classic sentence contains every letter of the alphabet and has been used for typing practice for generations.",
            "Programming is the art of telling a computer what to do. It requires patience, logic, and creativity. Every great programmer was once a beginner who refused to give up.",
            "In the heart of the city, skyscrapers reach toward the clouds while busy streets below pulse with the energy of millions of people going about their daily lives.",
            "The ocean waves crashed against the rocky shore as the sun began to set, painting the sky in brilliant shades of orange, pink, and purple that reflected on the water.",
            "Technology has transformed the way we live, work, and communicate. From smartphones to artificial intelligence, innovation continues to shape our future in unexpected ways.",
            "A good book can transport you to different worlds, introduce you to fascinating characters, and expand your imagination beyond the boundaries of everyday life.",
            "The ancient forest stood silent and majestic, its towering trees having witnessed centuries of history. Birds sang melodies that echoed through the verdant canopy.",
            "Success is not final, failure is not fatal: it is the courage to continue that counts. Every mistake is a lesson, and every setback is an opportunity to grow stronger.",
            "Coffee shops have become modern gathering places where people work, socialize, and enjoy the rich aroma of freshly brewed coffee while the world passes by outside.",
            "The universe is vast and mysterious, filled with countless stars, galaxies, and phenomena that challenge our understanding and inspire us to explore the unknown."
        ];

        let currentText = "";
        let currentIndex = 0;
        let startTime = null;
        let timerInterval = null;
        let timeLeft = 30;
        let isTestActive = false;
        let correctChars = 0;
        let totalChars = 0;
        let currentTextIndex = 0;

        const textDisplay = document.getElementById('text-display');
        const typingInput = document.getElementById('typing-input');
        const timerDisplay = document.getElementById('timer');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const progressFill = document.getElementById('progress-fill');
        const resultsModal = document.getElementById('results-modal');
        const finalWpm = document.getElementById('final-wpm');
        const finalAccuracy = document.getElementById('final-accuracy');
        const finalChars = document.getElementById('final-chars');

        function initTest() {
            currentText = textSamples[currentTextIndex];
            currentIndex = 0;
            startTime = null;
            timeLeft = 30;
            isTestActive = false;
            correctChars = 0;
            totalChars = 0;

            clearInterval(timerInterval);
            timerDisplay.textContent = timeLeft;
            timerDisplay.classList.remove('timer-warning');
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            progressFill.style.width = '0%';
            typingInput.value = '';
            typingInput.disabled = false;
            typingInput.focus();
            textDisplay.classList.remove('active');

            renderText();
        }

        function renderText() {
            textDisplay.innerHTML = '';
            for (let i = 0; i < currentText.length; i++) {
                const span = document.createElement('span');
                span.className = 'char';
                span.textContent = currentText[i];
                
                if (i < currentIndex) {
                    span.classList.add('pending');
                } else if (i === currentIndex) {
                    span.classList.add('current');
                } else {
                    span.classList.add('pending');
                }
                
                textDisplay.appendChild(span);
            }
        }

        function startTest() {
            if (!isTestActive) {
                isTestActive = true;
                startTime = Date.now();
                textDisplay.classList.add('active');
                
                timerInterval = setInterval(() => {
                    timeLeft--;
                    timerDisplay.textContent = timeLeft;
                    
                    if (timeLeft <= 5) {
                        timerDisplay.classList.add('timer-warning');
                    }
                    
                    updateStats();
                    
                    if (timeLeft <= 0) {
                        endTest();
                    }
                }, 1000);
            }
        }

        function updateStats() {
            const elapsed = (Date.now() - startTime) / 1000 / 60; // in minutes
            const wordsTyped = correctChars / 5; // standard: 5 chars = 1 word
            const wpm = elapsed > 0 ? Math.round(wordsTyped / elapsed) : 0;
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            
            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = accuracy + '%';
            
            const progress = (currentIndex / currentText.length) * 100;
            progressFill.style.width = progress + '%';
        }

        function updateTextDisplay() {
            const chars = textDisplay.querySelectorAll('.char');
            const inputValue = typingInput.value;
            
            for (let i = 0; i < chars.length; i++) {
                chars[i].classList.remove('correct', 'incorrect', 'current');
                
                if (i < inputValue.length) {
                    if (inputValue[i] === currentText[i]) {
                        chars[i].classList.add('correct');
                    } else {
                        chars[i].classList.add('incorrect');
                    }
                } else if (i === inputValue.length) {
                    chars[i].classList.add('current');
                } else {
                    chars[i].classList.add('pending');
                }
            }
            
            currentIndex = inputValue.length;
        }

        function endTest() {
            clearInterval(timerInterval);
            isTestActive = false;
            typingInput.disabled = true;
            textDisplay.classList.remove('active');
            
            const elapsed = 30 / 60; // 30 seconds in minutes
            const wordsTyped = correctChars / 5;
            const wpm = Math.round(wordsTyped / elapsed);
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 0;
            
            finalWpm.textContent = wpm;
            finalAccuracy.textContent = accuracy + '%';
            finalChars.textContent = correctChars;
            
            resultsModal.classList.add('show');
        }

        typingInput.addEventListener('input', (e) => {
            if (!isTestActive && typingInput.value.length > 0) {
                startTest();
            }
            
            const inputValue = typingInput.value;
            
            // Count correct and total characters
            correctChars = 0;
            totalChars = inputValue.length;
            
            for (let i = 0; i < inputValue.length && i < currentText.length; i++) {
                if (inputValue[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            updateTextDisplay();
            updateStats();
            
            // Check if text is completed
            if (inputValue.length >= currentText.length) {
                endTest();
            }
        });

        // Prevent paste
        typingInput.addEventListener('paste', (e) => {
            e.preventDefault();
        });

        document.getElementById('restart-btn').addEventListener('click', initTest);
        document.getElementById('new-text-btn').addEventListener('click', () => {
            currentTextIndex = (currentTextIndex + 1) % textSamples.length;
            initTest();
        });
        document.getElementById('modal-restart').addEventListener('click', () => {
            resultsModal.classList.remove('show');
            initTest();
        });
        document.getElementById('modal-new-text').addEventListener('click', () => {
            resultsModal.classList.remove('show');
            currentTextIndex = (currentTextIndex + 1) % textSamples.length;
            initTest();
        });

        // Close modal on outside click
        resultsModal.addEventListener('click', (e) => {
            if (e.target === resultsModal) {
                resultsModal.classList.remove('show');
            }
        });

        // Initialize on load
        initTest();
    </script>
</body>
</html>