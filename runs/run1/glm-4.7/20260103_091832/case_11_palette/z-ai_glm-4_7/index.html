<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        .container {
            display: flex;
            height: 100vh;
            width: 100%;
        }

        .color-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.5s ease, flex 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .color-column:hover {
            flex: 1.3;
        }

        .color-column:hover .copy-hint {
            opacity: 1;
        }

        .color-info {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease, opacity 0.3s ease;
            max-width: 200px;
        }

        .color-column:hover .color-info {
            transform: scale(1.05);
        }

        .hex-code {
            font-size: 1.5rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 8px;
            color: #333;
            letter-spacing: 1px;
        }

        .rgb-code {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 8px;
        }

        .color-name {
            font-size: 0.85rem;
            color: #888;
            font-style: italic;
            margin-bottom: 12px;
        }

        .lock-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
            font-size: 1.5rem;
        }

        .lock-btn:hover {
            background: rgba(0, 0, 0, 0.1);
            transform: scale(1.1);
        }

        .lock-btn.locked {
            color: #e74c3c;
        }

        .lock-btn.unlocked {
            color: #ccc;
        }

        .copy-hint {
            position: absolute;
            bottom: 80px;
            font-size: 0.8rem;
            color: rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            pointer-events: none;
        }

        .header > * {
            pointer-events: auto;
        }

        .title {
            background: rgba(255, 255, 255, 0.95);
            padding: 12px 24px;
            border-radius: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .title h1 {
            font-size: 1.2rem;
            color: #333;
            font-weight: 600;
        }

        .title p {
            font-size: 0.75rem;
            color: #666;
            margin-top: 4px;
        }

        .controls {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-generate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-save {
            background: white;
            color: #333;
        }

        .btn-save:hover {
            background: #f8f8f8;
            transform: translateY(-2px);
        }

        .btn-favorites {
            background: white;
            color: #333;
            position: relative;
        }

        .btn-favorites:hover {
            background: #f8f8f8;
            transform: translateY(-2px);
        }

        .favorites-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #e74c3c;
            color: white;
            font-size: 0.7rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 0.95rem;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* Favorites panel */
        .favorites-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 350px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.15);
            transition: right 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 200;
            overflow-y: auto;
            padding: 20px;
        }

        .favorites-panel.open {
            right: 0;
        }

        .favorites-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .favorites-header h2 {
            font-size: 1.3rem;
            color: #333;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #333;
        }

        .favorite-item {
            background: #f8f8f8;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .favorite-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .favorite-colors {
            display: flex;
            height: 50px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .favorite-color {
            flex: 1;
            transition: flex 0.3s ease;
        }

        .favorite-color:hover {
            flex: 1.5;
        }

        .favorite-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .favorite-date {
            font-size: 0.75rem;
            color: #999;
        }

        .delete-favorite {
            background: none;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            font-size: 0.85rem;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .delete-favorite:hover {
            background: rgba(231, 76, 60, 0.1);
        }

        .load-favorite {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 6px 14px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .load-favorite:hover {
            transform: scale(1.05);
        }

        .empty-favorites {
            text-align: center;
            color: #999;
            padding: 40px 20px;
        }

        .empty-favorites svg {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            opacity: 0.3;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            z-index: 150;
        }

        .overlay.show {
            opacity: 1;
            visibility: visible;
        }

        /* Keyboard hint */
        .keyboard-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.8rem;
            color: #666;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .keyboard-hint kbd {
            background: #333;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-right: 5px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .color-column {
                min-height: 20vh;
                flex-direction: row;
                padding: 0 20px;
            }

            .color-column:hover {
                flex: 1.2;
            }

            .color-info {
                display: flex;
                align-items: center;
                gap: 15px;
                padding: 10px 15px;
                max-width: none;
            }

            .color-name {
                display: none;
            }

            .hex-code {
                font-size: 1.1rem;
                margin-bottom: 0;
            }

            .rgb-code {
                display: none;
            }

            .copy-hint {
                display: none;
            }

            .header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }

            .favorites-panel {
                width: 100%;
                right: -100%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">
            <h1>üé® Color Palette Generator</h1>
            <p>Create beautiful color combinations</p>
        </div>
        <div class="controls">
            <button class="btn btn-favorites" onclick="toggleFavorites()">
                ‚ù§Ô∏è Favorites
                <span class="favorites-count" id="favoritesCount">0</span>
            </button>
            <button class="btn btn-save" onclick="savePalette()">üíæ Save</button>
            <button class="btn btn-generate" onclick="generatePalette()">‚ú® Generate</button>
        </div>
    </div>

    <div class="container" id="paletteContainer">
        <!-- Color columns will be generated here -->
    </div>

    <div class="keyboard-hint">
        Press <kbd>Spacebar</kbd> to generate new palette
    </div>

    <div class="toast" id="toast"></div>

    <div class="overlay" id="overlay" onclick="toggleFavorites()"></div>

    <div class="favorites-panel" id="favoritesPanel">
        <div class="favorites-header">
            <h2>‚ù§Ô∏è Saved Palettes</h2>
            <button class="close-btn" onclick="toggleFavorites()">√ó</button>
        </div>
        <div id="favoritesList"></div>
    </div>

    <script>
        // Color name database - common colors with their hex values
        const colorNames = [
            { hex: '#FF0000', name: 'Red' },
            { hex: '#00FF00', name: 'Lime' },
            { hex: '#0000FF', name: 'Blue' },
            { hex: '#FFFF00', name: 'Yellow' },
            { hex: '#00FFFF', name: 'Cyan' },
            { hex: '#FF00FF', name: 'Magenta' },
            { hex: '#C0C0C0', name: 'Silver' },
            { hex: '#808080', name: 'Gray' },
            { hex: '#800000', name: 'Maroon' },
            { hex: '#808000', name: 'Olive' },
            { hex: '#008000', name: 'Green' },
            { hex: '#800080', name: 'Purple' },
            { hex: '#008080', name: 'Teal' },
            { hex: '#000080', name: 'Navy' },
            { hex: '#FFA500', name: 'Orange' },
            { hex: '#FFC0CB', name: 'Pink' },
            { hex: '#A52A2A', name: 'Brown' },
            { hex: '#FFD700', name: 'Gold' },
            { hex: '#F5DEB3', name: 'Wheat' },
            { hex: '#DDA0DD', name: 'Plum' },
            { hex: '#98FB98', name: 'Pale Green' },
            { hex: '#AFEEEE', name: 'Pale Turquoise' },
            { hex: '#DB7093', name: 'Pale Violet Red' },
            { hex: '#FFEFD5', name: 'Papaya Whip' },
            { hex: '#FFDAB9', name: 'Peach Puff' },
            { hex: '#CD853F', name: 'Peru' },
            { hex: '#FFC0CB', name: 'Pink' },
            { hex: '#DDA0DD', name: 'Plum' },
            { hex: '#B22222', name: 'Fire Brick' },
            { hex: '#FA8072', name: 'Salmon' },
            { hex: '#E9967A', name: 'Dark Salmon' },
            { hex: '#F08080', name: 'Light Coral' },
            { hex: '#CD5C5C', name: 'Indian Red' },
            { hex: '#DC143C', name: 'Crimson' },
            { hex: '#B03060', name: 'Maroon' },
            { hex: '#FF6347', name: 'Tomato' },
            { hex: '#FF4500', name: 'Orange Red' },
            { hex: '#FF8C00', name: 'Dark Orange' },
            { hex: '#FFA500', name: 'Orange' },
            { hex: '#FFD700', name: 'Gold' },
            { hex: '#FFFF00', name: 'Yellow' },
            { hex: '#ADFF2F', name: 'Green Yellow' },
            { hex: '#7FFF00', name: 'Chartreuse' },
            { hex: '#7CFC00', name: 'Lawn Green' },
            { hex: '#00FF00', name: 'Lime' },
            { hex: '#32CD32', name: 'Lime Green' },
            { hex: '#00FA9A', name: 'Medium Spring Green' },
            { hex: '#00FF7F', name: 'Spring Green' },
            { hex: '#3CB371', name: 'Medium Sea Green' },
            { hex: '#2E8B57', name: 'Sea Green' },
            { hex: '#228B22', name: 'Forest Green' },
            { hex: '#008000', name: 'Green' },
            { hex: '#006400', name: 'Dark Green' },
            { hex: '#9ACD32', name: 'Yellow Green' },
            { hex: '#6B8E23', name: 'Olive Drab' },
            { hex: '#808000', name: 'Olive' },
            { hex: '#556B2F', name: 'Dark Olive Green' },
            { hex: '#66CDAA', name: 'Medium Aquamarine' },
            { hex: '#8FBC8F', name: 'Dark Sea Green' },
            { hex: '#2E8B57', name: 'Sea Green' },
            { hex: '#3CB371', name: 'Medium Sea Green' },
            { hex: '#20B2AA', name: 'Light Sea Green' },
            { hex: '#98FB98', name: 'Pale Green' },
            { hex: '#00FA9A', name: 'Medium Spring Green' },
            { hex: '#00FF7F', name: 'Spring Green' },
            { hex: '#7FFFD4', name: 'Aquamarine' },
            { hex: '#40E0D0', name: 'Turquoise' },
            { hex: '#48D1CC', name: 'Medium Turquoise' },
            { hex: '#00CED1', name: 'Dark Turquoise' },
            { hex: '#00FFFF', name: 'Cyan' },
            { hex: '#E0FFFF', name: 'Light Cyan' },
            { hex: '#008B8B', name: 'Dark Cyan' },
            { hex: '#008080', name: 'Teal' },
            { hex: '#5F9EA0', name: 'Cadet Blue' },
            { hex: '#B0C4DE', name: 'Light Steel Blue' },
            { hex: '#ADD8E6', name: 'Light Blue' },
            { hex: '#87CEEB', name: 'Sky Blue' },
            { hex: '#87CEFA', name: 'Light Sky Blue' },
            { hex: '#00BFFF', name: 'Deep Sky Blue' },
            { hex: '#1E90FF', name: 'Dodger Blue' },
            { hex: '#6495ED', name: 'Cornflower Blue' },
            { hex: '#4169E1', name: 'Royal Blue' },
            { hex: '#0000FF', name: 'Blue' },
            { hex: '#0000CD', name: 'Medium Blue' },
            { hex: '#00008B', name: 'Dark Blue' },
            { hex: '#000080', name: 'Navy' },
            { hex: '#191970', name: 'Midnight Blue' },
            { hex: '#FFFFFF', name: 'White' },
            { hex: '#FFFAFA', name: 'Snow' },
            { hex: '#F0FFF0', name: 'Honeydew' },
            { hex: '#F5FFFA', name: 'Mint Cream' },
            { hex: '#F0FFFF', name: 'Azure' },
            { hex: '#F0F8FF', name: 'Alice Blue' },
            { hex: '#F8F8FF', name: 'Ghost White' },
            { hex: '#FFF5EE', name: 'Seashell' },
            { hex: '#FFF0F5', name: 'Lavender Blush' },
            { hex: '#FFE4E1', name: 'Misty Rose' },
            { hex: '#FFDAB9', name: 'Peach Puff' },
            { hex: '#FFE4C4', name: 'Bisque' },
            { hex: '#FFDEAD', name: 'Navajo White' },
            { hex: '#F5DEB3', name: 'Wheat' },
            { hex: '#DEB887', name: 'Burlywood' },
            { hex: '#D2B48C', name: 'Tan' },
            { hex: '#BC8F8F', name: 'Rosy Brown' },
            { hex: '#F4A460', name: 'Sandy Brown' },
            { hex: '#DAA520', name: 'Goldenrod' },
            { hex: '#B8860B', name: 'Dark Goldenrod' },
            { hex: '#CD853F', name: 'Peru' },
            { hex: '#D2691E', name: 'Chocolate' },
            { hex: '#8B4513', name: 'Saddle Brown' },
            { hex: '#A0522D', name: 'Sienna' },
            { hex: '#804000', name: 'Brown' },
            { hex: '#8B0000', name: 'Dark Red' },
            { hex: '#800000', name: 'Maroon' },
            { hex: '#A52A2A', name: 'Brown' },
            { hex: '#B22222', name: 'Fire Brick' },
            { hex: '#DC143C', name: 'Crimson' },
            { hex: '#FF0000', name: 'Red' },
            { hex: 'FF1493', name: 'Deep Pink' },
            { hex: '#FF69B4', name: 'Hot Pink' },
            { hex: '#FFB6C1', name: 'Light Pink' },
            { hex: '#FFC0CB', name: 'Pink' },
            { hex: '#DB7093', name: 'Pale Violet Red' },
            { hex: '#C71585', name: 'Medium Violet Red' },
            { hex: '#FF00FF', name: 'Magenta' },
            { hex: '#8B008B', name: 'Dark Magenta' },
            { hex: '#800080', name: 'Purple' },
            { hex: '#9400D3', name: 'Dark Violet' },
            { hex: '#8A2BE2', name: 'Blue Violet' },
            { hex: '#9370DB', name: 'Medium Purple' },
            { hex: '#7B68EE', name: 'Medium Slate Blue' },
            { hex: '#6A5ACD', name: 'Slate Blue' },
            { hex: '#483D8B', name: 'Dark Slate Blue' },
            { hex: '#E6E6FA', name: 'Lavender' },
            { hex: '#FFF8DC', name: 'Cornsilk' },
            { hex: '#FFFAF0', name: 'Floral White' },
            { hex: '#FFFFF0', name: 'Ivory' },
            { hex: '#FDF5E6', name: 'Old Lace' },
            { hex: '#FAF0E6', name: 'Linen' },
            { hex: '#FAEBD7', name: 'Antique White' },
            { hex: '#FFEFDB', name: 'Blanched Almond' },
            { hex: '#FFEBCD', name: 'Blanched Almond' },
            { hex: '#FFE4B5', name: 'Moccasin' },
            { hex: '#FFDAB9', name: 'Peach Puff' },
            { hex: '#EEE8AA', name: 'Pale Goldenrod' },
            { hex: '#F0E68C', name: 'Khaki' },
            { hex: '#BDB76B', name: 'Dark Khaki' },
            { hex: '#FFFACD', name: 'Lemon Chiffon' },
            { hex: '#FFF8DC', name: 'Cornsilk' },
            { hex: '#FFFFE0', name: 'Light Yellow' },
            { hex: '#F5F5DC', name: 'Beige' },
            { hex: '#FAFAD2', name: 'Light Goldenrod' },
            { hex: '#GFFFAF0', name: 'Honeydew' }
        ];

        let currentPalette = [];
        let lockedColors = [false, false, false, false, false];

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            generatePalette();
            updateFavoritesCount();
        });

        // Spacebar to generate
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && !e.target.matches('input, textarea')) {
                e.preventDefault();
                generatePalette();
            }
            if (e.code === 'Escape') {
                const panel = document.getElementById('favoritesPanel');
                if (panel.classList.contains('open')) {
                    toggleFavorites();
                }
            }
        });

        function generateRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function colorDistance(color1, color2) {
            const rgb1 = hexToRgb(color1);
            const rgb2 = hexToRgb(color2);
            return Math.sqrt(
                Math.pow(rgb1.r - rgb2.r, 2) +
                Math.pow(rgb1.g - rgb2.g, 2) +
                Math.pow(rgb1.b - rgb2.b, 2)
            );
        }

        function getClosestColorName(hex) {
            let closest = colorNames[0];
            let minDistance = colorDistance(hex, closest.hex);
            
            for (const color of colorNames) {
                const distance = colorDistance(hex, color.hex);
                if (distance < minDistance) {
                    minDistance = distance;
                    closest = color;
                }
            }
            
            return minDistance < 100 ? closest.name : 'Custom Color';
        }

        function getContrastColor(hex) {
            const rgb = hexToRgb(hex);
            const luminance = (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255;
            return luminance > 0.5 ? '#333' : '#fff';
        }

        function generatePalette() {
            const container = document.getElementById('paletteContainer');
            container.innerHTML = '';

            for (let i = 0; i < 5; i++) {
                const color = lockedColors[i] ? currentPalette[i] : generateRandomColor();
                currentPalette[i] = color;

                const column = document.createElement('div');
                column.className = 'color-column';
                column.style.backgroundColor = color;
                column.onclick = () => copyToClipboard(color);

                const rgb = hexToRgb(color);
                const colorName = getClosestColorName(color);
                const contrastColor = getContrastColor(color);

                column.innerHTML = `
                    <div class="color-info" style="color: ${contrastColor === '#fff' ? '#333' : '#333'}">
                        <div class="hex-code">${color}</div>
                        <div class="rgb-code">rgb(${rgb.r}, ${rgb.g}, ${rgb.b})</div>
                        <div class="color-name">${colorName}</div>
                        <button class="lock-btn ${lockedColors[i] ? 'locked' : 'unlocked'}" 
                                onclick="event.stopPropagation(); toggleLock(${i})">
                            ${lockedColors[i] ? 'üîí' : 'üîì'}
                        </button>
                    </div>
                    <div class="copy-hint" style="color: ${contrastColor}">Click to copy</div>
                `;

                container.appendChild(column);
            }
        }

        function toggleLock(index) {
            lockedColors[index] = !lockedColors[index];
            generatePalette();
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(`Copied ${text} to clipboard!`);
            }).catch(() => {
                // Fallback
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast(`Copied ${text} to clipboard!`);
            });
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        function savePalette() {
            const favorites = getFavorites();
            const palette = {
                colors: [...currentPalette],
                date: new Date().toISOString()
            };
            favorites.unshift(palette);
            localStorage.setItem('colorPalettes', JSON.stringify(favorites));
            updateFavoritesCount();
            showToast('Palette saved to favorites! ‚ù§Ô∏è');
        }

        function getFavorites() {
            const stored = localStorage.getItem('colorPalettes');
            return stored ? JSON.parse(stored) : [];
        }

        function updateFavoritesCount() {
            const count = getFavorites().length;
            document.getElementById('favoritesCount').textContent = count;
        }

        function toggleFavorites() {
            const panel = document.getElementById('favoritesPanel');
            const overlay = document.getElementById('overlay');
            panel.classList.toggle('open');
            overlay.classList.toggle('show');
            
            if (panel.classList.contains('open')) {
                renderFavorites();
            }
        }

        function renderFavorites() {
            const favorites = getFavorites();
            const list = document.getElementById('favoritesList');

            if (favorites.length === 0) {
                list.innerHTML = `
                    <div class="empty-favorites">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                        <p>No saved palettes yet</p>
                        <p style="font-size: 0.85rem; margin-top: 8px;">Click "Save" to add a palette</p>
                    </div>
                `;
                return;
            }

            list.innerHTML = favorites.map((fav, index) => {
                const date = new Date(fav.date).toLocaleDateString('en-US', {
                    month: 'short',
                    day: 'numeric',
                    year: 'numeric'
                });

                return `
                    <div class="favorite-item">
                        <div class="favorite-colors">
                            ${fav.colors.map(c => `<div class="favorite-color" style="background-color: ${c}" title="${c}"></div>`).join('')}
                        </div>
                        <div class="favorite-actions">
                            <span class="favorite-date">${date}</span>
                            <div style="display: flex; gap: 8px;">
                                <button class="load-favorite" onclick="loadFavorite(${index})">Load</button>
                                <button class="delete-favorite" onclick="deleteFavorite(${index})">Delete</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadFavorite(index) {
            const favorites = getFavorites();
            const palette = favorites[index];
            currentPalette = [...palette.colors];
            lockedColors = [false, false, false, false, false];
            generatePalette();
            toggleFavorites();
            showToast('Palette loaded! ‚ú®');
        }

        function deleteFavorite(index) {
            const favorites = getFavorites();
            favorites.splice(index, 1);
            localStorage.setItem('colorPalettes', JSON.stringify(favorites));
            updateFavoritesCount();
            renderFavorites();
            showToast('Palette deleted');
        }
    </script>
</body>
</html>