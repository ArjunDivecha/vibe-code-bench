<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .text-display {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 25px;
            font-family: 'Courier New', monospace;
            min-height: 150px;
            position: relative;
            user-select: none;
        }

        .text-display .char {
            padding: 2px 0;
            border-radius: 3px;
        }

        .text-display .char.correct {
            color: #28a745;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .text-display .char.incorrect {
            color: #dc3545;
            background-color: rgba(220, 53, 69, 0.1);
            text-decoration: underline;
        }

        .text-display .char.current {
            background-color: #667eea;
            color: white;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.5; }
        }

        .text-display .char.pending {
            color: #adb5bd;
        }

        .input-area {
            margin-bottom: 25px;
        }

        #textInput {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 3px solid #e9ecef;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            outline: none;
            transition: border-color 0.3s;
            resize: none;
            height: 120px;
        }

        #textInput:focus {
            border-color: #667eea;
        }

        #textInput:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        button {
            padding: 15px 30px;
            font-size: 1rem;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e9ecef;
            color: #495057;
        }

        .btn-secondary:hover {
            background: #dee2e6;
            transform: translateY(-2px);
        }

        .timer-option {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .timer-option label {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }

        .timer-option input[type="radio"] {
            cursor: pointer;
        }

        .results-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .results-modal.show {
            display: flex;
        }

        .results-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .results-content h2 {
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-stat {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .result-stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .result-stat-label {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            margin-top: 5px;
        }

        .wpm-excellent { color: #28a745; }
        .wpm-good { color: #17a2b8; }
        .wpm-average { color: #ffc107; }
        .wpm-slow { color: #dc3545; }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>

        <div class="timer-option">
            <label>
                <input type="radio" name="timer" value="30" checked> 30 seconds
            </label>
            <label>
                <input type="radio" name="timer" value="60"> 60 seconds
            </label>
            <label>
                <input type="radio" name="timer" value="0"> No limit
            </label>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-label">Time</div>
                <div class="stat-value" id="timer">30</div>
            </div>
            <div class="stat">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
            <div class="stat">
                <div class="stat-label">Characters</div>
                <div class="stat-value" id="chars">0/0</div>
            </div>
        </div>

        <div class="text-display" id="textDisplay"></div>

        <div class="input-area">
            <textarea id="textInput" placeholder="Click here and start typing..." autofocus></textarea>
        </div>

        <div class="controls">
            <button class="btn-primary" id="restartBtn">üîÑ New Text</button>
            <button class="btn-secondary" id="resetBtn">‚èÆÔ∏è Reset</button>
        </div>
    </div>

    <div class="results-modal" id="resultsModal">
        <div class="results-content">
            <h2>üéâ Test Complete!</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <div class="result-stat-value" id="finalWpm">0</div>
                    <div class="result-stat-label">WPM</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="finalAccuracy">0%</div>
                    <div class="result-stat-label">Accuracy</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="finalTime">0s</div>
                    <div class="result-stat-label">Time</div>
                </div>
            </div>
            <p id="wpmMessage" style="margin-bottom: 20px; color: #666;"></p>
            <button class="btn-primary" id="tryAgainBtn">üöÄ Try Again</button>
        </div>
    </div>

    <script>
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This classic sentence contains every letter of the alphabet and has been used for typing practice for generations. Mastering this sentence is the first step to becoming a typing pro.",
            "In the heart of the bustling city, skyscrapers towered above the streets like giants of steel and glass. People hurried along the sidewalks, their lives intertwining in a complex dance of ambition and dreams. The city never slept, always alive with energy.",
            "Programming is the art of telling a computer what to do. It requires logical thinking, creativity, and patience. Every line of code is a step towards building something amazing. The best programmers are those who never stop learning and improving their craft.",
            "The ocean stretched out endlessly before her, its waves crashing against the shore with a rhythmic melody. She closed her eyes and breathed in the salty air, feeling at peace. The sea had always been her sanctuary, a place where she could think clearly.",
            "Technology has transformed our lives in countless ways. From smartphones to artificial intelligence, innovation continues to push the boundaries of what's possible. Yet, amidst all this progress, human connection remains the most valuable thing we have.",
            "Once upon a time, in a land far away, there lived a brave knight who fought dragons and rescued princesses. His adventures were legendary, told and retold in taverns across the kingdom. But his greatest victory was finding true love.",
            "The library was her favorite place in the world. Rows of books lined every wall, their spines promising countless adventures and knowledge. She could spend hours there, lost in stories of distant lands and learning about everything from science to history.",
            "Coffee shops have become modern-day meeting places where ideas are born and friendships are forged. The aroma of freshly brewed coffee fills the air as people work on laptops, chat with friends, or simply enjoy a moment of peace with their favorite drink.",
            "Music has the power to transcend language and culture. A melody can make you smile, cry, or dance without words. It brings people together at concerts and festivals, creating memories that last a lifetime. Everyone has a song that speaks to their soul.",
            "The mountains stood majestically against the sky, their peaks covered in snow. Hiking trails wound through forests and meadows, offering breathtaking views at every turn. Nature had a way of putting everything into perspective, reminding us of life's simple beauty."
        ];

        let currentText = "";
        let timerInterval = null;
        let timeLeft = 30;
        let timeElapsed = 0;
        let isStarted = false;
        let isFinished = false;
        let selectedDuration = 30;

        const textDisplay = document.getElementById('textDisplay');
        const textInput = document.getElementById('textInput');
        const timerDisplay = document.getElementById('timer');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const charsDisplay = document.getElementById('chars');
        const restartBtn = document.getElementById('restartBtn');
        const resetBtn = document.getElementById('resetBtn');
        const resultsModal = document.getElementById('resultsModal');
        const tryAgainBtn = document.getElementById('tryAgainBtn');
        const timerOptions = document.querySelectorAll('input[name="timer"]');

        function getRandomText() {
            return textSamples[Math.floor(Math.random() * textSamples.length)];
        }

        function displayText() {
            textDisplay.innerHTML = '';
            currentText.split('').forEach((char, index) => {
                const span = document.createElement('span');
                span.classList.add('char', 'pending');
                span.textContent = char;
                if (index === 0) span.classList.add('current');
                textDisplay.appendChild(span);
            });
        }

        function updateStats() {
            const typedText = textInput.value;
            const chars = typedText.length;
            const totalChars = currentText.length;
            
            // Calculate correct characters
            let correct = 0;
            for (let i = 0; i < typedText.length && i < currentText.length; i++) {
                if (typedText[i] === currentText[i]) {
                    correct++;
                }
            }

            // Calculate accuracy
            const accuracy = chars > 0 ? Math.round((correct / chars) * 100) : 100;
            
            // Calculate WPM (words = characters / 5, per minute)
            const minutes = timeElapsed / 60;
            const wpm = minutes > 0 ? Math.round((correct / 5) / minutes) : 0;

            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = accuracy + '%';
            charsDisplay.textContent = `${chars}/${totalChars}`;

            // Update character highlighting
            const spans = textDisplay.querySelectorAll('.char');
            spans.forEach((span, index) => {
                span.classList.remove('correct', 'incorrect', 'current', 'pending');
                
                if (index < typedText.length) {
                    if (typedText[index] === currentText[index]) {
                        span.classList.add('correct');
                    } else {
                        span.classList.add('incorrect');
                    }
                } else if (index === typedText.length) {
                    span.classList.add('current');
                } else {
                    span.classList.add('pending');
                }
            });

            return { correct, incorrect: chars - correct, wpm, accuracy };
        }

        function startTimer() {
            if (isStarted || isFinished) return;
            
            isStarted = true;
            
            if (selectedDuration > 0) {
                timerInterval = setInterval(() => {
                    timeElapsed++;
                    timeLeft--;
                    timerDisplay.textContent = timeLeft;

                    if (timeLeft <= 0) {
                        endTest();
                    }
                }, 1000);
            } else {
                timerInterval = setInterval(() => {
                    timeElapsed++;
                    timerDisplay.textContent = timeElapsed + 's';
                }, 1000);
            }
        }

        function endTest() {
            clearInterval(timerInterval);
            isFinished = true;
            textInput.disabled = true;

            const stats = updateStats();
            showResults(stats);
        }

        function showResults(stats) {
            document.getElementById('finalWpm').textContent = stats.wpm;
            document.getElementById('finalAccuracy').textContent = stats.accuracy + '%';
            document.getElementById('finalTime').textContent = (selectedDuration > 0 ? selectedDuration : timeElapsed) + 's';

            // WPM message
            const wpmMessage = document.getElementById('wpmMessage');
            const wpmValue = document.getElementById('finalWpm');
            wpmValue.className = 'result-stat-value';
            
            if (stats.wpm >= 80) {
                wpmMessage.textContent = 'üèÜ Outstanding! You\'re a typing master!';
                wpmValue.classList.add('wpm-excellent');
            } else if (stats.wpm >= 60) {
                wpmMessage.textContent = '‚≠ê Great job! Above average typing speed!';
                wpmValue.classList.add('wpm-good');
            } else if (stats.wpm >= 40) {
                wpmMessage.textContent = 'üëç Good effort! Keep practicing!';
                wpmValue.classList.add('wpm-average');
            } else {
                wpmMessage.textContent = 'üí™ Don\'t give up! Practice makes perfect!';
                wpmValue.classList.add('wpm-slow');
            }

            resultsModal.classList.add('show');
        }

        function resetTest() {
            clearInterval(timerInterval);
            isStarted = false;
            isFinished = false;
            timeElapsed = 0;
            
            timerOptions.forEach(option => {
                if (option.checked) {
                    selectedDuration = parseInt(option.value);
                }
            });
            
            timeLeft = selectedDuration;
            timerDisplay.textContent = selectedDuration > 0 ? selectedDuration : '0';
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            charsDisplay.textContent = '0/0';
            
            textInput.value = '';
            textInput.disabled = false;
            textInput.focus();
            
            resultsModal.classList.remove('show');
            displayText();
        }

        function newTest() {
            currentText = getRandomText();
            resetTest();
        }

        // Event Listeners
        textInput.addEventListener('input', () => {
            if (!isStarted && !isFinished) {
                startTimer();
            }

            const stats = updateStats();

            // Check if text is complete
            if (textInput.value.length >= currentText.length) {
                endTest();
            }
        });

        textInput.addEventListener('keydown', (e) => {
            // Prevent tab from leaving the input
            if (e.key === 'Tab') {
                e.preventDefault();
            }
        });

        restartBtn.addEventListener('click', newTest);
        resetBtn.addEventListener('click', resetTest);
        tryAgainBtn.addEventListener('click', newTest);

        timerOptions.forEach(option => {
            option.addEventListener('change', () => {
                if (!isStarted) {
                    selectedDuration = parseInt(option.value);
                    timeLeft = selectedDuration;
                    timerDisplay.textContent = selectedDuration > 0 ? selectedDuration : '0';
                }
            });
        });

        // Close modal on outside click
        resultsModal.addEventListener('click', (e) => {
            if (e.target === resultsModal) {
                resultsModal.classList.remove('show');
            }
        });

        // Initialize
        currentText = getRandomText();
        displayText();
        textInput.focus();
    </script>
</body>
</html>