<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            min-width: 120px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
        }

        .text-display {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 1.2em;
            line-height: 1.6;
            border: 2px solid #e9ecef;
            min-height: 120px;
            font-family: 'Courier New', monospace;
        }

        .char {
            position: relative;
            transition: all 0.1s ease;
        }

        .char.correct {
            background-color: #d4edda;
            color: #155724;
        }

        .char.incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }

        .char.current {
            background-color: #fff3cd;
            color: #856404;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .input-container {
            margin-bottom: 20px;
        }

        .typing-input {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #ddd;
            border-radius: 10px;
            outline: none;
            transition: border-color 0.3s ease;
            font-family: 'Courier New', monospace;
        }

        .typing-input:focus {
            border-color: #667eea;
        }

        .typing-input:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }

        .button-container {
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin: 0 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #e9ecef;
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .result-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
        }

        .result-title {
            font-size: 2em;
            color: #333;
            margin-bottom: 20px;
        }

        .result-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .result-stat {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .result-stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .result-stat-label {
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .text-display {
                font-size: 1em;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>
        
        <div class="stats-container">
            <div class="stat-box">
                <div class="stat-label">Time</div>
                <div class="stat-value" id="timer">0s</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Progress</div>
                <div class="stat-value" id="progress">0%</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="text-display" id="textDisplay">
            Click "Start Test" to begin...
        </div>

        <div class="input-container">
            <input 
                type="text" 
                class="typing-input" 
                id="typingInput" 
                placeholder="Start typing here..."
                disabled
            >
        </div>

        <div class="button-container">
            <button class="btn" id="startBtn">Start Test</button>
            <button class="btn" id="resetBtn" disabled>Try Again</button>
        </div>
    </div>

    <div class="result-modal" id="resultModal">
        <div class="result-content">
            <h2 class="result-title">üéâ Test Complete!</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <div class="result-stat-value" id="finalWpm">0</div>
                    <div class="result-stat-label">Words Per Minute</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="finalAccuracy">0%</div>
                    <div class="result-stat-label">Accuracy</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="finalTime">0s</div>
                    <div class="result-stat-label">Time</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-value" id="finalErrors">0</div>
                    <div class="result-stat-label">Errors</div>
                </div>
            </div>
            <button class="btn" id="closeModal">Try Another Test</button>
        </div>
    </div>

    <script>
        class TypingTest {
            constructor() {
                this.texts = [
                    "The quick brown fox jumps over the lazy dog. This pangram contains every letter of the alphabet and is commonly used for typing practice.",
                    "Technology has revolutionized the way we communicate, work, and live our daily lives. From smartphones to artificial intelligence, innovation continues to shape our future.",
                    "In the heart of the bustling city, where skyscrapers touched the clouds and streets hummed with endless activity, a small coffee shop stood as a sanctuary for dreamers and thinkers.",
                    "The scientific method is a systematic approach to research that involves observation, hypothesis formation, experimentation, and conclusion drawing.",
                    "Climate change represents one of the most significant challenges facing humanity today, requiring global cooperation and sustainable solutions.",
                    "Literature has the power to transport us to different worlds, introduce us to fascinating characters, and expand our understanding of the human experience.",
                    "The art of cooking combines creativity, precision, and passion. Great chefs understand that each ingredient plays a crucial role in creating memorable dishes.",
                    "Space exploration has always captured human imagination. From the first moon landing to missions to Mars, we continue to push the boundaries of what's possible.",
                    "Music is a universal language that transcends cultural barriers. It has the ability to evoke emotions, tell stories, and bring people together in profound ways.",
                    "The human brain is an incredibly complex organ, capable of processing vast amounts of information, creating art, solving problems, and experiencing consciousness."
                ];
                
                this.currentText = "";
                this.currentIndex = 0;
                this.startTime = null;
                this.timerInterval = null;
                this.errors = 0;
                this.isTestActive = false;
                this.isTestCompleted = false;
                
                this.initializeElements();
                this.bindEvents();
            }

            initializeElements() {
                this.textDisplay = document.getElementById('textDisplay');
                this.typingInput = document.getElementById('typingInput');
                this.startBtn = document.getElementById('startBtn');
                this.resetBtn = document.getElementById('resetBtn');
                this.timer = document.getElementById('timer');
                this.wpm = document.getElementById('wpm');
                this.accuracy = document.getElementById('accuracy');
                this.progress = document.getElementById('progress');
                this.progressFill = document.getElementById('progressFill');
                this.resultModal = document.getElementById('resultModal');
                this.closeModal = document.getElementById('closeModal');
            }

            bindEvents() {
                this.startBtn.addEventListener('click', () => this.startTest());
                this.resetBtn.addEventListener('click', () => this.resetTest());
                this.typingInput.addEventListener('input', (e) => this.handleInput(e));
                this.closeModal.addEventListener('click', () => this.closeResultModal());
                
                // Prevent paste
                this.typingInput.addEventListener('paste', (e) => e.preventDefault());
            }

            startTest() {
                this.currentText = this.texts[Math.floor(Math.random() * this.texts.length)];
                this.currentIndex = 0;
                this.errors = 0;
                this.startTime = null;
                this.isTestActive = true;
                this.isTestCompleted = false;
                
                this.displayText();
                this.typingInput.disabled = false;
                this.typingInput.value = "";
                this.typingInput.focus();
                this.startBtn.disabled = true;
                this.resetBtn.disabled = false;
                
                this.updateStats();
            }

            displayText() {
                this.textDisplay.innerHTML = this.currentText
                    .split('')
                    .map((char, index) => `<span class="char" data-index="${index}">${char}</span>`)
                    .join('');
            }

            handleInput(e) {
                if (!this.isTestActive) return;
                
                const input = e.target.value;
                const inputLength = input.length;
                
                if (!this.startTime) {
                    this.startTime = Date.now();
                    this.startTimer();
                }
                
                // Update character highlighting
                const chars = this.textDisplay.querySelectorAll('.char');
                chars.forEach(char => char.classList.remove('correct', 'incorrect', 'current'));
                
                // Check each character
                for (let i = 0; i < inputLength && i < this.currentText.length; i++) {
                    const char = chars[i];
                    if (input[i] === this.currentText[i]) {
                        char.classList.add('correct');
                    } else {
                        char.classList.add('incorrect');
                        if (i === inputLength - 1) this.errors++;
                    }
                }
                
                // Highlight current character
                if (inputLength < this.currentText.length) {
                    chars[inputLength].classList.add('current');
                }
                
                // Check if test is complete
                if (inputLength >= this.currentText.length) {
                    this.completeTest();
                }
                
                this.updateStats();
            }

            startTimer() {
                this.timerInterval = setInterval(() => {
                    if (this.startTime) {
                        const elapsed = Math.floor((Date.now() - this.startTime) / 1000);
                        this.timer.textContent = `${elapsed}s`;
                    }
                }, 100);
            }

            updateStats() {
                if (!this.startTime) return;
                
                const elapsed = (Date.now() - this.startTime) / 1000 / 60; // in minutes
                const inputLength = this.typingInput.value.length;
                const correctChars = this.currentText
                    .split('')
                    .slice(0, inputLength)
                    .filter((char, index) => char === this.typingInput.value[index]).length;
                
                // Calculate WPM
                const words = correctChars / 5; // standard: 5 characters = 1 word
                const wpm = elapsed > 0 ? Math.round(words / elapsed) : 0;
                this.wpm.textContent = wpm;
                
                // Calculate accuracy
                const accuracy = inputLength > 0 ? Math.round((correctChars / inputLength) * 100) : 100;
                this.accuracy.textContent = `${accuracy}%`;
                
                // Calculate progress
                const progress = Math.round((inputLength / this.currentText.length) * 100);
                this.progress.textContent = `${progress}%`;
                this.progressFill.style.width = `${progress}%`;
            }

            completeTest() {
                this.isTestActive = false;
                this.isTestCompleted = true;
                clearInterval(this.timerInterval);
                
                // Calculate final stats
                const elapsed = Math.floor((Date.now() - this.startTime) / 1000);
                const wpm = parseInt(this.wpm.textContent);
                const accuracy = parseInt(this.accuracy.textContent);
                
                // Show results
                document.getElementById('finalWpm').textContent = wpm;
                document.getElementById('finalAccuracy').textContent = `${accuracy}%`;
                document.getElementById('finalTime').textContent = `${elapsed}s`;
                document.getElementById('finalErrors').textContent = this.errors;
                
                this.resultModal.style.display = 'flex';
                this.typingInput.disabled = true;
            }

            closeResultModal() {
                this.resultModal.style.display = 'none';
                this.resetTest();
            }

            resetTest() {
                this.isTestActive = false;
                this.isTestCompleted = false;
                this.currentIndex = 0;
                this.errors = 0;
                this.startTime = null;
                
                clearInterval(this.timerInterval);
                
                this.textDisplay.innerHTML = "Click \"Start Test\" to begin...";
                this.typingInput.value = "";
                this.typingInput.disabled = true;
                this.startBtn.disabled = false;
                this.resetBtn.disabled = true;
                
                this.timer.textContent = "0s";
                this.wpm.textContent = "0";
                this.accuracy.textContent = "100%";
                this.progress.textContent = "0%";
                this.progressFill.style.width = "0%";
            }
        }

        // Initialize the typing test when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new TypingTest();
        });
    </script>
</body>
</html>