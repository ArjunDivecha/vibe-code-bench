<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Notes App</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --bg-color: #f8f9fa;
            --card-color: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --danger-color: #ff6b6b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .container {
            display: flex;
            gap: 20px;
            height: calc(100vh - 120px);
        }

        .sidebar {
            width: 300px;
            background-color: var(--card-color);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .search-container {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        #search {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
        }

        .notes-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .note-item {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background-color 0.2s;
            border-radius: 4px;
            margin-bottom: 5px;
        }

        .note-item:hover {
            background-color: var(--hover-color);
        }

        .note-item.active {
            background-color: var(--primary-color);
            color: white;
        }

        .note-title {
            font-weight: 600;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .note-preview {
            font-size: 12px;
            opacity: 0.8;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.4;
        }

        .note-date {
            font-size: 10px;
            opacity: 0.6;
            margin-top: 5px;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--card-color);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .note-header {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #note-title {
            flex: 1;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        button {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #3a7bc8;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #e05252;
        }

        .btn-secondary {
            background-color: var(--hover-color);
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        .note-editor {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        #note-content {
            flex: 1;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            resize: none;
            line-height: 1.6;
        }

        .toolbar {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .toolbar button {
            padding: 5px 10px;
            font-size: 12px;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
            text-align: center;
            padding: 20px;
        }

        .empty-state p {
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Simple Notes</h1>
        <p>Create, edit, and organize your thoughts</p>
    </header>

    <div class="container">
        <div class="sidebar">
            <div class="search-container">
                <input type="text" id="search" placeholder="Search notes...">
            </div>
            <div class="notes-list" id="notes-list">
                <!-- Notes will be populated here -->
            </div>
        </div>

        <div class="main-content">
            <div id="note-view">
                <div class="note-header">
                    <input type="text" id="note-title" placeholder="Note title...">
                    <div class="button-group">
                        <button id="save-note" class="btn-primary">Save</button>
                        <button id="delete-note" class="btn-danger">Delete</button>
                    </div>
                </div>
                <div class="note-editor">
                    <div class="toolbar">
                        <button id="bold-btn" title="Bold (Ctrl+B)">Bold</button>
                        <button id="italic-btn" title="Italic (Ctrl+I)">Italic</button>
                    </div>
                    <textarea id="note-content" placeholder="Start writing your note..."></textarea>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM elements
            const notesList = document.getElementById('notes-list');
            const noteTitleInput = document.getElementById('note-title');
            const noteContentTextarea = document.getElementById('note-content');
            const saveNoteBtn = document.getElementById('save-note');
            const deleteNoteBtn = document.getElementById('delete-note');
            const searchInput = document.getElementById('search');
            const boldBtn = document.getElementById('bold-btn');
            const italicBtn = document.getElementById('italic-btn');

            // State
            let notes = JSON.parse(localStorage.getItem('notes')) || [];
            let currentNoteId = null;

            // Save notes to localStorage
            function saveNotes() {
                localStorage.setItem('notes', JSON.stringify(notes));
            }

            // Generate a unique ID
            function generateId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            }

            // Create a new note
            function createNewNote() {
                const newNote = {
                    id: generateId(),
                    title: 'Untitled Note',
                    content: '',
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                notes.unshift(newNote); // Add to the beginning
                saveNotes();
                renderNotes();
                openNote(newNote.id);
            }

            // Render the list of notes
            function renderNotes(searchTerm = '') {
                notesList.innerHTML = '';
                
                const filteredNotes = searchTerm 
                    ? notes.filter(note => 
                        note.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                        note.content.toLowerCase().includes(searchTerm.toLowerCase())
                    )
                    : [...notes];

                if (filteredNotes.length === 0) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.className = 'empty-state';
                    emptyMessage.innerHTML = `
                        <p>${searchTerm ? 'No notes match your search.' : 'You don\'t have any notes yet.'}</p>
                        <button id="create-first-note" class="btn-primary">Create your first note</button>
                    `;
                    notesList.appendChild(emptyMessage);
                    
                    document.getElementById('create-first-note').addEventListener('click', createNewNote);
                    return;
                }

                filteredNotes.forEach(note => {
                    const noteElement = document.createElement('div');
                    noteElement.className = 'note-item' + (currentNoteId === note.id ? ' active' : '');
                    noteElement.setAttribute('data-id', note.id);
                    
                    // Create a preview of the content (strip HTML and limit length)
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = note.content;
                    const plainText = tempDiv.textContent || tempDiv.innerText || '';
                    const preview = plainText.length > 100 ? plainText.substring(0, 100) + '...' : plainText;
                    
                    noteElement.innerHTML = `
                        <div class="note-title">${note.title}</div>
                        <div class="note-preview">${preview}</div>
                        <div class="note-date">${formatDate(note.updatedAt)}</div>
                    `;
                    
                    noteElement.addEventListener('click', () => openNote(note.id));
                    notesList.appendChild(noteElement);
                });
            }

            // Open a note for editing
            function openNote(id) {
                const note = notes.find(n => n.id === id);
                if (!note) return;
                
                currentNoteId = id;
                noteTitleInput.value = note.title;
                noteContentTextarea.value = note.content;
                renderNotes(searchInput.value);
            }

            // Format date to a readable string
            function formatDate(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const diffTime = Math.abs(now - date);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) {
                    return 'Yesterday';
                } else if (diffDays < 7) {
                    return date.toLocaleDateString(undefined, { weekday: 'long' });
                } else {
                    return date.toLocaleDateString();
                }
            }

            // Initialize app
            function init() {
                if (notes.length === 0) {
                    createNewNote();
                } else {
                    // Open the first note by default
                    openNote(notes[0].id);
                }
            }

            // Event Listeners
            saveNoteBtn.addEventListener('click', () => {
                if (!currentNoteId) return;
                
                const note = notes.find(n => n.id === currentNoteId);
                if (note) {
                    note.title = noteTitleInput.value || 'Untitled Note';
                    note.content = noteContentTextarea.value;
                    note.updatedAt = new Date().toISOString();
                    
                    saveNotes();
                    renderNotes(searchInput.value);
                }
            });

            deleteNoteBtn.addEventListener('click', () => {
                if (!currentNoteId) return;
                
                if (confirm('Are you sure you want to delete this note?')) {
                    notes = notes.filter(n => n.id !== currentNoteId);
                    saveNotes();
                    
                    if (notes.length === 0) {
                        createNewNote();
                    } else {
                        currentNoteId = notes[0].id;
                        renderNotes(searchInput.value);
                        openNote(currentNoteId);
                    }
                }
            });

            searchInput.addEventListener('input', (e) => {
                renderNotes(e.target.value);
            });

            // Formatting buttons
            boldBtn.addEventListener('click', () => {
                const start = noteContentTextarea.selectionStart;
                const end = noteContentTextarea.selectionEnd;
                const content = noteContentTextarea.value;
                const selectedText = content.substring(start, end);
                
                const replacement = `**${selectedText}**`;
                noteContentTextarea.value = content.substring(0, start) + replacement + content.substring(end);
                
                // Move cursor to the end of the formatted text
                noteContentTextarea.selectionStart = noteContentTextarea.selectionEnd = start + replacement.length;
                noteContentTextarea.focus();
            });

            italicBtn.addEventListener('click', () => {
                const start = noteContentTextarea.selectionStart;
                const end = noteContentTextarea.selectionEnd;
                const content = noteContentTextarea.value;
                const selectedText = content.substring(start, end);
                
                const replacement = `*${selectedText}*`;
                noteContentTextarea.value = content.substring(0, start) + replacement + content.substring(end);
                
                // Move cursor to the end of the formatted text
                noteContentTextarea.selectionStart = noteContentTextarea.selectionEnd = start + replacement.length;
                noteContentTextarea.focus();
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl + S to save
                if (e.ctrlKey && e.key === 's') {
                    e.preventDefault();
                    saveNoteBtn.click();
                }
                
                // Ctrl + B for bold
                if (e.ctrlKey && e.key === 'b') {
                    e.preventDefault();
                    boldBtn.click();
                }
                
                // Ctrl + I for italic
                if (e.ctrlKey && e.key === 'i') {
                    e.preventDefault();
                    italicBtn.click();
                }
                
                // Ctrl + N for new note
                if (e.ctrlKey && e.key === 'n') {
                    e.preventDefault();
                    createNewNote();
                }
            });

            // Add a new note button when no notes exist
            document.addEventListener('click', (e) => {
                if (e.target.id === 'create-note-btn') {
                    createNewNote();
                }
            });

            // Initialize the app
            init();
        });
    </script>
</body>
</html>