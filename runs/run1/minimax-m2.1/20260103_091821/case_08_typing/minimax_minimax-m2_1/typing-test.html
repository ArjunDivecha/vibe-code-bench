<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            text-align: center;
            min-width: 120px;
        }

        .stat-label {
            color: #95a5a6;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #2c3e50;
            font-size: 2rem;
            font-weight: bold;
        }

        .stat-value.timer {
            color: #e74c3c;
        }

        .stat-value.wpm {
            color: #27ae60;
        }

        .stat-value.accuracy {
            color: #3498db;
        }

        .text-display {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
            line-height: 1.8;
            font-size: 1.2rem;
            color: #bdc3c7;
            position: relative;
        }

        .text-display span {
            position: relative;
        }

        .text-display span.correct {
            color: #27ae60;
            background: #d5f5e3;
        }

        .text-display span.incorrect {
            color: #e74c3c;
            background: #fadbd8;
        }

        .text-display span.current {
            background: #f9e79f;
        }

        .input-area {
            margin-bottom: 20px;
        }

        .input-area textarea {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 2px solid #ecf0f1;
            border-radius: 12px;
            resize: none;
            height: 120px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .input-area textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .input-area textarea:disabled {
            background: #f8f9fa;
            cursor: not-allowed;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 35px;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
        }

        .btn-secondary:hover {
            background: #bdc3c7;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #219a52;
            transform: translateY(-2px);
        }

        .results-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .results-overlay.active {
            display: flex;
        }

        .results-modal {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results-modal h2 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
        }

        .result-item .label {
            color: #95a5a6;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .result-item .value {
            color: #2c3e50;
            font-size: 1.8rem;
            font-weight: bold;
        }

        .result-item .value.wpm { color: #27ae60; }
        .result-item .value.accuracy { color: #3498db; }
        .result-item .value.chars { color: #9b59b6; }
        .result-item .value.time { color: #e74c3c; }

        .difficulty-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 8px 20px;
            border: 2px solid #ecf0f1;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .difficulty-btn:hover {
            border-color: #3498db;
            color: #3498db;
        }

        .difficulty-btn.active {
            background: #3498db;
            border-color: #3498db;
            color: white;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #ecf0f1;
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #27ae60);
            width: 0%;
            transition: width 0.3s;
        }

        .instructions {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.8rem;
            }

            .stats-bar {
                gap: 15px;
            }

            .stat-box {
                padding: 15px 20px;
                min-width: 90px;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .text-display {
                padding: 20px;
                font-size: 1rem;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ö° Typing Speed Test</h1>
            <p class="subtitle">Test your typing speed and accuracy</p>
        </header>

        <div class="difficulty-selector">
            <button class="difficulty-btn active" data-difficulty="easy">Easy</button>
            <button class="difficulty-btn" data-difficulty="medium">Medium</button>
            <button class="difficulty-btn" data-difficulty="hard">Hard</button>
            <button class="difficulty-btn" data-difficulty="code">Code</button>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="stats-bar">
            <div class="stat-box">
                <div class="stat-label">Time</div>
                <div class="stat-value timer" id="timer">30</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">WPM</div>
                <div class="stat-value wpm" id="wpm">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value accuracy" id="accuracy">100%</div>
            </div>
        </div>

        <p class="instructions">Start typing to begin the test</p>

        <div class="text-display" id="textDisplay"></div>

        <div class="input-area">
            <textarea id="typingInput" placeholder="Start typing here..."></textarea>
        </div>

        <div class="controls">
            <button class="btn btn-primary" id="restartBtn">üîÑ Restart Test</button>
            <button class="btn btn-secondary" id="newTextBtn">üìù New Text</button>
        </div>
    </div>

    <div class="results-overlay" id="resultsOverlay">
        <div class="results-modal">
            <h2>üéâ Test Complete!</h2>
            <div class="results-grid">
                <div class="result-item">
                    <div class="label">Words Per Minute</div>
                    <div class="value wpm" id="finalWpm">0</div>
                </div>
                <div class="result-item">
                    <div class="label">Accuracy</div>
                    <div class="value accuracy" id="finalAccuracy">0%</div>
                </div>
                <div class="result-item">
                    <div class="label">Characters</div>
                    <div class="value chars" id="finalChars">0</div>
                </div>
                <div class="result-item">
                    <div class="label">Time Used</div>
                    <div class="value time" id="finalTime">0s</div>
                </div>
            </div>
            <button class="btn btn-success" id="tryAgainBtn">Try Again</button>
        </div>
    </div>

    <script>
        // Text samples organized by difficulty
        const textSamples = {
            easy: [
                "The quick brown fox jumps over the lazy dog. This is a simple sentence to help you warm up your typing skills.",
                "Hello world! Today is a beautiful day to practice typing. Keep your fingers relaxed and type at a comfortable pace.",
                "A journey of a thousand miles begins with a single step. Stay focused and keep practicing every day to improve.",
                "The early bird catches the worm. Success comes to those who work hard and never give up on their dreams.",
                "Practice makes perfect. The more you type, the faster and more accurate you will become over time."
            ],
            medium: [
                "Technology has revolutionized the way we communicate and work. From smartphones to cloud computing, digital tools have transformed our daily lives in remarkable ways that were unimaginable just decades ago.",
                "The ocean covers more than seventy percent of Earth's surface and contains some of the most diverse ecosystems on our planet. Marine life ranges from microscopic organisms to the largest animals that have ever existed.",
                "Climate change is one of the most pressing challenges facing humanity today. Scientists worldwide are working together to understand its impacts and develop sustainable solutions for future generations.",
                "Music has the power to evoke strong emotions and bring people together across different cultures and languages. Whether classical or contemporary, music speaks to the human soul in profound ways.",
                "Education is the foundation of personal and societal growth. Access to quality learning opportunities helps individuals develop critical thinking skills and reach their full potential."
            ],
            hard: [
                "Pneumonoultramicroscopicsilicovolcanoconiosis is a long word that describes a lung disease caused by inhaling very fine ash and sand dust. This term was deliberately constructed to be the longest word in the English language.",
                "The phenomenon of quantum entanglement defies classical intuition about how particles interact across space and time. When two particles become entangled, measuring one instantly affects the state of the other, regardless of the distance between them.",
                "Photosynthesis is the biochemical process by which plants, algae, and certain bacteria convert light energy into chemical energy. Through this remarkable process, organisms synthesize organic compounds from carbon dioxide and water using sunlight.",
                "The concept of existentialism explores individual freedom, choice, and personal responsibility in an apparently indifferent universe. Thinkers like Sartre and Camus wrestled with questions of meaning and authentic existence.",
                "Microeconomics examines the behavior of individual economic agents, including consumers and businesses, in making decisions about resource allocation. Understanding these fundamental interactions helps explain market dynamics and price formation."
            ],
            code: [
                "function calculateFibonacci(n) { if (n <= 1) return n; return calculateFibonacci(n - 1) + calculateFibonacci(n - 2); }",
                "const array = [1, 2, 3, 4, 5]; const doubled = array.map(num => num * 2); const sum = doubled.reduce((acc, val) => acc + val, 0);",
                "class Rectangle { constructor(width, height) { this.width = width; this.height = height; } getArea() { return this.width * this.height; } }",
                "while (condition) { // Execute code block // Update condition variables // Handle edge cases carefully }",
                "try { const data = JSON.parse(userInput); validateData(data); processData(data); } catch (error) { console.error('Error:', error.message); }"
            ]
        };

        // Game state
        let currentText = "";
        let typedText = "";
        let currentIndex = 0;
        let timer = 30;
        let timerInterval = null;
        let isRunning = false;
        let currentDifficulty = "easy";
        let correctChars = 0;
        let totalCharsTyped = 0;

        // DOM elements
        const textDisplay = document.getElementById("textDisplay");
        const typingInput = document.getElementById("typingInput");
        const timerDisplay = document.getElementById("timer");
        const wpmDisplay = document.getElementById("wpm");
        const accuracyDisplay = document.getElementById("accuracy");
        const progressFill = document.getElementById("progressFill");
        const restartBtn = document.getElementById("restartBtn");
        const newTextBtn = document.getElementById("newTextBtn");
        const resultsOverlay = document.getElementById("resultsOverlay");
        const tryAgainBtn = document.getElementById("tryAgainBtn");
        const difficultyBtns = document.querySelectorAll(".difficulty-btn");

        // Initialize the game
        function init() {
            selectNewText();
            setupEventListeners();
        }

        function setupEventListeners() {
            typingInput.addEventListener("input", handleInput);
            typingInput.addEventListener("keydown", handleKeydown);
            restartBtn.addEventListener("click", restartTest);
            newTextBtn.addEventListener("click", () => {
                selectNewText();
                restartTest();
            });
            tryAgainBtn.addEventListener("click", () => {
                resultsOverlay.classList.remove("active");
                restartTest();
            });

            difficultyBtns.forEach(btn => {
                btn.addEventListener("click", () => {
                    difficultyBtns.forEach(b => b.classList.remove("active"));
                    btn.classList.add("active");
                    currentDifficulty = btn.dataset.difficulty;
                    selectNewText();
                    restartTest();
                });
            });
        }

        function selectNewText() {
            const samples = textSamples[currentDifficulty];
            currentText = samples[Math.floor(Math.random() * samples.length)];
            renderText();
        }

        function renderText() {
            textDisplay.innerHTML = "";
            for (let i = 0; i < currentText.length; i++) {
                const span = document.createElement("span");
                span.textContent = currentText[i];
                textDisplay.appendChild(span);
            }
            updateTextDisplay();
        }

        function updateTextDisplay() {
            const spans = textDisplay.querySelectorAll("span");
            spans.forEach((span, index) => {
                span.classList.remove("correct", "incorrect", "current");
                
                if (index < typedText.length) {
                    if (typedText[index] === currentText[index]) {
                        span.classList.add("correct");
                    } else if (typedText[index] !== currentText[index]) {
                        span.classList.add("incorrect");
                    }
                } else if (index === typedText.length) {
                    span.classList.add("current");
                }
            });

            // Scroll to keep current character in view
            if (spans[typedText.length]) {
                spans[typedText.length].scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "center"
                });
            }
        }

        function handleInput(e) {
            if (!isRunning) {
                startTimer();
            }

            typedText = e.target.value;
            currentIndex = typedText.length;

            // Calculate stats
            calculateStats();
            updateTextDisplay();
            updateProgress();

            // Check if test is complete
            if (currentIndex >= currentText.length || timer <= 0) {
                endTest();
            }
        }

        function handleKeydown(e) {
            // Prevent Tab from leaving input
            if (e.key === "Tab") {
                e.preventDefault();
            }
        }

        function calculateStats() {
            correctChars = 0;
            totalCharsTyped = typedText.length;

            for (let i = 0; i < typedText.length; i++) {
                if (typedText[i] === currentText[i]) {
                    correctChars++;
                }
            }

            const timeElapsed = 30 - timer;
            const minutes = timeElapsed / 60;

            // WPM calculation: (characters / 5) / minutes
            let wpm = 0;
            if (minutes > 0) {
                wpm = Math.round((correctChars / 5) / minutes);
            }

            // Accuracy calculation
            let accuracy = 0;
            if (totalCharsTyped > 0) {
                accuracy = Math.round((correctChars / totalCharsTyped) * 100);
            }

            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = accuracy + "%";

            return { wpm, accuracy };
        }

        function updateProgress() {
            const progress = (typedText.length / currentText.length) * 100;
            progressFill.style.width = progress + "%";
        }

        function startTimer() {
            isRunning = true;
            timerInterval = setInterval(() => {
                timer--;
                timerDisplay.textContent = timer;

                if (timer <= 0) {
                    endTest();
                }
            }, 1000);
        }

        function endTest() {
            clearInterval(timerInterval);
            isRunning = false;
            typingInput.disabled = true;

            const stats = calculateStats();
            showResults(stats);
        }

        function showResults(stats) {
            document.getElementById("finalWpm").textContent = stats.wpm;
            document.getElementById("finalAccuracy").textContent = stats.accuracy + "%";
            document.getElementById("finalChars").textContent = correctChars;
            document.getElementById("finalTime").textContent = (30 - timer) + "s";

            resultsOverlay.classList.add("active");
        }

        function restartTest() {
            clearInterval(timerInterval);
            isRunning = false;
            timer = 30;
            typedText = "";
            currentIndex = 0;
            correctChars = 0;
            totalCharsTyped = 0;

            timerDisplay.textContent = timer;
            wpmDisplay.textContent = "0";
            accuracyDisplay.textContent = "100%";
            progressFill.style.width = "0%";

            typingInput.disabled = false;
            typingInput.value = "";
            typingInput.focus();

            updateTextDisplay();
        }

        // Start the app
        init();
    </script>
</body>
</html>