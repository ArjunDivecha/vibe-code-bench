<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .instructions {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .palette-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .color-card {
            flex: 1;
            min-width: 180px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .color-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .color-card.locked {
            border: 3px solid #ffd700;
        }

        .color-swatch {
            height: 200px;
            position: relative;
            transition: all 0.5s ease;
        }

        .lock-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.9);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .lock-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .lock-btn.locked {
            background: #ffd700;
            color: white;
        }

        .color-info {
            padding: 20px;
            text-align: center;
        }

        .color-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: #333;
        }

        .color-codes {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .color-code {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            padding: 5px 10px;
            background: #f5f5f5;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .color-code:hover {
            background: #e0e0e0;
        }

        .copy-notification {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.9rem;
            pointer-events: none;
            transition: transform 0.3s ease;
            z-index: 20;
        }

        .copy-notification.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .controls {
            text-align: center;
            margin-bottom: 30px;
        }

        .generate-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .generate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 7px 25px rgba(0,0,0,0.3);
        }

        .generate-btn:active {
            transform: scale(0.98);
        }

        .saved-palettes {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .saved-palettes h2 {
            margin-bottom: 20px;
            color: #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .clear-all-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .clear-all-btn:hover {
            background: #ff5252;
        }

        .saved-palette-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .saved-palette-item {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .saved-palette-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .saved-palette-colors {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
            height: 60px;
        }

        .saved-color {
            flex: 1;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .saved-palette-date {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
        }

        .delete-palette-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff6b6b;
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.2s ease;
        }

        .saved-palette-item:hover .delete-palette-btn {
            opacity: 1;
        }

        .delete-palette-btn:hover {
            background: #ff5252;
        }

        .save-btn {
            background: #51cf66;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            margin-left: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .save-btn:hover {
            background: #40c057;
            transform: scale(1.05);
        }

        .save-btn:active {
            transform: scale(0.98);
        }

        .empty-state {
            text-align: center;
            color: #999;
            padding: 40px;
            font-style: italic;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .color-card {
            animation: fadeIn 0.5s ease;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .palette-container {
                flex-direction: column;
            }

            .color-card {
                min-width: 100%;
            }

            .saved-palette-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸŽ¨ Color Palette Generator</h1>
            <p class="instructions">Click any color to copy â€¢ Press SPACE for new palette â€¢ Lock your favorites</p>
        </header>

        <div class="palette-container" id="paletteContainer">
            <!-- Color cards will be generated here -->
        </div>

        <div class="controls">
            <button class="generate-btn" id="generateBtn">Generate Palette</button>
            <button class="save-btn" id="saveBtn">ðŸ’¾ Save Palette</button>
        </div>

        <div class="saved-palettes">
            <h2>
                Saved Palettes
                <button class="clear-all-btn" id="clearAllBtn">Clear All</button>
            </h2>
            <div class="saved-palette-list" id="savedPaletteList">
                <div class="empty-state">No saved palettes yet. Create and save your first palette!</div>
            </div>
        </div>
    </div>

    <script>
        class ColorPaletteGenerator {
            constructor() {
                this.colors = [];
                this.lockedColors = new Set();
                this.savedPalettes = this.loadSavedPalettes();
                this.init();
            }

            init() {
                this.generatePalette();
                this.renderPalette();
                this.renderSavedPalettes();
                this.attachEventListeners();
            }

            generatePalette() {
                for (let i = 0; i < 5; i++) {
                    if (!this.lockedColors.has(i)) {
                        this.colors[i] = this.generateRandomColor();
                    }
                }
            }

            generateRandomColor() {
                const hue = Math.floor(Math.random() * 360);
                const saturation = Math.floor(Math.random() * 40) + 60; // 60-100%
                const lightness = Math.floor(Math.random() * 30) + 40; // 40-70%
                return this.hslToHex(hue, saturation, lightness);
            }

            hslToHex(h, s, l) {
                l /= 100;
                const a = s * Math.min(l, 1 - l) / 100;
                const f = n => {
                    const k = (n + h / 30) % 12;
                    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
                    return Math.round(255 * color).toString(16).padStart(2, '0');
                };
                return `#${f(0)}${f(8)}${f(4)}`;
            }

            hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            }

            getColorName(hex) {
                const rgb = this.hexToRgb(hex);
                const hsl = this.rgbToHsl(rgb.r, rgb.g, rgb.b);
                
                const hue = hsl.h;
                const sat = hsl.s;
                const light = hsl.l;

                let colorName = '';
                
                // Determine base color from hue
                if (sat < 10) {
                    if (light > 90) colorName = 'White';
                    else if (light < 10) colorName = 'Black';
                    else if (light > 70) colorName = 'Light Gray';
                    else if (light < 30) colorName = 'Dark Gray';
                    else colorName = 'Gray';
                } else {
                    if (hue < 15 || hue >= 345) colorName = 'Red';
                    else if (hue < 45) colorName = 'Orange';
                    else if (hue < 65) colorName = 'Yellow';
                    else if (hue < 150) colorName = 'Green';
                    else if (hue < 200) colorName = 'Cyan';
                    else if (hue < 260) colorName = 'Blue';
                    else if (hue < 290) colorName = 'Purple';
                    else if (hue < 345) colorName = 'Pink';

                    // Add lightness modifier
                    if (light > 70) colorName = 'Light ' + colorName;
                    else if (light < 30) colorName = 'Dark ' + colorName;
                    
                    // Add saturation modifier
                    if (sat < 30) colorName = 'Pale ' + colorName;
                    else if (sat > 80) colorName = 'Vivid ' + colorName;
                }

                return colorName;
            }

            rgbToHsl(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;

                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;

                if (max === min) {
                    h = s = 0;
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                    switch (max) {
                        case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                        case g: h = ((b - r) / d + 2) / 6; break;
                        case b: h = ((r - g) / d + 4) / 6; break;
                    }
                }

                return {
                    h: Math.round(h * 360),
                    s: Math.round(s * 100),
                    l: Math.round(l * 100)
                };
            }

            renderPalette() {
                const container = document.getElementById('paletteContainer');
                container.innerHTML = '';

                this.colors.forEach((color, index) => {
                    const card = this.createColorCard(color, index);
                    container.appendChild(card);
                });
            }

            createColorCard(color, index) {
                const card = document.createElement('div');
                card.className = `color-card ${this.lockedColors.has(index) ? 'locked' : ''}`;
                
                const rgb = this.hexToRgb(color);
                const colorName = this.getColorName(color);

                card.innerHTML = `
                    <div class="color-swatch" style="background-color: ${color};">
                        <button class="lock-btn ${this.lockedColors.has(index) ? 'locked' : ''}" data-index="${index}">
                            ${this.lockedColors.has(index) ? 'ðŸ”’' : 'ðŸ”“'}
                        </button>
                        <div class="copy-notification">Copied!</div>
                    </div>
                    <div class="color-info">
                        <div class="color-name">${colorName}</div>
                        <div class="color-codes">
                            <div class="color-code hex-code">${color.toUpperCase()}</div>
                            <div class="color-code rgb-code">RGB(${rgb.r}, ${rgb.g}, ${rgb.b})</div>
                        </div>
                    </div>
                `;

                // Add click to copy functionality
                card.addEventListener('click', (e) => {
                    if (!e.target.closest('.lock-btn')) {
                        this.copyToClipboard(color, card);
                    }
                });

                // Lock button functionality
                const lockBtn = card.querySelector('.lock-btn');
                lockBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.toggleLock(index);
                });

                return card;
            }

            toggleLock(index) {
                if (this.lockedColors.has(index)) {
                    this.lockedColors.delete(index);
                } else {
                    this.lockedColors.add(index);
                }
                this.renderPalette();
            }

            copyToClipboard(text, card) {
                navigator.clipboard.writeText(text).then(() => {
                    const notification = card.querySelector('.copy-notification');
                    notification.classList.add('show');
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 1000);
                });
            }

            savePalette() {
                const palette = {
                    colors: [...this.colors],
                    date: new Date().toLocaleString()
                };
                this.savedPalettes.unshift(palette);
                localStorage.setItem('savedPalettes', JSON.stringify(this.savedPalettes));
                this.renderSavedPalettes();
            }

            loadSavedPalettes() {
                const saved = localStorage.getItem('savedPalettes');
                return saved ? JSON.parse(saved) : [];
            }

            renderSavedPalettes() {
                const container = document.getElementById('savedPaletteList');
                
                if (this.savedPalettes.length === 0) {
                    container.innerHTML = '<div class="empty-state">No saved palettes yet. Create and save your first palette!</div>';
                    return;
                }

                container.innerHTML = '';
                this.savedPalettes.forEach((palette, index) => {
                    const item = document.createElement('div');
                    item.className = 'saved-palette-item';
                    
                    const colorsHTML = palette.colors.map(color => 
                        `<div class="saved-color" style="background-color: ${color};"></div>`
                    ).join('');

                    item.innerHTML = `
                        <button class="delete-palette-btn" data-index="${index}">Ã—</button>
                        <div class="saved-palette-colors">${colorsHTML}</div>
                        <div class="saved-palette-date">${palette.date}</div>
                    `;

                    // Load palette on click
                    item.addEventListener('click', (e) => {
                        if (!e.target.closest('.delete-palette-btn')) {
                            this.loadPalette(palette.colors);
                        }
                    });

                    // Delete button
                    const deleteBtn = item.querySelector('.delete-palette-btn');
                    deleteBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.deletePalette(index);
                    });

                    container.appendChild(item);
                });
            }

            loadPalette(colors) {
                this.colors = [...colors];
                this.lockedColors.clear();
                this.renderPalette();
            }

            deletePalette(index) {
                this.savedPalettes.splice(index, 1);
                localStorage.setItem('savedPalettes', JSON.stringify(this.savedPalettes));
                this.renderSavedPalettes();
            }

            clearAllPalettes() {
                if (confirm('Are you sure you want to delete all saved palettes?')) {
                    this.savedPalettes = [];
                    localStorage.removeItem('savedPalettes');
                    this.renderSavedPalettes();
                }
            }

            attachEventListeners() {
                // Generate button
                document.getElementById('generateBtn').addEventListener('click', () => {
                    this.generatePalette();
                    this.renderPalette();
                });

                // Save button
                document.getElementById('saveBtn').addEventListener('click', () => {
                    this.savePalette();
                });

                // Clear all button
                document.getElementById('clearAllBtn').addEventListener('click', () => {
                    this.clearAllPalettes();
                });

                // Spacebar to generate
                document.addEventListener('keydown', (e) => {
                    if (e.code === 'Space' && e.target === document.body) {
                        e.preventDefault();
                        this.generatePalette();
                        this.renderPalette();
                    }
                });
            }
        }

        // Initialize the app
        const app = new ColorPaletteGenerator();
    </script>
</body>
</html>