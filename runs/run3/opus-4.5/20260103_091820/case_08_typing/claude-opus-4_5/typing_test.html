<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 0 0 20px rgba(100, 200, 255, 0.5);
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #4ecdc4;
        }

        .stat-label {
            font-size: 0.9em;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .mode-btn {
            padding: 10px 25px;
            border: 2px solid #4ecdc4;
            background: transparent;
            color: #4ecdc4;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .mode-btn:hover, .mode-btn.active {
            background: #4ecdc4;
            color: #1a1a2e;
        }

        .text-display {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            font-size: 1.4em;
            line-height: 1.8;
            letter-spacing: 0.5px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            min-height: 150px;
        }

        .char {
            transition: all 0.1s ease;
        }

        .char.correct {
            color: #4ecdc4;
        }

        .char.incorrect {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
            border-radius: 2px;
        }

        .char.current {
            background: rgba(78, 205, 196, 0.3);
            border-bottom: 2px solid #4ecdc4;
            animation: blink 1s infinite;
        }

        .char.untyped {
            color: #666;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .input-area {
            position: relative;
        }

        #typing-input {
            width: 100%;
            padding: 20px;
            font-size: 1.2em;
            border: 2px solid rgba(78, 205, 196, 0.5);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            outline: none;
            transition: all 0.3s ease;
        }

        #typing-input:focus {
            border-color: #4ecdc4;
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);
        }

        #typing-input:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(78, 205, 196, 0.4);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid #ff6b6b;
            color: #ff6b6b;
        }

        .btn-secondary:hover {
            background: #ff6b6b;
            color: #1a1a2e;
        }

        .results-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .results-modal.show {
            display: flex;
        }

        .results-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 50px;
            border-radius: 25px;
            text-align: center;
            border: 2px solid #4ecdc4;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .results-content h2 {
            font-size: 2.5em;
            margin-bottom: 30px;
            color: #4ecdc4;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 35px;
        }

        .result-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
        }

        .result-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #4ecdc4;
        }

        .result-label {
            color: #aaa;
            font-size: 0.9em;
            text-transform: uppercase;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #44a08d);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .timer-warning {
            color: #ff6b6b;
            animation: pulse 0.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .instructions {
            text-align: center;
            color: #888;
            margin-bottom: 20px;
            font-style: italic;
        }

        @media (max-width: 600px) {
            .stats-bar {
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .stat-item {
                flex: 1 1 45%;
            }
            
            .stat-value {
                font-size: 1.8em;
            }
            
            .text-display {
                font-size: 1.1em;
                padding: 20px;
            }
            
            .results-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>
        
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="accuracy">100%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="timer">0:00</div>
                <div class="stat-label">Time</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="chars">0/0</div>
                <div class="stat-label">Characters</div>
            </div>
        </div>

        <div class="mode-selector">
            <button class="mode-btn active" data-mode="free">Free Mode</button>
            <button class="mode-btn" data-mode="30">30 Seconds</button>
            <button class="mode-btn" data-mode="60">60 Seconds</button>
        </div>

        <p class="instructions">Start typing to begin the test!</p>

        <div class="text-display" id="text-display"></div>

        <div class="input-area">
            <input type="text" id="typing-input" placeholder="Start typing here..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="btn-container">
            <button class="btn btn-primary" id="new-text-btn">New Text</button>
            <button class="btn btn-secondary" id="reset-btn">Reset</button>
        </div>
    </div>

    <div class="results-modal" id="results-modal">
        <div class="results-content">
            <h2>üéâ Test Complete!</h2>
            <div class="results-stats">
                <div class="result-item">
                    <div class="result-value" id="final-wpm">0</div>
                    <div class="result-label">Words Per Minute</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="final-accuracy">0%</div>
                    <div class="result-label">Accuracy</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="final-time">0:00</div>
                    <div class="result-label">Time Elapsed</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="final-chars">0</div>
                    <div class="result-label">Characters Typed</div>
                </div>
            </div>
            <button class="btn btn-primary" id="try-again-btn">Try Again</button>
        </div>
    </div>

    <script>
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This classic sentence contains every letter of the alphabet and has been used for typing practice for generations. It remains a favorite among typists worldwide.",
            "Programming is the art of telling a computer what to do through a series of instructions. Good programmers write code that humans can understand, making it easier to maintain and improve over time.",
            "The internet has revolutionized how we communicate, learn, and do business. Information that once took days to find in libraries can now be accessed in seconds from anywhere in the world.",
            "Music has the power to evoke emotions and bring people together across cultural boundaries. From classical symphonies to modern pop songs, it remains one of humanity's most universal forms of expression.",
            "Space exploration continues to push the boundaries of human knowledge and technology. Every mission to the stars teaches us something new about our universe and our place within it.",
            "Cooking is both an art and a science, requiring creativity and precision in equal measure. The best chefs understand how ingredients interact and use this knowledge to create memorable dishes.",
            "Regular exercise is essential for maintaining good health and mental well-being. Even a simple daily walk can significantly improve cardiovascular health and reduce stress levels.",
            "Books have been humanity's primary means of preserving knowledge for thousands of years. Despite digital alternatives, many people still prefer the tactile experience of reading physical books.",
            "Climate change represents one of the greatest challenges facing our planet today. Scientists worldwide are working to understand its effects and develop solutions for a sustainable future.",
            "Artificial intelligence is transforming industries from healthcare to transportation. As these systems become more sophisticated, they raise important questions about ethics and the future of work."
        ];

        let currentText = '';
        let currentIndex = 0;
        let startTime = null;
        let timerInterval = null;
        let isRunning = false;
        let correctChars = 0;
        let totalTyped = 0;
        let mode = 'free';
        let timeLimit = 0;
        let elapsedSeconds = 0;

        const textDisplay = document.getElementById('text-display');
        const typingInput = document.getElementById('typing-input');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const timerDisplay = document.getElementById('timer');
        const charsDisplay = document.getElementById('chars');
        const progressFill = document.getElementById('progress-fill');
        const resultsModal = document.getElementById('results-modal');
        const newTextBtn = document.getElementById('new-text-btn');
        const resetBtn = document.getElementById('reset-btn');
        const tryAgainBtn = document.getElementById('try-again-btn');
        const modeBtns = document.querySelectorAll('.mode-btn');

        function getRandomText() {
            const randomIndex = Math.floor(Math.random() * textSamples.length);
            return textSamples[randomIndex];
        }

        function initText() {
            currentText = getRandomText();
            currentIndex = 0;
            renderText();
            updateChars();
        }

        function renderText() {
            let html = '';
            for (let i = 0; i < currentText.length; i++) {
                let charClass = 'char ';
                if (i < currentIndex) {
                    charClass += typingInput.value[i] === currentText[i] ? 'correct' : 'incorrect';
                } else if (i === currentIndex) {
                    charClass += 'current untyped';
                } else {
                    charClass += 'untyped';
                }
                
                let char = currentText[i];
                if (char === ' ') {
                    char = '&nbsp;';
                }
                html += `<span class="${charClass}">${char}</span>`;
            }
            textDisplay.innerHTML = html;
        }

        function startTimer() {
            startTime = Date.now();
            isRunning = true;
            elapsedSeconds = 0;
            
            timerInterval = setInterval(() => {
                elapsedSeconds = Math.floor((Date.now() - startTime) / 1000);
                updateTimerDisplay();
                updateWPM();
                
                if (mode !== 'free' && elapsedSeconds >= timeLimit) {
                    endTest();
                }
            }, 100);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(elapsedSeconds / 60);
            const seconds = elapsedSeconds % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            timerDisplay.textContent = display;
            
            if (mode !== 'free' && timeLimit - elapsedSeconds <= 5) {
                timerDisplay.classList.add('timer-warning');
            } else {
                timerDisplay.classList.remove('timer-warning');
            }
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            isRunning = false;
        }

        function updateWPM() {
            if (!startTime || correctChars === 0) {
                wpmDisplay.textContent = '0';
                return;
            }
            
            const timeElapsed = (Date.now() - startTime) / 1000 / 60;
            if (timeElapsed === 0) return;
            
            const words = correctChars / 5;
            const wpm = Math.round(words / timeElapsed);
            wpmDisplay.textContent = wpm;
        }

        function updateAccuracy() {
            if (totalTyped === 0) {
                accuracyDisplay.textContent = '100%';
                return;
            }
            const accuracy = Math.round((correctChars / totalTyped) * 100);
            accuracyDisplay.textContent = accuracy + '%';
        }

        function updateChars() {
            charsDisplay.textContent = `${currentIndex}/${currentText.length}`;
            const progress = (currentIndex / currentText.length) * 100;
            progressFill.style.width = progress + '%';
        }

        function handleInput(e) {
            const typed = typingInput.value;
            
            if (!isRunning && typed.length > 0) {
                startTimer();
            }
            
            currentIndex = typed.length;
            correctChars = 0;
            totalTyped = typed.length;
            
            for (let i = 0; i < typed.length; i++) {
                if (typed[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            renderText();
            updateWPM();
            updateAccuracy();
            updateChars();
            
            if (currentIndex >= currentText.length) {
                endTest();
            }
        }

        function endTest() {
            stopTimer();
            typingInput.disabled = true;
            showResults();
        }

        function showResults() {
            const finalWPM = wpmDisplay.textContent;
            const finalAccuracy = accuracyDisplay.textContent;
            const finalTime = timerDisplay.textContent;
            
            document.getElementById('final-wpm').textContent = finalWPM;
            document.getElementById('final-accuracy').textContent = finalAccuracy;
            document.getElementById('final-time').textContent = finalTime;
            document.getElementById('final-chars').textContent = totalTyped;
            
            resultsModal.classList.add('show');
        }

        function hideResults() {
            resultsModal.classList.remove('show');
        }

        function resetTest() {
            stopTimer();
            typingInput.value = '';
            typingInput.disabled = false;
            currentIndex = 0;
            correctChars = 0;
            totalTyped = 0;
            startTime = null;
            elapsedSeconds = 0;
            
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            timerDisplay.textContent = '0:00';
            timerDisplay.classList.remove('timer-warning');
            progressFill.style.width = '0%';
            
            renderText();
            updateChars();
            hideResults();
            typingInput.focus();
        }

        function newText() {
            resetTest();
            initText();
        }

        function setMode(newMode) {
            mode = newMode;
            modeBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.mode === newMode) {
                    btn.classList.add('active');
                }
            });
            
            if (newMode === 'free') {
                timeLimit = 0;
            } else {
                timeLimit = parseInt(newMode);
            }
            
            resetTest();
        }

        // Event Listeners
        typingInput.addEventListener('input', handleInput);
        
        typingInput.addEventListener('keydown', (e) => {
            // Prevent backspace beyond what's typed
            if (e.key === 'Backspace' && typingInput.value.length === 0) {
                e.preventDefault();
            }
        });

        newTextBtn.addEventListener('click', newText);
        resetBtn.addEventListener('click', resetTest);
        tryAgainBtn.addEventListener('click', newText);
        
        modeBtns.forEach(btn => {
            btn.addEventListener('click', () => setMode(btn.dataset.mode));
        });

        // Close modal on outside click
        resultsModal.addEventListener('click', (e) => {
            if (e.target === resultsModal) {
                hideResults();
            }
        });

        // Initialize
        initText();
        typingInput.focus();
    </script>
</body>
</html>