<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Match Madness</title>
<style>
    :root {
        --bg: radial-gradient(circle at 20% 20%, #ffe0f7, #c7e7ff 40%, #f6fff4 75%);
        --card-size: 110px;
        --accent: #7c4dff;
        --accent2: #ff7ec7;
    }
    * { box-sizing: border-box; }
    body {
        margin: 0;
        min-height: 100vh;
        font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
        background: var(--bg);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        overflow-x: hidden;
    }
    h1 {
        margin: 0;
        color: #2f2c4b;
        letter-spacing: 1px;
        text-shadow: 0 6px 30px rgba(0,0,0,0.12);
    }
    .game-shell {
        width: 100%;
        max-width: 960px;
        background: rgba(255,255,255,0.8);
        backdrop-filter: blur(5px);
        border-radius: 24px;
        padding: 24px;
        box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        position: relative;
        overflow: hidden;
    }
    .top-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: 16px;
    }
    .stats {
        display: flex;
        align-items: center;
        gap: 18px;
        font-size: 16px;
        color: #403958;
    }
    .stat-chip {
        background: linear-gradient(120deg, #fff, #f2eeff);
        padding: 10px 14px;
        border-radius: 14px;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.7), 0 6px 16px rgba(124,77,255,0.12);
        font-weight: 700;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    button {
        border: none;
        border-radius: 14px;
        padding: 10px 16px;
        cursor: pointer;
        font-weight: 700;
        color: #fff;
        background: linear-gradient(135deg, var(--accent), var(--accent2));
        box-shadow: 0 10px 20px rgba(124,77,255,0.25);
        transition: transform 0.15s ease, box-shadow 0.2s ease;
    }
    button:hover { transform: translateY(-2px); box-shadow: 0 14px 26px rgba(124,77,255,0.35); }
    button:active { transform: translateY(1px); }

    .grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(70px, 1fr));
        gap: 14px;
        perspective: 900px;
    }
    .slot {
        position: relative;
        width: 100%;
        aspect-ratio: 1;
        cursor: pointer;
        border-radius: 18px;
        filter: drop-shadow(0 8px 16px rgba(0,0,0,0.08));
    }
    .card {
        width: 100%; height: 100%;
        position: relative;
        border-radius: 18px;
        transition: transform 0.6s cubic-bezier(.22,1.28,.59,.99);
        transform-style: preserve-3d;
    }
    .card.flip { transform: rotateY(180deg) scale(1.05); }
    .card.matched { animation: pop 0.5s ease; }
    .face {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        font-size: 40px;
        border-radius: 18px;
        backface-visibility: hidden;
        user-select: none;
        font-weight: 700;
    }
    .back {
        background: linear-gradient(135deg, #f5f3ff, #e7f0ff);
        color: #7c4dff;
        letter-spacing: 1px;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.7);
    }
    .front {
        background: #fff;
        transform: rotateY(180deg);
        border: 2px solid rgba(124,77,255,0.1);
        box-shadow: inset 0 0 0 2px rgba(255,255,255,0.6);
    }
    .slot:hover .card:not(.flip):not(.matched) {
        transform: translateY(-3px) rotateY(0deg) scale(1.02);
        box-shadow: 0 14px 28px rgba(0,0,0,0.08);
    }
    @keyframes pop {
        0% { transform: rotateY(180deg) scale(1.05); }
        50% { transform: rotateY(180deg) scale(1.15); }
        100% { transform: rotateY(180deg) scale(1.05); }
    }

    .win-overlay {
        position: absolute;
        inset: 0;
        background: rgba(255,255,255,0.86);
        display: grid;
        place-items: center;
        padding: 24px;
        text-align: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.35s ease;
    }
    .win-overlay.active {
        opacity: 1;
        pointer-events: auto;
    }
    .modal {
        background: #fff;
        padding: 28px 32px;
        border-radius: 18px;
        box-shadow: 0 16px 40px rgba(0,0,0,0.14);
        min-width: 280px;
        animation: bounce 0.6s ease;
    }
    @keyframes bounce {
        0% { transform: translateY(12px) scale(.96); opacity: 0; }
        50% { transform: translateY(-4px) scale(1.02); opacity: 1; }
        100% { transform: translateY(0) scale(1); }
    }
    .sparkles {
        position: absolute;
        inset: 0;
        pointer-events: none;
        overflow: hidden;
        mix-blend-mode: screen;
    }
    .sparkles span {
        position: absolute;
        width: 8px; height: 8px;
        border-radius: 50%;
        background: rgba(255,255,255,0.7);
        animation: float 6s linear infinite;
        filter: blur(0.5px);
    }
    @keyframes float {
        0% { transform: translateY(120%); opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { transform: translateY(-120%); opacity: 0; }
    }
    @media (max-width: 640px) {
        .grid { grid-template-columns: repeat(4, minmax(60px, 1fr)); }
        .face { font-size: 30px; }
    }
</style>
</head>
<body>
<div class="game-shell">
    <div class="top-bar">
        <div>
            <h1>Memory Match Madness</h1>
            <div style="color:#666;">Find all the matching pairs. Quick, before time runs out!</div>
        </div>
        <div class="stats">
            <div class="stat-chip">üåÄ Moves: <span id="moves">0</span></div>
            <div class="stat-chip">‚è±Ô∏è Time: <span id="time">00:00</span></div>
            <button id="restartBtn">‚Üª Restart</button>
        </div>
    </div>
    <div class="grid" id="grid"></div>
    <div class="win-overlay" id="win">
        <div class="modal">
            <h2 style="margin-top:0;">üéâ You Won!</h2>
            <p>Moves: <strong id="finalMoves">0</strong><br>
               Time: <strong id="finalTime">00:00</strong></p>
            <button id="playAgain">Play Again</button>
        </div>
    </div>
    <div class="sparkles" id="sparkles"></div>
</div>

<script>
(function(){
    const symbols = ['üçâ','üçã','üçé','ü•ù','üçá','üçë','üçí','üçç'];
    const grid = document.getElementById('grid');
    const movesEl = document.getElementById('moves');
    const timeEl = document.getElementById('time');
    const restartBtn = document.getElementById('restartBtn');
    const winOverlay = document.getElementById('win');
    const finalMovesEl = document.getElementById('finalMoves');
    const finalTimeEl = document.getElementById('finalTime');
    const playAgainBtn = document.getElementById('playAgain');

    let deck = [];
    let flipped = [];
    let lock = false;
    let moves = 0;
    let matchedCount = 0;
    let timerInterval = null;
    let startTime = null;

    function formatTime(ms){
        const total = Math.floor(ms / 1000);
        const m = String(Math.floor(total / 60)).padStart(2,'0');
        const s = String(total % 60).padStart(2,'0');
        return `${m}:${s}`;
    }

    function startTimer(){
        startTime = Date.now();
        timerInterval = setInterval(()=>{
            timeEl.textContent = formatTime(Date.now() - startTime);
        }, 500);
    }

    function stopTimer(){
        clearInterval(timerInterval);
        timerInterval = null;
    }

    function shuffle(array){
        for(let i=array.length-1;i>0;i--){
            const j = Math.floor(Math.random()*(i+1));
            [array[i],array[j]]=[array[j],array[i]];
        }
        return array;
    }

    function createCard(symbol, index){
        const slot = document.createElement('div');
        slot.className = 'slot';
        slot.dataset.index = index;
        slot.dataset.symbol = symbol;

        const card = document.createElement('div');
        card.className = 'card';
        const back = document.createElement('div');
        back.className = 'face back';
        back.textContent = '‚ùî';
        const front = document.createElement('div');
        front.className = 'face front';
        front.textContent = symbol;

        card.appendChild(back);
        card.appendChild(front);
        slot.appendChild(card);

        slot.addEventListener('click', onCardClick);
        return slot;
    }

    function onCardClick(e){
        if(lock) return;
        const slot = e.currentTarget;
        const card = slot.firstElementChild;
        const index = slot.dataset.index;
        if(card.classList.contains('flip') || card.classList.contains('matched')) return;

        if(!timerInterval) startTimer();

        card.classList.add('flip');
        flipped.push(slot);

        if(flipped.length === 2){
            lock = true;
            moves++;
            movesEl.textContent = moves;
            checkPair();
        }
    }

    function checkPair(){
        const [first, second] = flipped;
        const match = first.dataset.symbol === second.dataset.symbol;
        if(match){
            first.firstElementChild.classList.add('matched');
            second.firstElementChild.classList.add('matched');
            matchedCount += 2;
            setTimeout(()=>{pulse(first); pulse(second);}, 200);
            resetFlip();
            if(matchedCount === deck.length){
                setTimeout(winGame, 600);
            }
        } else {
            setTimeout(()=>{
                first.firstElementChild.classList.remove('flip');
                second.firstElementChild.classList.remove('flip');
                resetFlip();
            }, 900);
        }
    }

    function pulse(el){
        el.firstElementChild.style.animation = 'pop 0.5s ease';
        el.firstElementChild.addEventListener('animationend',()=>{
            el.firstElementChild.style.animation = '';
        },{once:true});
    }

    function resetFlip(){
        flipped = [];
        lock = false;
    }

    function setup(){
        stopTimer();
        timeEl.textContent = "00:00";
        moves = 0;
        movesEl.textContent = moves;
        flipped = [];
        lock = false;
        matchedCount = 0;
        winOverlay.classList.remove('active');

        deck = shuffle([...symbols, ...symbols]);
        grid.innerHTML = '';
        deck.forEach((sym, idx)=>{
            grid.appendChild(createCard(sym, idx));
        });
    }

    function winGame(){
        stopTimer();
        finalMovesEl.textContent = moves;
        finalTimeEl.textContent = timeEl.textContent;
        winOverlay.classList.add('active');
        burstSparkles();
    }

    function burstSparkles(){
        const container = document.getElementById('sparkles');
        container.innerHTML = '';
        const colors = ['#7c4dff','#ff7ec7','#4dd0e1','#ffd166'];
        for(let i=0;i<40;i++){
            const sp = document.createElement('span');
            const size = Math.random()*10+6;
            sp.style.width = sp.style.height = size+'px';
            sp.style.background = colors[i%colors.length];
            sp.style.left = Math.random()*100+'%';
            sp.style.animationDuration = (Math.random()*3+3)+'s';
            sp.style.animationDelay = (-Math.random()*3)+'s';
            container.appendChild(sp);
        }
    }

    restartBtn.addEventListener('click', setup);
    playAgainBtn.addEventListener('click', setup);

    // Initial
    setup();
})();
</script>
</body>
</html>