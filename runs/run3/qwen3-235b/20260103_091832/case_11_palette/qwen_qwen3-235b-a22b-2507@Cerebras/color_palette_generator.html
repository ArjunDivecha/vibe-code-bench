<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        :root {
            --border-radius: 12px;
            --transition-speed: 0.3s;
            --shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            --hover-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color var(--transition-speed);
        }
        
        h1 {
            margin: 20px 0;
            font-weight: 600;
            font-size: 2rem;
            color: #2c3e50;
            text-align: center;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1rem;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            margin: 0 auto;
        }
        
        .palette {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .color {
            position: relative;
            width: 180px;
            height: 200px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            cursor: pointer;
            transition: all var(--transition-speed) ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }
        
        .color:hover {
            transform: translateY(-5px);
            box-shadow: var(--hover-shadow);
        }
        
        .color::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            z-index: 1;
        }
        
        .color.locked {
            transform: scale(0.95) rotate(2deg);
        }
        
        .color.locked:hover {
            transform: scale(0.95) rotate(2deg) translateY(-5px);
        }
        
        .color.locked::after {
            content: 'ðŸ”’';
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.8);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            z-index: 2;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .color .color-fill {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform var(--transition-speed);
        }
        
        .color:hover .color-fill {
            transform: scale(1.05);
        }
        
        .color-info {
            position: relative;
            z-index: 2;
            padding: 15px;
            color: white;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        }
        
        .color-name {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 5px;
            opacity: 0.9;
        }
        
        .color-hex {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            margin-bottom: 3px;
            opacity: 0.8;
        }
        
        .color-rgb {
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            opacity: 0.7;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            box-shadow: var(--shadow);
            transition: all var(--transition-speed);
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button.secondary {
            background: #95a5a6;
        }
        
        button.secondary:hover {
            background: #7f8c8d;
        }
        
        .saved-palettes {
            width: 100%;
            margin-top: 40px;
        }
        
        .saved-palettes h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
            font-size: 1.5rem;
        }
        
        .saved-list {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
            scrollbar-width: thin;
        }
        
        .saved-palette {
            min-width: 180px;
            height: 100px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            cursor: pointer;
            transition: all var(--transition-speed);
            position: relative;
        }
        
        .saved-palette:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
        }
        
        .saved-palette::after {
            content: attr(data-name);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px;
            font-size: 0.8rem;
            text-align: center;
        }
        
        .saved-colors {
            display: flex;
            height: 100%;
        }
        
        .saved-color {
            flex: 1;
            height: 100%;
        }
        
        .instructions {
            margin-top: 30px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding: 0 20px;
        }
        
        @media (max-width: 768px) {
            .color {
                width: 140px;
                height: 160px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #2ecc71;
            color: white;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--hover-shadow);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
            pointer-events: none;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Color Palette Generator</h1>
        <p class="subtitle">Click any color to copy its code â€¢ Press spacebar to generate new palette</p>
        
        <div class="palette" id="current-palette">
            <!-- Colors will be generated here -->
        </div>
        
        <div class="controls">
            <button id="generate-btn">Generate New Palette</button>
            <button id="save-btn" class="secondary">Save This Palette</button>
        </div>
        
        <div class="saved-palettes">
            <h2>Saved Palettes</h2>
            <div class="saved-list" id="saved-palettes-list">
                <!-- Saved palettes will appear here -->
            </div>
        </div>
        
        <div class="instructions">
            <p>Click a color to copy its HEX code â€¢ Click the lock icon to keep colors when generating â€¢ Press spacebar to generate new palette</p>
        </div>
    </div>
    
    <div class="toast" id="toast">Copied to clipboard!</div>
    
    <script>
        // Color names database
        const colorNames = [
            "Crimson Dawn", "Ocean Breeze", "Forest Canopy", "Sunset Glow", "Desert Sand",
            "Midnight Blue", "Lavender Mist", "Emerald Isle", "Golden Hour", "Rose Quartz",
            "Slate Gray", "Coral Reef", "Mint Julep", "Amber Waves", "Plum Perfect",
            "Sky High", "Charcoal Gray", "Buttercup", "Deep Teal", "Orchid Bliss",
            "Candy Apple", "Denim Dream", "Lemon Zest", "Peach Fuzz", "Steel Blue",
            "Magenta Magic", "Olive Grove", "Cobalt Sky", "Ruby Slippers", "Turquoise Isle",
            "Apricot Crush", "Navy Blazer", "Mint Chip", "Sunflower", "Dusty Lavender",
            "Crimson Tide", "Aqua Marine", "Forest Floor", "Golden Gate", "Rose Gold",
            "Storm Cloud", "Coral Sunset", "Mint Condition", "Amber Alert", "Plum Wine",
            "Skyline", "Graphite", "Lemon Drop", "Peach Cobbler", "Blue Lagoon"
        ];
        
        // DOM elements
        const paletteContainer = document.getElementById('current-palette');
        const generateBtn = document.getElementById('generate-btn');
        const saveBtn = document.getElementById('save-btn');
        const savedPalettesList = document.getElementById('saved-palettes-list');
        const toast = document.getElementById('toast');
        
        // Store locked colors and saved palettes
        let lockedColors = Array(5).fill(null);
        let savedPalettes = JSON.parse(localStorage.getItem('savedPalettes')) || [];
        
        // Color utility functions
        function randomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
        
        function hexToRgb(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgb(${r}, ${g}, ${b})`;
        }
        
        function getLuminance(hex) {
            const r = parseInt(hex.slice(1, 3), 16) / 255;
            const g = parseInt(hex.slice(3, 5), 16) / 255;
            const b = parseInt(hex.slice(5, 7), 16) / 255;
            
            const linear = [r, g, b].map(c => {
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            
            return 0.2126 * linear[0] + 0.7152 * linear[1] + 0.0722 * linear[2];
        }
        
        function getRandomColorName() {
            return colorNames[Math.floor(Math.random() * colorNames.length)];
        }
        
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(`${text} copied to clipboard!`);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                showToast('Failed to copy!');
            });
        }
        
        // Generate a new palette
        function generatePalette() {
            paletteContainer.innerHTML = '';
            
            const colors = [];
            for (let i = 0; i < 5; i++) {
                // Use locked color if available, otherwise generate new
                if (lockedColors[i]) {
                    colors.push(lockedColors[i]);
                } else {
                    colors.push(randomColor());
                }
            }
            
            colors.forEach((color, index) => {
                const colorElement = document.createElement('div');
                colorElement.className = `color ${lockedColors[index] ? 'locked' : ''}`;
                colorElement.style.backgroundColor = color;
                
                // Add color fill
                const colorFill = document.createElement('div');
                colorFill.className = 'color-fill';
                colorFill.style.backgroundColor = color;
                colorElement.appendChild(colorFill);
                
                // Add color info
                const colorInfo = document.createElement('div');
                colorInfo.className = 'color-info';
                
                const colorName = document.createElement('div');
                colorName.className = 'color-name';
                colorName.textContent = getRandomColorName();
                
                const colorHex = document.createElement('div');
                colorHex.className = 'color-hex';
                colorHex.textContent = color.toUpperCase();
                
                const colorRgb = document.createElement('div');
                colorRgb.className = 'color-rgb';
                colorRgb.textContent = hexToRgb(color);
                
                colorInfo.appendChild(colorName);
                colorInfo.appendChild(colorHex);
                colorInfo.appendChild(colorRgb);
                colorElement.appendChild(colorInfo);
                
                // Click to copy HEX
                colorElement.addEventListener('click', (e) => {
                    // If clicking on the lock area, toggle lock
                    if (e.target.closest('.color').classList.contains('locked') && 
                        (e.offsetX > e.target.offsetWidth - 40) && (e.offsetY < 40)) {
                        toggleLock(index);
                        return;
                    }
                    
                    copyToClipboard(color.toUpperCase());
                });
                
                // Double click to toggle lock
                colorElement.addEventListener('dblclick', () => {
                    toggleLock(index);
                });
                
                paletteContainer.appendChild(colorElement);
            });
        }
        
        function toggleLock(index) {
            if (lockedColors[index]) {
                lockedColors[index] = null;
            } else {
                // Get the current color at this position
                const colorElements = document.querySelectorAll('.color');
                const colorHex = colorElements[index].querySelector('.color-hex').textContent;
                lockedColors[index] = colorHex;
            }
            
            // Regenerate to update lock visuals
            generatePalette();
            showToast(lockedColors[index] ? 'Color locked!' : 'Color unlocked!');
        }
        
        function saveCurrentPalette() {
            const colors = Array.from(document.querySelectorAll('.color .color-hex'))
                .map(el => el.textContent);
            const name = prompt('Enter a name for this palette:', `Palette ${savedPalettes.length + 1}`);
            
            if (name) {
                const palette = {
                    id: Date.now(),
                    name: name,
                    colors: colors
                };
                
                savedPalettes.unshift(palette); // Add to beginning
                
                // Keep only the last 10 palettes
                if (savedPalettes.length > 10) {
                    savedPalettes.pop();
                }
                
                localStorage.setItem('savedPalettes', JSON.stringify(savedPalettes));
                renderSavedPalettes();
                showToast('Palette saved!');
            }
        }
        
        function renderSavedPalettes() {
            savedPalettesList.innerHTML = '';
            
            if (savedPalettes.length === 0) {
                savedPalettesList.style.justifyContent = 'center';
                const placeholder = document.createElement('p');
                placeholder.textContent = 'No saved palettes yet. Save your favorites!';
                placeholder.style.color = '#7f8c8d';
                placeholder.style fontStyle = 'italic';
                savedPalettesList.appendChild(placeholder);
                return;
            }
            
            savedPalettes.forEach(palette => {
                const paletteElement = document.createElement('div');
                paletteElement.className = 'saved-palette';
                paletteElement.dataset.name = palette.name;
                
                const colorsContainer = document.createElement('div');
                colorsContainer.className = 'saved-colors';
                
                palette.colors.forEach(color => {
                    const colorElement = document.createElement('div');
                    colorElement.className = 'saved-color';
                    colorElement.style.backgroundColor = color;
                    
                    // Click to use this palette
                    colorElement.addEventListener('click', () => {
                        // Set all colors as locked
                        lockedColors = [...palette.colors];
                        generatePalette();
                        showToast('Palette loaded!');
                    });
                    
                    colorsContainer.appendChild(colorElement);
                });
                
                paletteElement.appendChild(colorsContainer);
                savedPalettesList.appendChild(paletteElement);
            });
        }
        
        // Event listeners
        generateBtn.addEventListener('click', () => {
            generatePalette();
        });
        
        saveBtn.addEventListener('click', () => {
            saveCurrentPalette();
        });
        
        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                generatePalette();
            }
        });
        
        // Initialize
        renderSavedPalettes();
        generatePalette();
    </script>
</body>
</html>