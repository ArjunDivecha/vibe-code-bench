<!DOCTYPE html>
<html>
<head>
    <title>Typing Speed Test</title>
    <style>
        body {
            font-family: monospace;
        }
        .result {
            color: red;
        }
        .correct {
            color: green;
        }
        .timer {
            font-size: 24px;
        }
    </style>
</head>
<body>
    <h1>Typing Speed Test</h1>
    <p id="text-to-type"></p>
    <input id="input-box" type="text">
    <div id="stats">
        <span id="wpm">WPM: 0</span>
        <span id="accuracy">Accuracy: 0%</span>
        <button id="start-button">Start</button>
        <button id="submit-button" disabled>Submit</button>
    </div>
    <div id="timer" class="timer">00:00</div>
    <div id="results"></div>
    <div id="text-samples">
        <button id="text-sample-1">Sample 1</button>
        <button id="text-sample-2">Sample 2</button>
        <button id="text-sample-3">Sample 3</button>
        <button id="text-sample-4">Sample 4</button>
        <button id="text-sample-5">Sample 5</button>
        <button id="text-sample-6">Sample 6</button>
        <button id="text-sample-7">Sample 7</button>
        <button id="text-sample-8">Sample 8</button>
        <button id="text-sample-9">Sample 9</button>
        <button id="text-sample-10">Sample 10</button>
    </div>

    <script>
        let textSamples = [
            "The quick brown fox jumps over the lazy dog",
            "Jackdaws love my big sphinx of quartz",
            "How vexingly quick daft zebras jump!",
            "Pack my box with five dozen liquor jugs",
            "Bright vixens jump; dozy fowl quack",
            "How quickly Azariah jumped over the fence",
            "Quick brown foxes jump over the lazy dogs",
            "Bright vixens jump; dozy fowl quack quickly",
            "The five boxing wizards jump quickly at dawn",
            "The quick brown fox jumps over the lazy dog's house"
        ];

        let currentTextSample = textSamples[0];
        let inputBox = document.getElementById("input-box");
        let textToType = document.getElementById("text-to-type");
        let startButton = document.getElementById("start-button");
        let submitButton = document.getElementById("submit-button");
        let timer = document.getElementById("timer");
        let results = document.getElementById("results");
        let textSamplesContainer = document.getElementById("text-samples");

        let startTime;
        let elapsedSeconds = 0;
        let wpm = 0;
        let accuracy = 0;
        let correctChars = 0;
        let totalChars = 0;

        startButton.addEventListener("click", () => {
            startButton.disabled = true;
            submitButton.disabled = false;
            startTime = new Date().getTime();
            inputBox.focus();
            updateTextToType();
            setInterval(updateTimer, 1000);
        });

        inputBox.addEventListener("input", () => {
            let userInput = inputBox.value;
            let correct = 0;
            for (let i = 0; i < userInput.length; i++) {
                if (userInput[i] === currentTextSample[i]) {
                    correct++;
                }
            }
            correctChars = correct;
            totalChars = userInput.length;
            accuracy = (correct / totalChars) * 100;
            wpm = (correctChars / 5) / (elapsedSeconds / 60);
            let accuracySpan = document.getElementById("accuracy");
            accuracySpan.textContent = `Accuracy: ${accuracy.toFixed(2)}%`;
            let wpmSpan = document.getElementById("wpm");
            wpmSpan.textContent = `WPM: ${wpm.toFixed(2)}`;
            let result = document.createElement("p");
            result.textContent = `Correct: ${correct} / ${totalChars} (${accuracy.toFixed(2)}%)`;
            results.appendChild(result);
        });

        submitButton.addEventListener("click", () => {
            let endTime = new Date().getTime();
            elapsedSeconds = (endTime - startTime) / 1000;
            let result = document.createElement("p");
            result.textContent = `Final Stats: WPM: ${wpm.toFixed(2)}, Accuracy: ${accuracy.toFixed(2)}%`;
            results.appendChild(result);
            startButton.disabled = false;
            submitButton.disabled = true;
        });

        textSamplesContainer.addEventListener("click", (event) => {
            if (event.target.tagName === "BUTTON") {
                currentTextSample = textSamples[textSamples.indexOf(event.target.textContent)];
                updateTextToType();
            }
        });

        function updateTextToType() {
            textToType.textContent = currentTextSample;
        }

        function updateTimer() {
            let seconds = Math.floor(elapsedSeconds);
            let minutes = Math.floor(seconds / 60);
            timer.textContent = `${minutes.toString().padStart(2, "0")}:${seconds % 60.toString().padStart(2, "0")}`;
            elapsedSeconds++;
        }
    </script>
</body>
</html>