<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe-Law</title>
    <style>
        /* Dark mode legal theme */
        body {
            background-color: #2f4f7f;
            color: #ffffff;
        }
        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background-color: #333;
            border: 1px solid #444;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        .search-bar {
            width: 100%;
            height: 40px;
            padding: 10px;
            border: 1px solid #555;
            border-radius: 5px;
            background-color: #555;
            color: #fff;
            font-size: 16px;
        }
        .results-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .result-item {
            padding: 10px;
            border-bottom: 1px solid #666;
        }
        .result-item:hover {
            background-color: #555;
        }
        .detail-view {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: stretch;
            padding: 20px;
            border: 1px solid #666;
            border-radius: 5px;
            background-color: #555;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        .summary-tab {
            padding: 10px;
            border-bottom: 1px solid #666;
            background-color: #444;
        }
        .full-text-tab {
            padding: 10px;
            border-bottom: 1px solid #666;
            background-color: #444;
        }
        .entity-highlight {
            background-color: #ff9900;
            color: #000;
            padding: 2px;
        }
        .notes-sidebar {
            width: 300px;
            padding: 20px;
            border: 1px solid #666;
            border-radius: 5px;
            background-color: #555;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <input type="text" id="search-bar" class="search-bar" placeholder="Search case law">
        <ul id="results-list" class="results-list"></ul>
        <div id="detail-view" class="detail-view" style="display: none;">
            <div class="summary-tab">
                <h2>Summary</h2>
                <p id="summary-text"></p>
            </div>
            <div class="full-text-tab">
                <h2>Full Text</h2>
                <p id="full-text-text"></p>
                <button id="extract-entities-button">Extract Entities</button>
            </div>
            <div class="notes-sidebar">
                <h2>Notes</h2>
                <ul id="notes-list"></ul>
                <input type="text" id="note-input" placeholder="Add note...">
                <button id="add-note-button">Add Note</button>
            </div>
        </div>
    </div>
    <script>
        // Mock cases
        const cases = [
            { title: "Case 1", court: "Supreme Court", date: "2022-01-01", previewSnippet: "This is a preview snippet for Case 1" },
            { title: "Case 2", court: "Federal Court", date: "2022-02-01", previewSnippet: "This is a preview snippet for Case 2" },
            // Add more cases here...
        ];

        // Search function
        document.getElementById("search-bar").addEventListener("input", () => {
            const searchQuery = document.getElementById("search-bar").value.toLowerCase();
            const filteredCases = cases.filter(case => case.title.toLowerCase().includes(searchQuery));
            const resultsList = document.getElementById("results-list");
            resultsList.innerHTML = "";
            filteredCases.forEach(case => {
                const resultItem = document.createElement("li");
                resultItem.classList.add("result-item");
                resultItem.innerHTML = `
                    <h3>${case.title}</h3>
                    <p>${case.court}</p>
                    <p>${case.date}</p>
                    <p>${case.previewSnippet}</p>
                `;
                resultItem.addEventListener("click", () => {
                    showDetailView(case);
                });
                resultsList.appendChild(resultItem);
            });
        });

        // Show detail view
        function showDetailView(case) {
            const detailView = document.getElementById("detail-view");
            detailView.style.display = "block";
            document.getElementById("summary-text").innerHTML = case.title;
            document.getElementById("full-text-text").innerHTML = case.fullText;
            document.getElementById("extract-entities-button").addEventListener("click", () => {
                extractEntities(case.fullText);
            });
            const notesList = document.getElementById("notes-list");
            notesList.innerHTML = "";
            const notes = localStorage.getItem("notes") ? JSON.parse(localStorage.getItem("notes")) : [];
            notes.forEach(note => {
                const noteItem = document.createElement("li");
                noteItem.innerHTML = note;
                notesList.appendChild(noteItem);
            });
            document.getElementById("add-note-button").addEventListener("click", () => {
                const noteInput = document.getElementById("note-input").value;
                notes.push(noteInput);
                localStorage.setItem("notes", JSON.stringify(notes));
                notesList.innerHTML = "";
                notes.forEach(note => {
                    const noteItem = document.createElement("li");
                    noteItem.innerHTML = note;
                    notesList.appendChild(noteItem);
                });
            });
        }

        // Extract entities from full text
        function extractEntities(fullText) {
            // Simulate entity extraction by highlighting names and dates
            const regex = /\b[A-Z][a-z]+\b|\d{4}-\d{2}-\d{2}/g;
            const highlightedText = fullText.replace(regex, match => `<span class="entity-highlight">${match}</span>`);
            document.getElementById("full-text-text").innerHTML = highlightedText;
        }

        // Initialize search bar and results list
        document.getElementById("search-bar").addEventListener("input", () => {
            const searchQuery = document.getElementById("search-bar").value.toLowerCase();
            const filteredCases = cases.filter(case => case.title.toLowerCase().includes(searchQuery));
            const resultsList = document.getElementById("results-list");
            resultsList.innerHTML = "";
            filteredCases.forEach(case => {
                const resultItem = document.createElement("li");
                resultItem.classList.add("result-item");
                resultItem.innerHTML = `
                    <h3>${case.title}</h3>
                    <p>${case.court}</p>
                    <p>${case.date}</p>
                    <p>${case.previewSnippet}</p>
                `;
                resultItem.addEventListener("click", () => {
                    showDetailView(case);
                });
                resultsList.appendChild(resultItem);
            });
        });
    </script>
</body>
</html>