<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #e0e0e0;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-align: center;
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #888;
            margin-bottom: 30px;
            text-align: center;
        }

        .stats-bar {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            min-width: 120px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00ff88;
        }

        .stat-value.timer {
            color: #00d9ff;
        }

        .stat-value.accuracy {
            color: #ff9500;
        }

        .text-display {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            max-width: 800px;
            width: 100%;
            font-size: 1.3rem;
            line-height: 1.8;
            letter-spacing: 0.5px;
            min-height: 150px;
            position: relative;
        }

        .text-display .char {
            position: relative;
            padding: 2px 0;
        }

        .text-display .char.correct {
            color: #00ff88;
        }

        .text-display .char.incorrect {
            color: #ff4757;
            background: rgba(255, 71, 87, 0.2);
            border-radius: 3px;
        }

        .text-display .char.current {
            background: rgba(0, 217, 255, 0.3);
            border-radius: 3px;
        }

        .text-display .char.current::before {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 3px;
            background: #00d9ff;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .input-area {
            width: 100%;
            max-width: 800px;
            margin-bottom: 20px;
        }

        #textInput {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-family: 'Courier New', monospace;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        #TextInput:focus {
            border-color: #00d9ff;
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.3);
        }

        #textInput::placeholder {
            color: #555;
        }

        .buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 30px;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-restart {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #fff;
        }

        .btn-restart:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
        }

        .btn-new-text {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #1a1a2e;
        }

        .btn-new-text:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-content h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #00ff88;
        }

        .final-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .final-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
        }

        .final-stat .label {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 10px;
        }

        .final-stat .value {
            font-size: 2rem;
            font-weight: bold;
            color: #00d9ff;
        }

        .final-stat .value.wpm {
            color: #00ff88;
        }

        .final-stat .value.accuracy {
            color: #ff9500;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .progress-bar {
            width: 100%;
            max-width: 800px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            width: 0%;
            transition: width 0.3s;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.8rem;
            }

            .stats-bar {
                gap: 15px;
            }

            .stat {
                min-width: 100px;
                padding: 10px 15px;
            }

            .stat-value {
                font-size: 1.4rem;
            }

            .text-display {
                font-size: 1.1rem;
                padding: 20px;
            }

            .final-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <h1>‚å®Ô∏è Typing Speed Test</h1>
    <p class="subtitle">Test your typing skills and improve your WPM!</p>

    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <div class="stats-bar">
        <div class="stat">
            <div class="stat-label">Time</div>
            <div class="stat-value timer" id="timer">30</div>
        </div>
        <div class="stat">
            <div class="stat-label">WPM</div>
            <div class="stat-value" id="wpm">0</div>
        </div>
        <div class="stat">
            <div class="stat-label">Accuracy</div>
            <div class="stat-value accuracy" id="accuracy">100%</div>
        </div>
    </div>

    <div class="text-display" id="textDisplay"></div>

    <div class="input-area">
        <input type="text" id="textInput" placeholder="Start typing here..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
    </div>

    <div class="buttons">
        <button class="btn-restart" id="restartBtn">üîÑ Restart</button>
        <button class="btn-new-text" id="newTextBtn">üìù New Text</button>
    </div>

    <div class="modal" id="resultModal">
        <div class="modal-content">
            <h2>üéâ Test Complete!</h2>
            <div class="final-stats">
                <div class="final-stat">
                    <div class="label">Words Per Minute</div>
                    <div class="value wpm" id="finalWpm">0</div>
                </div>
                <div class="final-stat">
                    <div class="label">Accuracy</div>
                    <div class="value accuracy" id="finalAccuracy">0%</div>
                </div>
                <div class="final-stat">
                    <div class="label">Characters</div>
                    <div class="value" id="finalChars">0</div>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn-restart" id="modalRestartBtn">üîÑ Try Again</button>
                <button class="btn-new-text" id="modalNewTextBtn">üìù New Text</button>
            </div>
        </div>
    </div>

    <script>
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This classic sentence contains every letter of the alphabet and has been used for typing practice for generations. Master this sentence and you'll be well on your way to becoming a typing expert.",
            
            "In the heart of the bustling city, skyscrapers reached toward the clouds like fingers of steel and glass. The streets below were a river of yellow taxis and pedestrians, each with their own destination and story to tell. Time seemed to move differently here.",
            
            "Programming is the art of telling a computer what to do. It requires patience, logic, and creativity. Every great programmer started as a beginner, making mistakes and learning from them. The journey from novice to expert is filled with challenges and victories.",
            
            "The ocean stretched endlessly before her, its waves dancing under the golden sun. Seagulls cried overhead as they rode the coastal breeze. She closed her eyes and listened to the rhythmic sound of the water, feeling at peace in this moment of perfect tranquility.",
            
            "Technology has transformed our world in ways our ancestors could never have imagined. From smartphones to artificial intelligence, we live in an age of unprecedented innovation. Yet with these advancements come new responsibilities and challenges we must face together.",
            
            "A good book is like a portal to another world. Within its pages, you can visit distant lands, meet fascinating characters, and experience adventures beyond your wildest dreams. Reading is not just a hobby‚Äîit's a journey of the mind and soul.",
            
            "The ancient forest whispered secrets of centuries past. Tall trees stood as silent guardians, their canopies filtering sunlight into dancing patterns on the forest floor. Here, nature reigned supreme, and the passage of time seemed to slow to a gentle crawl.",
            
            "Cooking is both a science and an art. It requires understanding how ingredients interact and developing an intuition for flavors. Whether you're following a recipe or improvising with whatever you have, the act of creating a delicious meal is deeply satisfying.",
            
            "Music has the power to transcend language and culture. A melody can evoke emotions that words cannot express, bringing people together across boundaries of time and space. It is a universal language that speaks directly to the heart and soul.",
            
            "The stars above tell stories of ancient civilizations and distant worlds. Looking up at the night sky, we are reminded of how small we are yet how connected we are to the vast universe. Each point of light is a sun, potentially with its own planets and mysteries."
        ];

        let currentText = "";
        let currentIndex = 0;
        let timer = 30;
        let timerInterval = null;
        let isTestActive = false;
        let isTestComplete = false;
        let correctChars = 0;
        let totalCharsTyped = 0;

        const textDisplay = document.getElementById('textDisplay');
        const textInput = document.getElementById('textInput');
        const timerDisplay = document.getElementById('timer');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const progressFill = document.getElementById('progressFill');
        const resultModal = document.getElementById('resultModal');
        const finalWpm = document.getElementById('finalWpm');
        const finalAccuracy = document.getElementById('finalAccuracy');
        const finalChars = document.getElementById('finalChars');

        function init() {
            loadRandomText();
            textInput.addEventListener('input', handleInput);
            document.getElementById('restartBtn').addEventListener('click', restartTest);
            document.getElementById('newTextBtn').addEventListener('click', loadRandomText);
            document.getElementById('modalRestartBtn').addEventListener('click', () => {
                resultModal.classList.remove('show');
                restartTest();
            });
            document.getElementById('modalNewTextBtn').addEventListener('click', () => {
                resultModal.classList.remove('show');
                loadRandomText();
            });
        }

        function loadRandomText() {
            currentText = textSamples[Math.floor(Math.random() * textSamples.length)];
            restartTest();
        }

        function restartTest() {
            clearInterval(timerInterval);
            timer = 30;
            currentIndex = 0;
            isTestActive = false;
            isTestComplete = false;
            correctChars = 0;
            totalCharsTyped = 0;

            timerDisplay.textContent = timer;
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            progressFill.style.width = '0%';
            textInput.value = '';
            textInput.disabled = false;
            textInput.focus();

            renderText();
        }

        function renderText() {
            textDisplay.innerHTML = '';
            for (let i = 0; i < currentText.length; i++) {
                const span = document.createElement('span');
                span.className = 'char';
                span.textContent = currentText[i];
                if (i === currentIndex) {
                    span.classList.add('current');
                }
                textDisplay.appendChild(span);
            }
        }

        function handleInput(e) {
            if (isTestComplete) {
                e.target.value = '';
                return;
            }

            const typedText = e.target.value;
            
            if (!isTestActive && typedText.length > 0) {
                startTest();
            }

            if (typedText.length === 0) {
                currentIndex = 0;
                renderText();
                return;
            }

            const chars = textDisplay.querySelectorAll('.char');
            const lastTypedIndex = typedText.length - 1;
            totalCharsTyped++;

            if (lastTypedIndex < currentText.length) {
                if (typedText[lastTypedIndex] === currentText[lastTypedIndex]) {
                    chars[lastTypedIndex].classList.add('correct');
                    chars[lastTypedIndex].classList.remove('incorrect');
                    correctChars++;
                } else {
                    chars[lastTypedIndex].classList.add('incorrect');
                    chars[lastTypedIndex].classList.remove('correct');
                }

                // Update current position
                chars.forEach((char, i) => {
                    char.classList.remove('current');
                });
                
                if (lastTypedIndex + 1 < chars.length) {
                    chars[lastTypedIndex + 1].classList.add('current');
                }
            }

            // Update progress
            const progress = (typedText.length / currentText.length) * 100;
            progressFill.style.width = Math.min(progress, 100) + '%';

            // Update stats
            updateStats();

            // Check if completed
            if (typedText.length >= currentText.length) {
                completeTest();
            }
        }

        function startTest() {
            isTestActive = true;
            timerInterval = setInterval(() => {
                timer--;
                timerDisplay.textContent = timer;
                
                if (timer <= 0) {
                    completeTest();
                }
            }, 1000);
        }

        function updateStats() {
            // Calculate WPM
            const timeElapsed = 30 - timer;
            if (timeElapsed > 0) {
                const wordsTyped = correctChars / 5; // Standard: 5 chars = 1 word
                const wpm = Math.round((wordsTyped / timeElapsed) * 60);
                wpmDisplay.textContent = wpm;
            }

            // Calculate accuracy
            if (totalCharsTyped > 0) {
                const accuracy = Math.round((correctChars / totalCharsTyped) * 100);
                accuracyDisplay.textContent = accuracy + '%';
            }
        }

        function completeTest() {
            isTestComplete = true;
            isTestActive = false;
            clearInterval(timerInterval);
            textInput.disabled = true;

            // Calculate final stats
            const timeElapsed = 30 - timer || 30;
            const wordsTyped = correctChars / 5;
            const finalWpmValue = Math.round((wordsTyped / timeElapsed) * 60);
            const finalAccuracyValue = totalCharsTyped > 0 
                ? Math.round((correctChars / totalCharsTyped) * 100) 
                : 0;

            // Show modal
            finalWpm.textContent = finalWpmValue;
            finalAccuracy.textContent = finalAccuracyValue + '%';
            finalChars.textContent = correctChars;
            resultModal.classList.add('show');
        }

        // Initialize on load
        init();
    </script>
</body>
</html>