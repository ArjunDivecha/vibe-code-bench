<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Unit Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2em;
      background-color: #f4f4f4;
      color: #333;
    }

    h1 {
      text-align: center;
    }

    .converter {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 1em 2em;
      border-radius: 8px;
      box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
    }

    .row {
      display: flex;
      flex-direction: row;
      gap: 1em;
      margin-bottom: 1em;
    }

    .row label {
      flex: 1;
    }

    input, select, button {
      padding: 0.5em;
      font-size: 1em;
      width: 100%;
      box-sizing: border-box;
    }

    .swap-button {
      text-align: center;
      margin-bottom: 1em;
    }

    .swap-button button {
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.5em 1em;
      cursor: pointer;
    }

    .swap-button button:hover {
      background: #0056b3;
    }

    .formula {
      font-size: 0.9em;
      color: #555;
      margin-bottom: 1em;
    }

    .quick-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5em;
      margin-top: 1em;
    }

    .quick-buttons button {
      flex: 1 1 45%;
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 0.5em;
      cursor: pointer;
    }

    .quick-buttons button:hover {
      background: #ddd;
    }

    @media (max-width: 600px) {
      .row {
        flex-direction: column;
      }

      .quick-buttons button {
        flex: 1 1 100%;
      }
    }
  </style>
</head>
<body>
  <h1>Unit Converter</h1>
  <div class="converter">
    <div class="row">
      <label>
        Category:
        <select id="category">
          <option value="length">Length</option>
          <option value="weight">Weight</option>
          <option value="temperature">Temperature</option>
          <option value="volume">Volume</option>
          <option value="time">Time</option>
        </select>
      </label>
    </div>

    <div class="row">
      <label>
        From:
        <select id="fromUnit"></select>
      </label>
      <label>
        To:
        <select id="toUnit"></select>
      </label>
    </div>

    <div class="row">
      <label>
        From Value:
        <input type="number" id="fromValue" />
      </label>
      <label>
        To Value:
        <input type="number" id="toValue" disabled />
      </label>
    </div>

    <div class="swap-button">
      <button id="swapBtn">Swap</button>
    </div>

    <div class="formula" id="formulaDisplay">
      Formula: -
    </div>

    <div class="quick-buttons" id="quickButtons"></div>
  </div>

  <script>
    const unitOptions = {
      length: {
        units: ['km', 'm', 'cm', 'mm', 'miles', 'feet', 'inches'],
        base: 'm',
        toBase: {
          km: v => v * 1000,
          m: v => v,
          cm: v => v / 100,
          mm: v => v / 1000,
          miles: v => v * 1609.34,
          feet: v => v * 0.3048,
          inches: v => v * 0.0254
        },
        fromBase: {
          km: v => v / 1000,
          m: v => v,
          cm: v => v * 100,
          mm: v => v * 1000,
          miles: v => v / 1609.34,
          feet: v => v / 0.3048,
          inches: v => v / 0.0254
        }
      },
      weight: {
        units: ['kg', 'g', 'lb', 'oz'],
        base: 'kg',
        toBase: {
          kg: v => v,
          g: v => v / 1000,
          lb: v => v * 0.453592,
          oz: v => v * 0.0283495
        },
        fromBase: {
          kg: v => v,
          g: v => v * 1000,
          lb: v => v / 0.453592,
          oz: v => v / 0.0283495
        }
      },
      temperature: {
        units: ['C', 'F', 'K'],
        convert: (value, from, to) => {
          let result;
          let formula = '';
          if (from === to) {
            result = value;
            formula = `${value} ${from} = ${value} ${to}`;
          } else {
            let celsius;
            if (from === 'C') celsius = value;
            else if (from === 'F') celsius = (value - 32) * 5/9;
            else if (from === 'K') celsius = value - 273.15;

            if (to === 'C') result = celsius;
            else if (to === 'F') result = celsius * 9/5 + 32;
            else if (to === 'K') result = celsius + 273.15;

            formula = `${value} ${from} = ${result.toFixed(2)} ${to}`;
          }
          return [result, formula];
        }
      },
      volume: {
        units: ['L', 'mL', 'gallons', 'cups'],
        base: 'L',
        toBase: {
          L: v => v,
          mL: v => v / 1000,
          gallons: v => v * 3.78541,
          cups: v => v * 0.24
        },
        fromBase: {
          L: v => v,
          mL: v => v * 1000,
          gallons: v => v / 3.78541,
          cups: v => v / 0.24
        }
      },
      time: {
        units: ['hours', 'minutes', 'seconds'],
        base: 'seconds',
        toBase: {
          hours: v => v * 3600,
          minutes: v => v * 60,
          seconds: v => v
        },
        fromBase: {
          hours: v => v / 3600,
          minutes: v => v / 60,
          seconds: v => v
        }
      }
    };

    const categorySelect = document.getElementById('category');
    const fromUnitSelect = document.getElementById('fromUnit');
    const toUnitSelect = document.getElementById('toUnit');
    const fromValueInput = document.getElementById('fromValue');
    const toValueInput = document.getElementById('toValue');
    const swapBtn = document.getElementById('swapBtn');
    const formulaDisplay = document.getElementById('formulaDisplay');
    const quickButtonsDiv = document.getElementById('quickButtons');

    const quickConversions = [
      { label: '1 km → miles', category: 'length', from: 'km', to: 'miles', value: 1 },
      { label: '100 cm → inches', category: 'length', from: 'cm', to: 'inches', value: 100 },
      { label: '1 kg → lb', category: 'weight', from: 'kg', to: 'lb', value: 1 },
      { label: '32 F → C', category: 'temperature', from: 'F', to: 'C', value: 32 },
      { label: '1 gallon → L', category: 'volume', from: 'gallons', to: 'L', value: 1 },
      { label: '2 hours → minutes', category: 'time', from: 'hours', to: 'minutes', value: 2 }
    ];

    function populateUnits() {
      const cat = categorySelect.value;
      const units = unitOptions[cat].units;
      fromUnitSelect.innerHTML = '';
      toUnitSelect.innerHTML = '';
      units.forEach(unit => {
        fromUnitSelect.innerHTML += `<option value="${unit}">${unit}</option>`;
        toUnitSelect.innerHTML += `<option value="${unit}">${unit}</option>`;
      });
    }

    function convertAndDisplay() {
      const cat = categorySelect.value;
      const from = fromUnitSelect.value;
      const to = toUnitSelect.value;
      const val = parseFloat(fromValueInput.value);
      if (isNaN(val)) {
        toValueInput.value = '';
        formulaDisplay.textContent = 'Formula: -';
        return;
      }

      let result, formula;
      if (cat === 'temperature') {
        [result, formula] = unitOptions[cat].convert(val, from, to);
      } else {
        const toBase = unitOptions[cat].toBase[from](val);
        result = unitOptions[cat].fromBase[to](toBase);
        formula = `${val} ${from} = ${result.toFixed(4)} ${to}`;
      }

      toValueInput.value = result.toFixed(4);
      formulaDisplay.textContent = `Formula: ${formula}`;
    }

    function attachEvents() {
      categorySelect.addEventListener('change', () => {
        populateUnits();
        convertAndDisplay();
      });

      fromUnitSelect.addEventListener('change', convertAndDisplay);
      toUnitSelect.addEventListener('change', convertAndDisplay);
      fromValueInput.addEventListener('input', convertAndDisplay);
      swapBtn.addEventListener('click', () => {
        const tmp = fromUnitSelect.value;
        fromUnitSelect.value = toUnitSelect.value;
        toUnitSelect.value = tmp;
        convertAndDisplay();
      });
    }

    function createQuickButtons() {
      quickButtonsDiv.innerHTML = '';
      quickConversions.forEach(conv => {
        const btn = document.createElement('button');
        btn.textContent = conv.label;
        btn.addEventListener('click', () => {
          categorySelect.value = conv.category;
          populateUnits();
          fromUnitSelect.value = conv.from;
          toUnitSelect.value = conv.to;
          fromValueInput.value = conv.value;
          convertAndDisplay();
        });
        quickButtonsDiv.appendChild(btn);
      });
    }

    // Initialize
    populateUnits();
    attachEvents();
    createQuickButtons();
  </script>
</body>
</html>