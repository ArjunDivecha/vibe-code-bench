<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Converter</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 500px;
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 28px;
        }
        
        .category-selector {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        select:focus {
            border-color: #2575fc;
            outline: none;
        }
        
        .converter-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .input-field {
            flex: 1;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 18px;
            text-align: center;
        }
        
        .input-field:focus {
            border-color: #2575fc;
            outline: none;
        }
        
        .unit-selector {
            width: 30%;
            margin: 0 10px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .swap-btn {
            background: #2575fc;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            transition: background 0.3s;
        }
        
        .swap-btn:hover {
            background: #1a68e8;
        }
        
        .formula-box {
            background: #e9f7fe;
            border-left: 4px solid #2575fc;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
            font-size: 16px;
        }
        
        .formula-box strong {
            color: #2575fc;
        }
        
        .quick-conversions {
            margin-top: 20px;
        }
        
        .quick-conversions h3 {
            margin-bottom: 10px;
            color: #555;
        }
        
        .quick-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .quick-btn {
            background: #e9ecef;
            border: none;
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .quick-btn:hover {
            background: #dee2e6;
        }
        
        @media (max-width: 500px) {
            .container {
                padding: 20px;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .unit-selector {
                width: 100%;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Unit Converter</h1>
        
        <div class="category-selector">
            <label for="category">Select Category:</label>
            <select id="category">
                <option value="length">Length</option>
                <option value="weight">Weight</option>
                <option value="temperature">Temperature</option>
                <option value="volume">Volume</option>
                <option value="time">Time</option>
            </select>
        </div>
        
        <div class="converter-box">
            <div class="input-group">
                <input type="number" id="inputValue" class="input-field" placeholder="Enter value" value="1">
                <select id="fromUnit" class="unit-selector"></select>
            </div>
            
            <button class="swap-btn" id="swapBtn">⇄</button>
            
            <div class="input-group">
                <input type="text" id="outputValue" class="input-field" placeholder="Result" readonly>
                <select id="toUnit" class="unit-selector"></select>
            </div>
        </div>
        
        <div class="formula-box">
            <strong>Formula:</strong> <span id="formula">Select units to see formula</span>
        </div>
        
        <div class="quick-conversions">
            <h3>Common Conversions:</h3>
            <div class="quick-buttons" id="quickButtons"></div>
        </div>
    </div>

    <script>
        // Unit definitions with conversion factors relative to base unit
        const units = {
            length: {
                km: 1000,
                m: 1,
                cm: 0.01,
                mm: 0.001,
                miles: 1609.34,
                feet: 0.3048,
                inches: 0.0254
            },
            weight: {
                kg: 1,
                g: 0.001,
                lb: 0.453592,
                oz: 0.0283495
            },
            temperature: {
                C: "Celsius",
                F: "Fahrenheit",
                K: "Kelvin"
            },
            volume: {
                L: 1,
                mL: 0.001,
                gallons: 3.78541,
                cups: 0.24
            },
            time: {
                hours: 3600,
                minutes: 60,
                seconds: 1
            }
        };

        // Common conversions for quick buttons
        const commonConversions = {
            length: [
                {from: "m", to: "km"},
                {from: "km", to: "miles"},
                {from: "miles", to: "km"},
                {from: "feet", to: "inches"}
            ],
            weight: [
                {from: "kg", to: "lb"},
                {from: "lb", to: "kg"},
                {from: "g", to: "oz"},
                {from: "oz", to: "g"}
            ],
            temperature: [
                {from: "C", to: "F"},
                {from: "F", to: "C"},
                {from: "C", to: "K"}
            ],
            volume: [
                {from: "L", to: "mL"},
                {from: "gallons", to: "L"},
                {from: "L", to: "cups"}
            ],
            time: [
                {from: "hours", to: "minutes"},
                {from: "minutes", to: "seconds"},
                {from: "hours", to: "seconds"}
            ]
        };

        // Temperature conversion formulas
        const tempFormulas = {
            "C to F": "F = (C × 9/5) + 32",
            "F to C": "C = (F - 32) × 5/9",
            "C to K": "K = C + 273.15",
            "K to C": "C = K - 273.15",
            "F to K": "K = (F - 32) × 5/9 + 273.15",
            "K to F": "F = (K - 273.15) × 9/5 + 32"
        };

        // DOM elements
        const categorySelect = document.getElementById('category');
        const fromUnitSelect = document.getElementById('fromUnit');
        const toUnitSelect = document.getElementById('toUnit');
        const inputValue = document.getElementById('inputValue');
        const outputValue = document.getElementById('outputValue');
        const swapBtn = document.getElementById('swapBtn');
        const formulaElement = document.getElementById('formula');
        const quickButtonsContainer = document.getElementById('quickButtons');

        // Initialize the converter
        function initConverter() {
            populateUnits();
            setupEventListeners();
            updateQuickButtons();
            convert();
        }

        // Populate unit dropdowns based on category
        function populateUnits() {
            const category = categorySelect.value;
            const unitList = Object.keys(units[category]);
            
            // Clear existing options
            fromUnitSelect.innerHTML = '';
            toUnitSelect.innerHTML = '';
            
            // Add new options
            unitList.forEach(unit => {
                const fromOption = document.createElement('option');
                fromOption.value = unit;
                fromOption.textContent = unit;
                fromUnitSelect.appendChild(fromOption);
                
                const toOption = document.createElement('option');
                toOption.value = unit;
                toOption.textContent = unit;
                toUnitSelect.appendChild(toOption);
            });
            
            // Set default selections
            if (category === 'length') {
                fromUnitSelect.value = 'm';
                toUnitSelect.value = 'km';
            } else if (category === 'weight') {
                fromUnitSelect.value = 'kg';
                toUnitSelect.value = 'lb';
            } else if (category === 'temperature') {
                fromUnitSelect.value = 'C';
                toUnitSelect.value = 'F';
            } else if (category === 'volume') {
                fromUnitSelect.value = 'L';
                toUnitSelect.value = 'mL';
            } else if (category === 'time') {
                fromUnitSelect.value = 'hours';
                toUnitSelect.value = 'minutes';
            }
        }

        // Set up event listeners
        function setupEventListeners() {
            categorySelect.addEventListener('change', () => {
                populateUnits();
                updateQuickButtons();
                convert();
            });
            
            fromUnitSelect.addEventListener('change', convert);
            toUnitSelect.addEventListener('change', convert);
            inputValue.addEventListener('input', convert);
            swapBtn.addEventListener('click', swapUnits);
        }

        // Convert units
        function convert() {
            const category = categorySelect.value;
            const fromUnit = fromUnitSelect.value;
            const toUnit = toUnitSelect.value;
            const input = parseFloat(inputValue.value);
            
            if (isNaN(input)) {
                outputValue.value = '';
                updateFormula();
                return;
            }
            
            let result;
            
            if (category === 'temperature') {
                result = convertTemperature(input, fromUnit, toUnit);
            } else {
                // For other categories, convert to base unit first, then to target unit
                const fromFactor = units[category][fromUnit];
                const toFactor = units[category][toUnit];
                result = (input * fromFactor) / toFactor;
            }
            
            outputValue.value = roundResult(result);
            updateFormula();
        }

        // Temperature conversion
        function convertTemperature(value, from, to) {
            if (from === to) return value;
            
            // Convert to Celsius first
            let celsius;
            if (from === 'C') {
                celsius = value;
            } else if (from === 'F') {
                celsius = (value - 32) * 5/9;
            } else if (from === 'K') {
                celsius = value - 273.15;
            }
            
            // Convert from Celsius to target unit
            if (to === 'C') {
                return celsius;
            } else if (to === 'F') {
                return (celsius * 9/5) + 32;
            } else if (to === 'K') {
                return celsius + 273.15;
            }
        }

        // Round result to appropriate decimal places
        function roundResult(value) {
            if (Math.abs(value) > 1000000 || (Math.abs(value) < 0.000001 && value !== 0)) {
                return value.toExponential(6);
            }
            
            const decimalPlaces = Math.abs(value) < 1 ? 6 : 
                                 Math.abs(value) < 100 ? 4 : 
                                 Math.abs(value) < 1000 ? 2 : 0;
            
            return parseFloat(value.toFixed(decimalPlaces));
        }

        // Update formula display
        function updateFormula() {
            const category = categorySelect.value;
            const fromUnit = fromUnitSelect.value;
            const toUnit = toUnitSelect.value;
            
            if (category === 'temperature') {
                const key = `${fromUnit} to ${toUnit}`;
                formulaElement.textContent = tempFormulas[key] || 'Formula not available';
            } else {
                const fromFactor = units[category][fromUnit];
                const toFactor = units[category][toUnit];
                
                if (fromUnit === toUnit) {
                    formulaElement.textContent = 'Same units - no conversion needed';
                } else {
                    // Simplify for common cases
                    if (category === 'length') {
                        if (fromUnit === 'm' && toUnit === 'km') {
                            formulaElement.textContent = 'km = m ÷ 1000';
                        } else if (fromUnit === 'km' && toUnit === 'm') {
                            formulaElement.textContent = 'm = km × 1000';
                        } else {
                            formulaElement.textContent = `1 ${fromUnit} = ${(toFactor/fromFactor).toFixed(6)} ${toUnit}`;
                        }
                    } else {
                        formulaElement.textContent = `1 ${fromUnit} = ${(toFactor/fromFactor).toFixed(6)} ${toUnit}`;
                    }
                }
            }
        }

        // Swap units
        function swapUnits() {
            const temp = fromUnitSelect.value;
            fromUnitSelect.value = toUnitSelect.value;
            toUnitSelect.value = temp;
            convert();
        }

        // Update quick conversion buttons
        function updateQuickButtons() {
            const category = categorySelect.value;
            const conversions = commonConversions[category];
            
            quickButtonsContainer.innerHTML = '';
            
            conversions.forEach(conv => {
                const button = document.createElement('button');
                button.className = 'quick-btn';
                button.textContent = `${conv.from} → ${conv.to}`;
                button.addEventListener('click', () => {
                    fromUnitSelect.value = conv.from;
                    toUnitSelect.value = conv.to;
                    convert();
                });
                quickButtonsContainer.appendChild(button);
            });
        }

        // Initialize the converter when page loads
        window.addEventListener('DOMContentLoaded', initConverter);
    </script>
</body>
</html>