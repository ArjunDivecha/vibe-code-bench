<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-around;
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .stat-box {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .timer {
            color: #e74c3c;
        }
        
        .text-display {
            background-color: #fff;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            min-height: 150px;
            font-size: 1.2rem;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .correct {
            color: #27ae60;
        }
        
        .incorrect {
            color: #e74c3c;
            text-decoration: underline;
        }
        
        .current {
            background-color: #f1c40f;
        }
        
        .input-container {
            margin-bottom: 30px;
        }
        
        #typing-input {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            resize: none;
            min-height: 100px;
        }
        
        #typing-input:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .controls {
            text-align: center;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .result-container {
            background-color: #fff;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: none;
        }
        
        .result-title {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .final-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .final-stat {
            text-align: center;
        }
        
        .final-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .wpm-value {
            color: #3498db;
        }
        
        .accuracy-value {
            color: #27ae60;
        }
        
        .time-value {
            color: #e74c3c;
        }
        
        .sample-selector {
            margin-bottom: 20px;
        }
        
        select {
            padding: 10px;
            font-size: 1rem;
            border-radius: 5px;
            border: 1px solid #ddd;
            width: 100%;
        }
    </style>
</head>
<body>
    <header>
        <h1>Typing Speed Test</h1>
        <p>Test your typing speed and accuracy</p>
    </header>
    
    <div class="sample-selector">
        <select id="text-sample">
            <option value="0">Text Sample 1</option>
            <option value="1">Text Sample 2</option>
            <option value="2">Text Sample 3</option>
            <option value="3">Text Sample 4</option>
            <option value="4">Text Sample 5</option>
            <option value="5">Text Sample 6</option>
            <option value="6">Text Sample 7</option>
            <option value="7">Text Sample 8</option>
            <option value="8">Text Sample 9</option>
            <option value="9">Text Sample 10</option>
        </select>
    </div>
    
    <div class="stats-container">
        <div class="stat-box">
            <div class="stat-value timer" id="timer">00:30</div>
            <div class="stat-label">Time</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="wpm">0</div>
            <div class="stat-label">WPM</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="accuracy">100%</div>
            <div class="stat-label">Accuracy</div>
        </div>
    </div>
    
    <div class="text-display" id="text-display"></div>
    
    <div class="input-container">
        <textarea id="typing-input" placeholder="Start typing here..."></textarea>
    </div>
    
    <div class="controls">
        <button id="restart-btn">Restart Test</button>
    </div>
    
    <div class="result-container" id="result-container">
        <h2 class="result-title">Test Results</h2>
        <div class="final-stats">
            <div class="final-stat">
                <div class="final-value wpm-value" id="final-wpm">0</div>
                <div class="stat-label">Words Per Minute</div>
            </div>
            <div class="final-stat">
                <div class="final-value accuracy-value" id="final-accuracy">0%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="final-stat">
                <div class="final-value time-value" id="final-time">0s</div>
                <div class="stat-label">Time</div>
            </div>
        </div>
        <button id="try-again-btn">Try Again</button>
    </div>

    <script>
        // Text samples for typing test
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This sentence contains all letters of the English alphabet. Practice makes perfect when it comes to improving your typing skills. Keep typing to increase your speed and accuracy.",
            "Programming is the process of creating a set of instructions that tell a computer how to perform a task. It involves designing, coding, testing, and maintaining software applications. Learning to program can open up many career opportunities in technology.",
            "The Internet is a global network of computers connected to each other which communicate through a standardized set of protocols. It has revolutionized the way we access information and connect with people around the world.",
            "Artificial intelligence is a branch of computer science that aims to create software or machines that exhibit human-like intelligence. This can include learning from experience, understanding natural language, and solving problems.",
            "Climate change refers to significant changes in global temperatures and weather patterns over time. While climate change can occur naturally, scientific evidence shows that human activities are the primary driver of recent changes.",
            "Healthy eating is a term used to describe a balanced diet that provides all the necessary nutrients for optimal health. It includes consuming a variety of fruits, vegetables, whole grains, lean proteins, and healthy fats while limiting processed foods.",
            "Exercise is physical activity that is planned, structured, and repetitive for the purpose of improving or maintaining physical fitness. Regular exercise can help reduce the risk of chronic diseases and improve mental health.",
            "Sleep is a naturally recurring state of mind and body characterized by altered consciousness, relatively inhibited sensory activity, and reduced muscle activity. Getting adequate sleep is essential for cognitive function and overall health.",
            "Renewable energy comes from natural sources that are constantly replenished, such as sunlight, wind, rain, tides, and geothermal heat. These sources provide clean alternatives to fossil fuels and help reduce greenhouse gas emissions.",
            "Mindfulness is the practice of maintaining a moment-by-moment awareness of our thoughts, feelings, bodily sensations, and surrounding environment. It involves acceptance rather than judgment and can improve mental well-being."
        ];

        // DOM elements
        const textDisplay = document.getElementById('text-display');
        const typingInput = document.getElementById('typing-input');
        const timerElement = document.getElementById('timer');
        const wpmElement = document.getElementById('wpm');
        const accuracyElement = document.getElementById('accuracy');
        const restartBtn = document.getElementById('restart-btn');
        const resultContainer = document.getElementById('result-container');
        const finalWpm = document.getElementById('final-wpm');
        const finalAccuracy = document.getElementById('final-accuracy');
        const finalTime = document.getElementById('final-time');
        const tryAgainBtn = document.getElementById('try-again-btn');
        const textSampleSelect = document.getElementById('text-sample');

        // Game variables
        let currentText = '';
        let startTime = null;
        let timerInterval = null;
        let timeLeft = 30; // 30 seconds timer
        let gameActive = false;

        // Initialize the game
        function initGame() {
            const sampleIndex = parseInt(textSampleSelect.value);
            currentText = textSamples[sampleIndex];
            textDisplay.innerHTML = '';
            typingInput.value = '';
            typingInput.disabled = false;
            resultContainer.style.display = 'none';
            timeLeft = 30;
            updateTimerDisplay();
            wpmElement.textContent = '0';
            accuracyElement.textContent = '100%';
            
            // Display the text with individual character spans
            for (let i = 0; i < currentText.length; i++) {
                const charSpan = document.createElement('span');
                charSpan.innerText = currentText[i];
                textDisplay.appendChild(charSpan);
            }
            
            typingInput.focus();
            gameActive = true;
        }

        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
            const seconds = (timeLeft % 60).toString().padStart(2, '0');
            timerElement.textContent = `${minutes}:${seconds}`;
        }

        // Start the timer
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // Update WPM and accuracy
        function updateStats() {
            const typedText = typingInput.value;
            const currentTime = new Date();
            const timeElapsed = (currentTime - startTime) / 60000; // in minutes
            
            // Calculate WPM (5 characters = 1 word)
            const charactersTyped = typedText.length;
            const wpm = timeElapsed > 0 ? Math.round((charactersTyped / 5) / timeElapsed) : 0;
            wpmElement.textContent = wpm;
            
            // Calculate accuracy
            let correctChars = 0;
            for (let i = 0; i < typedText.length; i++) {
                if (i < currentText.length && typedText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            const accuracy = typedText.length > 0 ? Math.round((correctChars / typedText.length) * 100) : 100;
            accuracyElement.textContent = `${accuracy}%`;
        }

        // Highlight text based on user input
        function highlightText() {
            const typedText = typingInput.value;
            const characters = textDisplay.querySelectorAll('span');
            
            // Reset all classes
            characters.forEach(char => {
                char.className = '';
            });
            
            // Highlight characters
            for (let i = 0; i < characters.length; i++) {
                if (i < typedText.length) {
                    if (typedText[i] === currentText[i]) {
                        characters[i].classList.add('correct');
                    } else {
                        characters[i].classList.add('incorrect');
                    }
                }
            }
            
            // Highlight current character
            if (typedText.length < characters.length) {
                characters[typedText.length].classList.add('current');
            }
        }

        // End the game
        function endGame() {
            gameActive = false;
            clearInterval(timerInterval);
            typingInput.disabled = true;
            
            // Calculate final stats
            const typedText = typingInput.value;
            const timeElapsed = 30 - timeLeft;
            const minutes = timeElapsed / 60;
            
            // Calculate WPM
            const words = typedText.length / 5;
            const wpm = minutes > 0 ? Math.round(words / minutes) : 0;
            
            // Calculate accuracy
            let correctChars = 0;
            for (let i = 0; i < typedText.length; i++) {
                if (i < currentText.length && typedText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            const accuracy = typedText.length > 0 ? Math.round((correctChars / typedText.length) * 100) : 0;
            
            // Display results
            finalWpm.textContent = wpm;
            finalAccuracy.textContent = `${accuracy}%`;
            finalTime.textContent = `${timeElapsed}s`;
            resultContainer.style.display = 'block';
        }

        // Event listeners
        typingInput.addEventListener('input', () => {
            if (!gameActive) return;
            
            // Start timer on first keystroke
            if (!startTime) {
                startTime = new Date();
                startTimer();
            }
            
            highlightText();
            updateStats();
            
            // End game if text is completed
            if (typingInput.value.length >= currentText.length) {
                endGame();
            }
        });

        restartBtn.addEventListener('click', initGame);
        tryAgainBtn.addEventListener('click', initGame);
        
        textSampleSelect.addEventListener('change', initGame);

        // Initialize the game on page load
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>