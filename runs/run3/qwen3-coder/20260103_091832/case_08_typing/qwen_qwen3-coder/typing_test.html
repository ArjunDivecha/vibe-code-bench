<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }
        
        .stat-box {
            font-size: 18px;
        }
        
        .stat-value {
            font-weight: bold;
            font-size: 24px;
            color: #007bff;
        }
        
        .text-display {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
            font-size: 18px;
            line-height: 1.6;
            height: 150px;
            overflow: hidden;
            position: relative;
        }
        
        .text-display pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .correct {
            color: #28a745;
        }
        
        .incorrect {
            color: #dc3545;
            text-decoration: underline;
        }
        
        .current {
            background-color: #ffc107;
        }
        
        .timer {
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0;
        }
        
        #user-input {
            width: 100%;
            height: 150px;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 8px;
            resize: none;
        }
        
        #user-input:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .controls {
            margin: 20px 0;
        }
        
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #0069d9;
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            background-color: #d4edda;
            border-radius: 8px;
            display: none;
        }
        
        .result h2 {
            color: #155724;
            margin-bottom: 15px;
        }
        
        .sample-selector {
            margin: 20px 0;
        }
        
        select {
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Typing Speed Test</h1>
        
        <div class="sample-selector">
            <label for="text-sample">Choose a text sample:</label>
            <select id="text-sample">
                <option value="0">The Quick Brown Fox</option>
                <option value="1">Programming Languages</option>
                <option value="2">The Digital Age</option>
                <option value="3">Science and Discovery</option>
                <option value="4">Nature's Beauty</option>
                <option value="5">Innovation and Technology</option>
                <option value="6">The Art of Learning</option>
                <option value="7">Exploring the Universe</option>
                <option value="8">The Power of Words</option>
                <option value="9">Journey of Discovery</option>
            </select>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div>WPM</div>
                <div id="wpm" class="stat-value">0</div>
            </div>
            <div class="stat-box">
                <div>Accuracy</div>
                <div id="accuracy" class="stat-value">100%</div>
            </div>
            <div class="stat-box">
                <div>Time</div>
                <div id="time" class="stat-value">30s</div>
            </div>
        </div>
        
        <div class="text-display">
            <pre id="text-content"></pre>
        </div>
        
        <textarea id="user-input" placeholder="Start typing here..." autofocus></textarea>
        
        <div class="controls">
            <button id="restart-btn">Restart Test</button>
        </div>
        
        <div class="result" id="result">
            <h2>Test Results</h2>
            <p>Words Per Minute: <span id="final-wpm">0</span></p>
            <p>Accuracy: <span id="final-accuracy">100%</span></p>
            <p>Time Taken: <span id="final-time">30</span> seconds</p>
        </div>
    </div>

    <script>
        // Text samples
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet at least once, making it a perfect pangram for typing practice. Try to type it as quickly and accurately as possible to test your typing speed.",
            "Programming languages are formal languages used to instruct computers. Popular languages include Python, JavaScript, Java, C++, and Ruby. Each language has its own syntax and is suited for different types of applications. Learning to code opens up many career opportunities in technology.",
            "We live in a digital age where information is at our fingertips. The internet has revolutionized how we communicate, work, and access knowledge. Smartphones, tablets, and laptops have become essential tools in modern life. This digital transformation continues to shape our world in profound ways.",
            "Science is a systematic enterprise that builds and organizes knowledge. Through observation and experimentation, scientists seek to understand the natural world. Major scientific discoveries have transformed our understanding of physics, chemistry, biology, and astronomy. The scientific method remains the foundation of reliable knowledge.",
            "Nature's beauty surrounds us in countless forms. From majestic mountains to serene lakes, from colorful flowers to towering trees, the natural world inspires awe. Protecting our environment is crucial for future generations. Taking time to appreciate nature can bring peace and perspective to our busy lives.",
            "Innovation drives progress in human society. Technology companies constantly develop new products and services. Artificial intelligence, renewable energy, and biotechnology are transforming industries. Entrepreneurs take risks to bring new ideas to market. These innovations improve our quality of life and solve complex problems.",
            "The art of learning is a lifelong journey. Effective learning requires curiosity, persistence, and practice. Different people have different learning styles - visual, auditory, or kinesthetic. Setting clear goals and seeking feedback helps accelerate progress. Embracing challenges and learning from failures is essential for growth.",
            "Exploring the universe has been humanity's dream for millennia. Telescopes have revealed distant galaxies and nebulae. Space missions have taken us to the Moon and Mars. Scientists search for exoplanets that might harbor life. Understanding our place in the cosmos gives perspective on our existence.",
            "The power of words cannot be overstated. Language allows us to share complex ideas and emotions. Great writers and speakers can inspire movements and change the world. Words can build bridges or create divisions. Choosing our words carefully is important for effective communication and positive relationships.",
            "Every journey of discovery begins with a single step. Whether exploring new places, learning new skills, or meeting new people, adventures await those who are curious. Challenges often lead to unexpected opportunities. Embracing uncertainty can lead to personal growth. The most rewarding experiences often come from stepping outside our comfort zones."
        ];

        // DOM elements
        const textContent = document.getElementById('text-content');
        const userInput = document.getElementById('user-input');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const timeDisplay = document.getElementById('time');
        const restartBtn = document.getElementById('restart-btn');
        const resultDiv = document.getElementById('result');
        const finalWpm = document.getElementById('final-wpm');
        const finalAccuracy = document.getElementById('final-accuracy');
        const finalTime = document.getElementById('final-time');
        const textSampleSelect = document.getElementById('text-sample');

        // Game state
        let currentText = '';
        let startTime = null;
        let timerInterval = null;
        let timeElapsed = 0;
        let testActive = false;

        // Initialize the app
        function init() {
            loadTextSample();
            userInput.addEventListener('input', handleInput);
            restartBtn.addEventListener('click', restartTest);
            textSampleSelect.addEventListener('change', loadTextSample);
        }

        // Load selected text sample
        function loadTextSample() {
            const selectedIndex = textSampleSelect.value;
            currentText = textSamples[selectedIndex];
            textContent.textContent = currentText;
            restartTest();
        }

        // Handle user input
        function handleInput() {
            if (!testActive && userInput.value.length > 0) {
                startTest();
            }
            
            if (testActive) {
                updateDisplay();
                updateStats();
                
                // Check if user has completed the text
                if (userInput.value.length >= currentText.length) {
                    endTest();
                }
            }
        }

        // Start the typing test
        function startTest() {
            testActive = true;
            startTime = new Date();
            timeElapsed = 0;
            
            timerInterval = setInterval(() => {
                timeElapsed++;
                timeDisplay.textContent = `${30 - timeElapsed}s`;
                
                // End test after 30 seconds
                if (timeElapsed >= 30) {
                    endTest();
                }
            }, 1000);
        }

        // Update the text display with highlighting
        function updateDisplay() {
            const typedText = userInput.value;
            let highlightedText = '';
            
            for (let i = 0; i < currentText.length; i++) {
                const char = currentText[i];
                if (i < typedText.length) {
                    if (typedText[i] === char) {
                        highlightedText += `<span class="correct">${char}</span>`;
                    } else {
                        highlightedText += `<span class="incorrect">${char}</span>`;
                    }
                } else if (i === typedText.length) {
                    highlightedText += `<span class="current">${char}</span>`;
                } else {
                    highlightedText += char;
                }
            }
            
            textContent.innerHTML = highlightedText;
        }

        // Update WPM and accuracy stats
        function updateStats() {
            const typedText = userInput.value;
            const currentTime = (new Date() - startTime) / 1000 / 60; // in minutes
            
            // Calculate WPM (5 characters = 1 word)
            const words = typedText.length / 5;
            const wpm = currentTime > 0 ? Math.round(words / currentTime) : 0;
            wpmDisplay.textContent = wpm;
            
            // Calculate accuracy
            let correctChars = 0;
            for (let i = 0; i < typedText.length; i++) {
                if (typedText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            const accuracy = typedText.length > 0 ? Math.round((correctChars / typedText.length) * 100) : 100;
            accuracyDisplay.textContent = `${accuracy}%`;
        }

        // End the typing test
        function endTest() {
            testActive = false;
            clearInterval(timerInterval);
            
            // Calculate final stats
            const typedText = userInput.value;
            const timeInMinutes = timeElapsed / 60;
            const words = typedText.length / 5;
            const wpm = Math.round(words / timeInMinutes);
            
            let correctChars = 0;
            for (let i = 0; i < typedText.length; i++) {
                if (typedText[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            const accuracy = typedText.length > 0 ? Math.round((correctChars / typedText.length) * 100) : 100;
            
            // Display results
            finalWpm.textContent = wpm;
            finalAccuracy.textContent = `${accuracy}%`;
            finalTime.textContent = timeElapsed;
            resultDiv.style.display = 'block';
        }

        // Restart the test
        function restartTest() {
            testActive = false;
            clearInterval(timerInterval);
            
            userInput.value = '';
            timeElapsed = 0;
            timeDisplay.textContent = '30s';
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100%';
            
            textContent.textContent = currentText;
            resultDiv.style.display = 'none';
            userInput.focus();
        }

        // Initialize the app when the page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>