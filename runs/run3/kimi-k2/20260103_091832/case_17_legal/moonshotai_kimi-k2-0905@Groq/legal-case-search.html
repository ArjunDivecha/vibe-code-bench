<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe-Law Legal Case Search</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #1a1f2e;
            --bg-tertiary: #252b3d;
            --text-primary: #e8e8e8;
            --text-secondary: #a0a8b8;
            --accent: #3b82f6;
            --accent-hover: #2563eb;
            --border: #2d3748;
            --highlight: #fbbf24;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .header {
            background-color: var(--bg-secondary);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border);
        }

        .search-container {
            position: relative;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            border-color: var(--accent);
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .results-panel {
            width: 40%;
            background-color: var(--bg-secondary);
            overflow-y: auto;
            border-right: 1px solid var(--border);
        }

        .case-item {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .case-item:hover {
            background-color: var(--bg-tertiary);
        }

        .case-item.active {
            background-color: var(--bg-tertiary);
            border-left: 3px solid var(--accent);
        }

        .case-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .case-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .case-preview {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.4;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .detail-panel {
            flex: 1;
            background-color: var(--bg-primary);
            display: flex;
            flex-direction: column;
        }

        .detail-header {
            padding: 1.5rem;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }

        .detail-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .detail-meta {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .detail-tabs {
            display: flex;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
        }

        .tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab:hover {
            background-color: var(--bg-tertiary);
        }

        .tab.active {
            border-bottom-color: var(--accent);
            color: var(--accent);
        }

        .detail-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .content-area {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
        }

        .notes-sidebar {
            width: 300px;
            background-color: var(--bg-secondary);
            border-left: 1px solid var(--border);
            padding: 1rem;
            overflow-y: auto;
        }

        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .notes-title {
            font-weight: 600;
        }

        .note-item {
            background-color: var(--bg-tertiary);
            padding: 0.75rem;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .note-snippet {
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .note-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            opacity: 0.7;
        }

        .btn {
            padding: 0.5rem 1rem;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background-color 0.2s;
        }

        .btn:hover {
            background-color: var(--accent-hover);
        }

        .btn-secondary {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background-color: var(--border);
        }

        .extracted-entity {
            background-color: rgba(251, 191, 36, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
            cursor: pointer;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--bg-secondary);
            padding: 2rem;
            border-radius: 8px;
            max-width: 500px;
            width: 90%;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .hidden {
            display: none;
        }

        .case-text {
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .highlightable {
            cursor: text;
        }

        .highlighted {
            background-color: rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search legal cases...">
            </div>
        </header>

        <div class="main-content">
            <div class="results-panel">
                <div id="resultsList"></div>
            </div>

            <div class="detail-panel">
                <div class="detail-header hidden" id="detailHeader">
                    <h2 class="detail-title" id="detailTitle"></h2>
                    <div class="detail-meta" id="detailMeta"></div>
                </div>

                <div class="detail-tabs hidden" id="detailTabs">
                    <div class="tab active" data-tab="summary">Summary</div>
                    <div class="tab" data-tab="fulltext">Full Text</div>
                </div>

                <div class="detail-content">
                    <div class="content-area" id="contentArea">
                        <div class="empty-state">
                            <p>Select a case to view details</p>
                        </div>
                    </div>

                    <div class="notes-sidebar hidden" id="notesSidebar">
                        <div class="notes-header">
                            <div class="notes-title">Notes</div>
                            <button class="btn btn-secondary" id="extractEntities">Extract Entities</button>
                        </div>
                        <div id="notesList"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="noteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Note</h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div id="selectedText" style="margin-bottom: 1rem; font-style: italic; color: var(--text-secondary);"></div>
            <textarea id="noteInput" style="width: 100%; height: 100px; background-color: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); border-radius: 4px; padding: 0.5rem; resize: vertical;"></textarea>
            <div style="display: flex; gap: 0.5rem; margin-top: 1rem; justify-content: flex-end;">
                <button class="btn btn-secondary" id="cancelNote">Cancel</button>
                <button class="btn" id="saveNote">Save Note</button>
            </div>
        </div>
    </div>

    <script>
        // Mock legal cases data
        const cases = [
            {
                id: 1,
                title: "Smith v. Jones Manufacturing Corp.",
                court: "Supreme Court of New York",
                date: "March 15, 2023",
                preview: "The plaintiff alleged negligence in the design of industrial machinery resulting in severe injury. The court examined the duty of care owed...",
                summary: "This landmark case established new precedents for product liability in industrial settings. The court found that manufacturers have an enhanced duty of care when designing machinery for workplace use, particularly when the end users are not trained safety professionals.",
                fullText: `SUPREME COURT OF NEW YORK
                SMITH v. JONES MANUFACTURING CORP.
                
                Decided March 15, 2023
                
                JUSTICE THOMAS delivered the opinion of the Court.
                
                This case presents important questions regarding the scope of a manufacturer's duty of care in designing industrial machinery. On June 12, 2021, Robert Smith, an employee at Atlantic Fabrication Inc., suffered severe injuries while operating a metal press manufactured by Jones Manufacturing Corporation.
                
                The plaintiff alleges that the defendant corporation was negligent in its design of the safety mechanisms. Specifically, the emergency stop button was positioned in a location that required the operator to reach across the machine's moving parts, creating an obvious hazard.
                
                During the trial, expert witnesses testified that alternative designs were readily available that would have eliminated this risk. Dr. Sarah Johnson, a mechanical engineer, stated that "the placement of emergency controls should never require the operator to compromise their safety position."
                
                The defendant argued that the machine met all applicable safety standards at the time of manufacture. However, the Court finds that compliance with minimum standards does not preclude a finding of negligence where a reasonable alternative design exists.
                
                We therefore affirm the lower court's decision and remand for calculation of appropriate damages.`,
                entities: ["Robert Smith", "Jones Manufacturing Corporation", "June 12, 2021", "Dr. Sarah Johnson", "March 15, 2023"]
            },
            {
                id: 2,
                title: "Digital Rights Foundation v. Homeland Security",
                court: "Federal Court of Appeals, 9th Circuit",
                date: "February 28, 2023",
                preview: "Privacy advocacy group challenged mass surveillance programs. The court addressed constitutional implications of bulk data collection...",
                summary: "In a split decision, the court upheld restrictions on bulk data collection while establishing new procedural safeguards for digital privacy rights. The ruling creates a framework for balancing national security interests against individual privacy protections.",
                fullText: `UNITED STATES COURT OF APPEALS FOR THE NINTH CIRCUIT
                DIGITAL RIGHTS FOUNDATION v. DEPARTMENT OF HOMELAND SECURITY
                
                Argued October 10, 2022 -- Decided February 28, 2023
                
                Before CHIEF JUDGE MARTINEZ, CIRCUIT JUDGES CHEN and NGUYEN.
                
                The Digital Rights Foundation challenges the constitutionality of Section 702 of the Foreign Intelligence Surveillance Act as amended in 2018. The Foundation argues that the bulk collection of electronic communications violates the Fourth Amendment's prohibition against unreasonable searches and seizures.
                
                At issue is the government's practice of collecting internet metadata from major technology companies including Google, Facebook, and Microsoft. The collection occurs without individualized warrants when the government asserts that at least one party to the communication is reasonably believed to be located outside the United States.
                
                The district court granted summary judgment in favor of the government, finding that the surveillance program was lawful under the foreign intelligence exception to the warrant requirement. We reverse in part and affirm in part.
                
                We hold that the bulk collection of domestic communications, even incidentally, requires judicial oversight. The third-party doctrine articulated in Smith v. Maryland does not extend to the modern internet ecosystem where users have no meaningful alternative to using these services.
                
                We therefore remand to the district court with instructions to enjoin the bulk collection of domestic communications and to establish minimization procedures for the protection of U.S. persons' privacy rights.`,
                entities: ["Digital Rights Foundation", "October 10, 2022", "February 28, 2023", "CHIEF JUDGE MARTINEZ", "Google", "Facebook", "Microsoft"]
            },
            {
                id: 3,
                title: "Environmental Defense Coalition v. PetroChem Industries",
                court: "District Court, Northern California",
                date: "January 10, 2023",
                preview: "Class action lawsuit alleging environmental contamination from chemical plant operations. The court considered causation standards...",
                summary: "The court certified a class of over 5,000 residents affected by groundwater contamination. The ruling establishes new standards for environmental class actions and scientific evidence admissibility.",
                fullText: `IN THE UNITED STATES DISTRICT COURT FOR THE NORTHERN DISTRICT OF CALIFORNIA
                ENVIRONMENTAL DEFENSE COALITION v. PETROCHEM INDUSTRIES
                
                January 10, 2023
                
                JUDGE HENDERSON presiding.
                
                This environmental class action arises from the alleged contamination of groundwater supplies in the town of Riverside, California. The plaintiffs, representing a class of approximately 5,200 residents, claim that PetroChem Industries' manufacturing facility released toxic chemicals including benzene, toluene, and xylene into the groundwater over a period extending from 2015 to 2021.
                
                The Environmental Protection Agency (EPA) conducted investigations beginning in 2019 that confirmed elevated levels of these chemicals in monitoring wells throughout the affected area. Dr. Michael Torres, an environmental toxicologist, testified that the contamination pattern directly correlates with the prevailing groundwater flow direction from the defendant's facility.
                
                The defendant challenges class certification, arguing that individual issues of exposure and injury predominate over common questions. However, we find that the plaintiffs have demonstrated through common proof that all class members were exposed to contaminated water from the same source.
                
                We note that the California Environmental Quality Act requires companies to conduct thorough environmental impact assessments. The evidence shows that PetroChem failed to properly monitor and report chemical releases as required by law.
                
                The Court therefore GRANTS class certification and sets trial for September 2023.`,
                entities: ["Environmental Defense Coalition", "PetroChem Industries", "Riverside, California", "January 10, 2023", "Environmental Protection Agency", "Dr. Michael Torres", "2015", "2021", "2019"]
            },
            {
                id: 4,
                title: "United Workers Union v. TechCorp International",
                court: "National Labor Relations Board",
                date: "December 5, 2022",
                preview: "Union alleged unfair labor practices regarding employee surveillance and algorithmic management decisions...",
                summary: "The NLRB found that algorithmic management systems must provide transparency and employee input. The decision affects how AI can be used in workplace decisions.",
                fullText: `NATIONAL LABOR RELATIONS BOARD
                UNITED WORKERS UNION v. TECHCORP INTERNATIONAL
                
                Decision and Order December 5, 2022
                
                This case concerns the intersection of artificial intelligence, employee privacy rights, and collective bargaining obligations. TechCorp International implemented an AI-powered productivity monitoring system in January 2022 that tracks employee keystrokes, mouse movements, and even facial expressions during video conferences.
                
                The United Workers Union filed charges alleging that the company implemented this system without providing notice or bargaining opportunity as required by Section 8(a)(5) of the National Labor Relations Act. Furthermore, the union contends that the system constitutes surveillance of protected concerted activities.
                
                Administrative Law Judge Patricia Williams conducted hearings in September 2022. The evidence showed that the AI system generates daily productivity scores that directly impact promotion decisions, bonus eligibility, and even termination recommendations. Employees reported feeling constant pressure and anxiety, with several testifying to working through lunch breaks to maintain acceptable scores.
                
                The company argues that the monitoring system is necessary to maintain competitiveness in the global technology sector. However, we find that the implementation of systems that fundamentally alter working conditions requires collective bargaining.
                
                We further hold that algorithmic management systems must provide transparency regarding their decision-making criteria. Employees have the right to understand how their performance is being evaluated and to challenge arbitrary or discriminatory outcomes.
                
                The company is hereby ordered to cease and desist from unilateral implementation of AI management systems and to bargain in good faith with the union regarding their use.`,
                entities: ["United Workers Union", "TechCorp International", "January 2022", "December 5, 2022", "Patricia Williams", "September 2022"]
            },
            {
                id: 5,
                title: "State v. Marcus Thompson",
                court: "Superior Court, Cook County",
                date: "November 20, 2022",
                preview: "Criminal case involving digital evidence authentication. The court addressed admissibility of blockchain-based evidence...",
                summary: "The court established standards for admitting blockchain and cryptocurrency transaction records as evidence, setting important precedents for digital forensics.",
                fullText: `SUPERIOR COURT OF COOK COUNTY
                STATE OF ILLINOIS v. MARCUS THOMPSON
                
                Case No. 2022-CR-1156
                November 20, 2022
                
                The defendant, Marcus Thompson, stands charged with multiple counts of wire fraud, money laundering, and conspiracy to commit computer fraud. The prosecution alleges that Thompson operated a sophisticated cryptocurrency laundering scheme that processed over $2.3 million in illicit proceeds between March 2021 and August 2022.
                
                At issue is the admissibility of blockchain transaction records as evidence. The prosecution seeks to introduce transaction histories from the Bitcoin and Ethereum blockchains, along with analysis from Chainalysis software showing the flow of funds through multiple wallets and exchanges.
                
                Defense counsel argues that blockchain records constitute inadmissible hearsay and that the prosecution cannot properly authenticate these digital records without calling witnesses from each cryptocurrency exchange involved.
                
                We find that blockchain records are akin to business records kept by a decentralized system. The cryptographic verification inherent in blockchain technology provides sufficient reliability for admission under the business records exception to the hearsay rule.
                
                Furthermore, we hold that expert testimony from qualified blockchain analysts can establish the authenticity of cryptocurrency transaction patterns. Special Agent Jennifer Chen of the IRS Criminal Investigation division testified to her analysis of the transaction flows, identifying techniques consistent with money laundering operations.
                
                The Court therefore DENIES the defense motion to exclude blockchain evidence and finds that the prosecution has established a sufficient foundation for admission.`,
                entities: ["Marcus Thompson", "March 2021", "August 2022", "Jennifer Chen", "November 20, 2022", "Bitcoin", "Ethereum", "Chainalysis"]
            },
            {
                id: 6,
                title: "Patient Rights Alliance v. MedTech Solutions",
                court: "Court of Appeals, Texas",
                date: "October 15, 2022",
                preview: "Medical device liability case involving AI diagnostic systems. The court examined standards for algorithmic medical decisions...",
                summary: "The ruling establishes that medical AI systems must meet heightened FDA approval standards and that physicians maintain ultimate liability for diagnostic decisions.",
                fullText: `COURT OF APPEALS OF TEXAS
                PATIENT RIGHTS ALLIANCE v. MEDTECH SOLUTIONS
                
                October 15, 2022
                
                This products liability appeal arises from the death of Barbara Rodriguez, who passed away on May 3, 2021, following a misdiagnosis of her cardiac condition by an artificial intelligence system manufactured by MedTech Solutions.
                
                The AI system, marketed as CardioAI, was designed to analyze electrocardiogram results and predict the likelihood of cardiac events. Dr. James Patterson, Mrs. Rodriguez's physician, relied on the system's assessment that her condition was benign, when in fact she was experiencing symptoms of severe coronary artery disease.
                
                The plaintiffs presented evidence that the AI system had been trained primarily on data from male patients, leading to reduced accuracy in detecting cardiac conditions in women. Dr. Lisa Wang, an expert in medical informatics, testified that the training dataset contained approximately 78% male subjects, creating an inherent bias in the algorithm's decision-making process.
                
                MedTech Solutions argues that the FDA's 510(k) clearance for the device preempts state law tort claims. However, we find that FDA clearance does not immunize manufacturers from liability where the device design itself is defective.
                
                We further hold that physicians cannot delegate their professional judgment to artificial intelligence systems. While AI can serve as a diagnostic tool, the ultimate responsibility for patient care remains with the licensed medical practitioner.
                
                The evidence supports the jury's finding that the device was defectively designed due to the gender bias in its training data. The manufacturer failed to adequately test the system across diverse patient populations before marketing it for general use.
                
                We therefore AFFIRM the judgment of the trial court awarding $3.2 million in damages to the plaintiffs.`,
                entities: ["Barbara Rodriguez", "May 3, 2021", "MedTech Solutions", "Dr. James Patterson", "Dr. Lisa Wang", "October 15, 2022"]
            },
            {
                id: 7,
                title: "Consumer Financial Protection Bureau v. First National Bank",
                court: "Federal District Court, Southern New York",
                date: "September 30, 2022",
                preview: "Fair lending enforcement action involving algorithmic credit decisions. The court addressed discriminatory AI in banking...",
                summary: "The court found that AI credit scoring systems must be auditable for bias and that banks bear responsibility for ensuring algorithmic fairness.",
                fullText: `UNITED STATES DISTRICT COURT FOR THE SOUTHERN DISTRICT OF NEW YORK
                CONSUMER FINANCIAL PROTECTION BUREAU v. FIRST NATIONAL BANK
                
                September 30, 2022
                
                The Consumer Financial Protection Bureau (CFPB) brings this enforcement action alleging that First National Bank violated the Equal Credit Opportunity Act by using a discriminatory algorithmic scoring system to evaluate mortgage applications.
                
                Between January 2020 and June 2022, the bank utilized a proprietary AI system called CreditScore+ to process over 125,000 mortgage applications. The CFPB's investigation revealed that the system denied loans to minority applicants at a rate 2.3 times higher than white applicants with similar credit profiles.
                
                The algorithm was developed by DataDrive Analytics and implemented by the bank without conducting disparate impact testing as required under Regulation B. Internal emails from March 2021 show that bank executives were aware of potential bias issues but chose to continue using the system due to its cost-effectiveness.
                
                The bank defends its practices by arguing that the algorithm uses only facially neutral factors such as credit history, employment status, and debt-to-income ratios. However, we find that even neutral factors can produce discriminatory outcomes when they serve as proxies for protected characteristics.
                
                Dr. Karen Thompson, a statistical expert for the CFPB, demonstrated that zip code data and shopping patterns included in the algorithm's analysis correlated strongly with race and ethnicity. These proxy variables effectively recreated the effects of explicit discrimination.
                
                Furthermore, we hold that financial institutions have an affirmative obligation to test their AI systems for disparate impact before deployment and to monitor them continuously for discriminatory effects. The cost savings from algorithmic decision-making cannot justify discriminatory outcomes.
                
                The Court therefore orders First National Bank to pay $18.7 million in restitution to affected borrowers and $5 million in civil penalties.`,
                entities: ["Consumer Financial Protection Bureau", "First National Bank", "January 2020", "June 2022", "DataDrive Analytics", "Dr. Karen Thompson", "March 2021", "September 30, 2022"]
            },
            {
                id: 8,
                title: "Open Source Initiative v. Proprietary Software Corp.",
                court: "Federal Circuit Court",
                date: "August 15, 2022",
                preview: "Copyright infringement case involving open source software licenses. The court examined enforcement of GPL licenses...",
                summary: "The court affirmed that open source licenses are enforceable contracts and that violation of GPL terms constitutes copyright infringement.",
                fullText: `UNITED STATES COURT OF APPEALS FOR THE FEDERAL CIRCUIT
                OPEN SOURCE INITIATIVE v. PROPRIETARY SOFTWARE CORPORATION
                
                August 15, 2022
                
                This copyright infringement appeal presents questions about the enforceability of open source software licenses, specifically the GNU General Public License version 3 (GPLv3).
                
                Proprietary Software Corporation (PSC) developed and distributed a commercial software product called EnterpriseSecure that incorporated code from the open source project OpenCrypto. The OpenCrypto project is licensed under GPLv3, which requires that any derivative works be distributed under the same license terms.
                
                The plaintiffs allege that PSC violated the GPLv3 by distributing EnterpriseSecure under a proprietary license while incorporating OpenCrypto code. The district court granted summary judgment for the plaintiffs, finding that the GPLv3 creates enforceable license conditions.
                
                PSC argues that open source licenses are merely contractual covenants rather than copyright license conditions. Under this theory, violation of the license terms would constitute only breach of contract, not copyright infringement.
                
                We reject this distinction as artificial and contrary to the clear language of the GPLv3. The license explicitly states that failure to comply with its terms results in automatic termination of the copyright license. Once the license is terminated, any continued distribution constitutes copyright infringement.
                
                We further hold that the economic harm to open source projects from license violations is substantial. When companies appropriate open source code without complying with license terms, they gain an unfair competitive advantage over companies that respect open source requirements.
                
                The evidence shows that PSC deliberately chose to use OpenCrypto code after determining that developing equivalent functionality would require approximately 18 months of development time and cost an estimated $2.4 million.
                
                We therefore AFFIRM the district court's judgment of $4.8 million in damages and permanent injunctive relief prohibiting further distribution of EnterpriseSecure in its current form.`,
                entities: ["Proprietary Software Corporation", "EnterpriseSecure", "OpenCrypto", "August 15, 2022"]
            },
            {
                id: 9,
                title: "Mental Health Association v. Insurance Corp. of America",
                court: "State Supreme Court, Massachusetts",
                date: "July 20, 2022",
                preview: "Mental health parity case challenging insurance coverage denials. The court addressed discrimination in mental health treatment...",
                summary: "The court ruled that insurance companies must provide equal coverage for mental and physical health conditions, striking down discriminatory coverage policies.",
                fullText: `SUPREME JUDICIAL COURT OF MASSACHUSETTS
                MENTAL HEALTH ASSOCIATION v. INSURANCE CORPORATION OF AMERICA
                
                July 20, 2022
                
                This class action challenges the Insurance Corporation of America's (ICA) systematic denial of coverage for mental health treatment, alleging violations of the Mental Health Parity and Addiction Equity Act (MHPAEA) and Massachusetts state law.
                
                The plaintiffs, representing a class of over 15,000 policyholders, present evidence that ICA denied mental health claims at a rate 3.7 times higher than medical claims between 2019 and 2021. Internal company documents reveal that ICA trained claims processors to apply more stringent criteria to mental health treatment requests.
                
                Dr. Susan Martinez, a psychiatrist and expert witness, testified that ICA's coverage policies created significant barriers to accessing evidence-based mental health treatments. For example, the company required preauthorization for therapy sessions after only 8 visits, while allowing up to 30 physical therapy sessions without prior approval.
                
                The defendant argues that mental health treatment is inherently more subjective and difficult to verify than physical health treatment. However, we find this distinction to be based on outdated stereotypes rather than medical evidence.
                
                We hold that insurance companies must apply comparable standards when reviewing mental and physical health claims. Differential treatment is permissible only when based on clinically appropriate standards, not cost-saving measures or assumptions about the nature of mental illness.
                
                Furthermore, we find that ICA's failure to provide adequate mental health coverage resulted in real harm to the plaintiff class. Evidence showed that delayed or denied treatment led to increased emergency room visits, job losses, and in some cases, suicide attempts.
                
                The Court therefore orders ICA to reform its coverage policies and pay $23.5 million in damages to the affected policyholders.`,
                entities: ["Insurance Corporation of America", "Dr. Susan Martinez", "2019", "2021", "July 20, 2022", "Massachusetts"]
            },
            {
                id: 10,
                title: "Data Breach Victims v. MegaCorp Retail",
                court: "Federal District Court, Eastern Pennsylvania",
                date: "June 5, 2022",
                preview: "Data privacy class action following major retail breach. The court considered damages for privacy violations without identity theft...",
                summary: "The court recognized privacy violations as compensable injuries even without subsequent identity theft, awarding damages for loss of privacy rights.",
                fullText: `UNITED STATES DISTRICT COURT FOR THE EASTERN DISTRICT OF PENNSYLVANIA
                DATA BREACH VICTIMS v. MEGACORP RETAIL
                
                June 5, 2022
                
                This data breach class action arises from a cyberattack on MegaCorp Retail's computer systems that compromised the personal information of approximately 4.2 million customers. The breach occurred on December 12, 2021, and was discovered on January 3, 2022.
                
                Hackers accessed names, addresses, phone numbers, email addresses, credit card numbers, and in some cases, Social Security numbers and driver's license information. The plaintiffs allege that MegaCorp failed to implement adequate security measures despite having experienced two smaller breaches in 2019 and 2020.
                
                The defendant argues that the plaintiffs lack standing because they cannot demonstrate actual misuse of their personal information. However, we find that the unauthorized acquisition of personal data constitutes an injury in itself, regardless of whether identity theft has yet occurred.
                
                    The Supreme Court's decision in TransUnion LLC v. Ramirez establishes that the violation of a statutory right can constitute a concrete injury. Here, the plaintiffs' loss of control over their personal information represents a concrete harm that supports standing.
                
                Furthermore, we note that Pennsylvania's data breach notification law requires companies to implement reasonable security measures. The evidence shows that MegaCorp failed to encrypt customer data, delayed patching known vulnerabilities for over 180 days, and ignored warnings from its own security team about suspicious network activity.
                
                The company's former Chief Information Security Officer, Robert Kim, testified that budget constraints prevented implementation of recommended security upgrades. However, we find that cost considerations cannot justify exposing customers to foreseeable data breach risks.
                
                We therefore certify the class and award $127 million in damages, representing $30 per affected customer plus additional amounts for those whose Social Security numbers were compromised.`,
                entities: ["MegaCorp Retail", "December 12, 2021", "January 3, 2022", "Robert Kim", "June 5, 2022", "Pennsylvania", "2019", "2020"]
            },
            {
                id: 11,
                title: "Autonomous Vehicle Safety Alliance v. AutoDrive Inc.",
                court: "Superior Court, Santa Clara County",
                date: "May 15, 2022",
                preview: "Product liability case involving self-driving car technology. The court examined standards for autonomous vehicle safety...",
                summary: "The court ruled that autonomous vehicle manufacturers can be held strictly liable for software defects, establishing new standards for AI product liability.",
                fullText: `SUPERIOR COURT OF CALIFORNIA, COUNTY OF SANTA CLARA
                AUTONOMOUS VEHICLE SAFETY ALLIANCE v. AUTODRIVE INC.
                
                May 15, 2022
                
                This product liability action concerns a fatal accident involving a self-driving vehicle manufactured by AutoDrive Inc. On November 8, 2021, Jennifer Liu was killed when her vehicle, operating in autonomous mode, failed to recognize and respond to a construction barrier on Highway 101 near Palo Alto, California.
                
                The plaintiff alleges that AutoDrive's software contained defects in its object recognition algorithms that prevented the vehicle from properly identifying the construction barrier and initiating appropriate emergency braking procedures. The National Transportation Safety Board (NTSB) investigation found that the vehicle's sensors detected the barrier but the software classified it as a "non-critical object."
                
                Dr. Alan Chen, an expert in computer vision systems, testified that the machine learning model used by AutoDrive was trained primarily on highway driving scenarios and had limited exposure to construction zone configurations. The algorithm's confidence threshold for construction barriers was set inappropriately high, leading to the misclassification error.
                
                    The defendant argues that Jennifer Liu assumed the risk by engaging autonomous mode and that the vehicle's user manual clearly states that drivers must remain attentive and ready to take control at all times. However, we find that this disclaimer does not insulate the manufacturer from liability for product defects.
                
                Under California's strict product liability law, manufacturers are liable for injuries caused by manufacturing defects, design defects, and inadequate warnings. We hold that software defects fall within the scope of design defect liability, particularly where the software controls critical safety functions.
                
                Furthermore, we find that the marketing of autonomous vehicles creates reasonable consumer expectations that the vehicle can safely operate without constant human intervention. The promotional materials emphasized the vehicle's ability to handle complex driving scenarios, including construction zones.
                
                The evidence shows that AutoDrive was aware of similar misclassification errors in simulation testing but proceeded with deployment after determining that the incident rate was "within acceptable parameters." We find that human safety cannot be subordinated to commercial expedience.
                
                We therefore grant summary judgment for the plaintiffs and set trial on damages for October 2022.`,
                entities: ["Jennifer Liu", "November 8, 2021", "AutoDrive Inc.", "Dr. Alan Chen", "Palo Alto, California", "October 2022", "May 15, 2022"]
            },
            {
                id: 12,
                title: "Tenant Rights Coalition v. SmartRent Properties",
                court: "Housing Court, City of New York",
                date: "April 10, 2022",
                preview: "Housing rights case involving smart home technology. The court addressed privacy rights in the digital landlord-tenant relationship...",
                summary: "The court ruled that landlords cannot require smart home surveillance as a condition of tenancy and must respect tenant privacy rights.",
                fullText: `HOUSING COURT OF THE CITY OF NEW YORK
                TENANT RIGHTS COALITION v. SMARTRENT PROPERTIES
                
                April 10, 2022
                
                This housing court action challenges SmartRent Properties' requirement that all tenants install and maintain smart home surveillance devices including cameras, motion sensors, and smart locks that record entry and exit data.
                
                The Tenant Rights Coalition, representing a class of 347 tenants across five apartment complexes, argues that these surveillance requirements violate tenants' right to privacy and constitute an unconscionable lease term under New York's Real Property Law.
                
                    SmartRent Properties implemented the surveillance system in October 2021, claiming it was necessary for security purposes and to prevent property damage. The system collects data on tenant movements, visitors, and daily routines, storing this information on cloud servers operated by third-party vendors.
                
                Sarah Johnson, a tenant in the Queensbridge complex, testified that the constant surveillance made her feel like she was "living in a fishbowl." She reported that the cameras recorded audio as well as video, capturing private conversations with family members and medical providers.
                
                The defendant argues that tenants voluntarily accepted the surveillance by signing lease agreements that included smart home provisions. However, we find that the imbalance of power between landlords and tenants, particularly in New York's tight housing market, means that acceptance cannot be considered truly voluntary.
                
                We hold that the right to privacy in one's home is fundamental and cannot be waived as a condition of obtaining basic shelter. While landlords may install security systems in common areas, they cannot conduct surveillance within individual dwelling units without tenant consent.
                
                Furthermore, we find that the collection and storage of detailed behavioral data creates risks of abuse, including the potential for discrimination based on family composition, disability status, or other protected characteristics. The evidence shows that the surveillance system flagged "unusual activity patterns" that often correlated with tenants receiving public assistance.
                
                We therefore declare the smart home surveillance requirement to be an unconscionable lease term and order SmartRent Properties to discontinue the system immediately.`,
                entities: ["Sarah Johnson", "October 2021", "April 10, 2022", "New York", "Queensbridge", "347 tenants"]
            }
        ];

        let currentCase = null;
        let currentTab = 'summary';
        let entitiesExtracted = false;
        let selectedText = '';

        // Initialize the app
        function init() {
            renderResults(cases);
            setupEventListeners();
            loadNotes();
        }

        // Render search results
        function renderResults(results) {
            const resultsList = document.getElementById('resultsList');
            resultsList.innerHTML = '';
            
            results.forEach(caseItem => {
                const caseElement = document.createElement('div');
                caseElement.className = 'case-item';
                caseElement.dataset.caseId = caseItem.id;
                
                caseElement.innerHTML = `
                    <div class="case-title">${caseItem.title}</div>
                    <div class="case-meta">
                        <span>${caseItem.court}</span>
                        <span>${caseItem.date}</span>
                    </div>
                    <div class="case-preview">${caseItem.preview}</div>
                `;
                
                caseElement.addEventListener('click', () => selectCase(caseItem));
                resultsList.appendChild(caseElement);
            });
        }

        // Select a case to view details
        function selectCase(caseItem) {
            currentCase = caseItem;
            entitiesExtracted = false;
            
            // Update active state in results
            document.querySelectorAll('.case-item').forEach(item => {
                item.classList.toggle('active', item.dataset.caseId == caseItem.id);
            });
            
            // Show detail panel
            document.getElementById('detailHeader').classList.remove('hidden');
            document.getElementById('detailTabs').classList.remove('hidden');
            document.getElementById('notesSidebar').classList.remove('hidden');
            
            // Update detail header
            document.getElementById('detailTitle').textContent = caseItem.title;
            document.getElementById('detailMeta').innerHTML = `
                ${caseItem.court} â€¢ ${caseItem.date}
            `;
            
            // Render content
            renderContent();
        }

        // Render content based on active tab
        function renderContent() {
            if (!currentCase) return;
            
            const contentArea = document.getElementById('contentArea');
            
            if (currentTab === 'summary') {
                contentArea.innerHTML = `
                    <div class="case-text">${currentCase.summary}</div>
                    <button class="btn" style="margin-top: 1rem;" onclick="highlightForNote()">Add Note to Summary</button>
                `;
            } else {
                contentArea.innerHTML = `
                    <div class="case-text highlightable" id="fullText">${currentCase.fullText}</div>
                    <button class="btn" style="margin-top: 1rem;" onclick="highlightForNote()">Add Note to Text</button>
                `;
                
                // Add text selection listener
                document.getElementById('fullText').addEventListener('mouseup', handleTextSelection);
            }
        }

        // Handle text selection for notes
        function handleTextSelection() {
            const selection = window.getSelection();
            selectedText = selection.toString().trim();
            
            if (selectedText.length > 0) {
                const range = selection.getRangeAt(0);
                const selectedElement = range.commonAncestorContainer.parentElement;
                
                // Highlight selected text
                document.querySelectorAll('.highlighted').forEach(el => {
                    el.classList.remove('highlighted');
                });
                
                if (selectedElement.classList.contains('highlightable')) {
                    selectedElement.classList.add('highlighted');
                }
            }
        }

        // Highlight text for note taking
        function highlightForNote() {
            if (currentTab === 'summary') {
                selectedText = currentCase.summary;
            } else {
                selectedText = currentCase.fullText.substring(0, 200) + '...';
            }
            
            if (selectedText) {
                document.getElementById('selectedText').textContent = `"${selectedText}"`;
                document.getElementById('noteModal').style.display = 'block';
            }
        }

        // Extract entities from case text
        function extractEntities() {
            if (!currentCase || entitiesExtracted) return;
            
            entitiesExtracted = true;
            const contentArea = document.getElementById('contentArea');
            let text = contentArea.innerHTML;
            
            currentCase.entities.forEach(entity => {
                const regex = new RegExp(`\\b${entity.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}\\b`, 'g');
                text = text.replace(regex, `<span class="extracted-entity" title="Extracted Entity">${entity}</span>`);
            });
            
            contentArea.innerHTML = text;
        }

        // Save note to localStorage
        function saveNote() {
            const noteText = document.getElementById('noteInput').value;
            if (!noteText || !selectedText || !currentCase) return;
            
            const notes = getStoredNotes();
            const note = {
                id: Date.now(),
                caseId: currentCase.id,
                caseTitle: currentCase.title,
                snippet: selectedText,
                note: noteText,
                timestamp: new Date().toISOString()
            };
            
            notes.push(note);
            localStorage.setItem('legalNotes', JSON.stringify(notes));
            
            document.getElementById('noteInput').value = '';
            document.getElementById('noteModal').style.display = 'none';
            loadNotes();
        }

        // Load notes from localStorage
        function loadNotes() {
            const notes = getStoredNotes();
            const notesList = document.getElementById('notesList');
            
            if (currentCase) {
                const caseNotes = notes.filter(note => note.caseId === currentCase.id);
                
                if (caseNotes.length === 0) {
                    notesList.innerHTML = '<p style="color: var(--text-secondary); font-size: 0.875rem;">No notes for this case yet.</p>';
                } else {
                    notesList.innerHTML = caseNotes.map(note => `
                        <div class="note-item">
                            <div class="note-snippet">${note.snippet}</div>
                            <div>${note.note}</div>
                            <div class="note-time">${new Date(note.timestamp).toLocaleDateString()}</div>
                        </div>
                    `).join('');
                }
            }
        }

        // Get stored notes
        function getStoredNotes() {
            const stored = localStorage.getItem('legalNotes');
            return stored ? JSON.parse(stored) : [];
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                const filtered = cases.filter(caseItem => 
                    caseItem.title.toLowerCase().includes(query) ||
                    caseItem.court.toLowerCase().includes(query) ||
                    caseItem.preview.toLowerCase().includes(query)
                );
                renderResults(filtered);
            });
            
            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentTab = tab.dataset.tab;
                    renderContent();
                });
            });
            
            // Extract entities button
            document.getElementById('extractEntities').addEventListener('click', extractEntities);
            
            // Modal controls
            document.getElementById('closeModal').addEventListener('click', () => {
                document.getElementById('noteModal').style.display = 'none';
            });
            
            document.getElementById('cancelNote').addEventListener('click', () => {
                document.getElementById('noteModal').style.display = 'none';
            });
            
            document.getElementById('saveNote').addEventListener('click', saveNote);
            
            // Close modal on outside click
            document.getElementById('noteModal').addEventListener('click', (e) => {
                if (e.target.id === 'noteModal') {
                    document.getElementById('noteModal').style.display = 'none';
                }
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>