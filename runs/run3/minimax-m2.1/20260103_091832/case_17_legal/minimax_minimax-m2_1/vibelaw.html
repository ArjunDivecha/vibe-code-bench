<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe-Law | Legal Case Search Workspace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --bg-hover: #30363d;
            --border-primary: #30363d;
            --border-secondary: #484f58;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #d29922;
            --accent-red: #f85149;
            --highlight-yellow: rgba(210, 153, 34, 0.4);
            --highlight-blue: rgba(88, 166, 255, 0.4);
            --highlight-green: rgba(63, 185, 80, 0.4);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            border-bottom: 1px solid var(--border-primary);
            padding: 12px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .search-container {
            flex: 1;
            max-width: 600px;
            margin: 0 40px;
        }

        .search-wrapper {
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 14px;
        }

        .search-input {
            width: 100%;
            padding: 10px 14px 10px 40px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.15);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .header-actions {
            display: flex;
            gap: 8px;
        }

        .header-btn {
            padding: 8px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 6px;
            color: var(--text-secondary);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .header-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        /* Main Layout */
        .main-container {
            display: flex;
            height: calc(100vh - 60px);
        }

        /* Results Panel */
        .results-panel {
            width: 400px;
            border-right: 1px solid var(--border-primary);
            display: flex;
            flex-direction: column;
            background: var(--bg-secondary);
        }

        .results-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .results-count {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .results-count strong {
            color: var(--text-primary);
        }

        .sort-select {
            padding: 6px 10px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 4px;
            color: var(--text-secondary);
            font-size: 12px;
            cursor: pointer;
        }

        .results-list {
            flex: 1;
            overflow-y: auto;
        }

        .case-item {
            padding: 14px 16px;
            border-bottom: 1px solid var(--border-primary);
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .case-item:hover {
            background: var(--bg-tertiary);
        }

        .case-item.active {
            background: var(--bg-hover);
            border-left: 3px solid var(--accent-blue);
        }

        .case-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 6px;
            line-height: 1.4;
        }

        .case-meta {
            display: flex;
            gap: 12px;
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .case-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .case-snippet {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .case-snippet mark {
            background: rgba(88, 166, 255, 0.2);
            color: var(--accent-blue);
            padding: 0 2px;
            border-radius: 2px;
        }

        /* Detail Panel */
        .detail-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
        }

        .detail-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-primary);
            background: var(--bg-secondary);
        }

        .detail-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .detail-meta {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .detail-meta-item {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .detail-meta-item strong {
            color: var(--text-primary);
        }

        .detail-meta-item .label {
            color: var(--text-muted);
            margin-right: 4px;
        }

        .detail-tabs {
            display: flex;
            gap: 4px;
            padding: 0 24px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-primary);
        }

        .tab-btn {
            padding: 12px 16px;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            color: var(--text-secondary);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tab-btn:hover {
            color: var(--text-primary);
        }

        .tab-btn.active {
            color: var(--accent-blue);
            border-bottom-color: var(--accent-blue);
        }

        .detail-actions {
            margin-left: auto;
            display: flex;
            gap: 8px;
            padding: 8px 24px;
            align-items: center;
        }

        .action-btn {
            padding: 8px 14px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 6px;
            color: var(--text-secondary);
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .action-btn.primary {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: #fff;
        }

        .action-btn.primary:hover {
            background: #4393e6;
        }

        .action-btn.success {
            background: rgba(63, 185, 80, 0.15);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .action-btn.success:hover {
            background: rgba(63, 185, 80, 0.25);
        }

        .detail-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .tab-content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Summary Tab */
        .summary-section {
            margin-bottom: 24px;
        }

        .summary-section h3 {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .summary-text {
            font-size: 14px;
            line-height: 1.7;
            color: var(--text-primary);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-top: 16px;
        }

        .summary-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 16px;
        }

        .summary-card h4 {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .summary-card p {
            font-size: 14px;
            color: var(--text-primary);
        }

        /* Full Text Tab */
        .full-text {
            font-family: 'Georgia', serif;
            font-size: 15px;
            line-height: 1.8;
            color: var(--text-primary);
            max-width: 800px;
        }

        .full-text p {
            margin-bottom: 16px;
            text-align: justify;
        }

        .full-text .citation {
            color: var(--accent-purple);
            font-style: italic;
        }

        .full-text .entity-person {
            background: var(--highlight-blue);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .full-text .entity-date {
            background: var(--highlight-yellow);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .full-text .entity-court {
            background: var(--highlight-green);
            padding: 1px 4px;
            border-radius: 3px;
        }

        .full-text .entity-case {
            background: rgba(163, 113, 247, 0.3);
            padding: 1px 4px;
            border-radius: 3px;
        }

        /* Notes Sidebar */
        .notes-sidebar {
            width: 300px;
            border-left: 1px solid var(--border-primary);
            background: var(--bg-secondary);
            display: flex;
            flex-direction: column;
        }

        .notes-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notes-header h3 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .notes-count {
            font-size: 11px;
            color: var(--text-muted);
            background: var(--bg-tertiary);
            padding: 2px 8px;
            border-radius: 10px;
        }

        .notes-list {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .note-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .note-item:hover {
            border-color: var(--border-secondary);
        }

        .note-item.active {
            border-color: var(--accent-blue);
        }

        .note-quote {
            font-size: 12px;
            color: var(--text-secondary);
            font-style: italic;
            line-height: 1.5;
            margin-bottom: 10px;
            padding-left: 12px;
            border-left: 2px solid var(--accent-blue);
        }

        .note-quote::before {
            content: '"';
            margin-right: 4px;
        }

        .note-quote::after {
            content: '"';
            margin-left: 4px;
        }

        .note-user-text {
            font-size: 13px;
            color: var(--text-primary);
            line-height: 1.4;
        }

        .note-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid var(--border-primary);
        }

        .note-date {
            font-size: 11px;
            color: var(--text-muted);
        }

        .note-delete {
            font-size: 11px;
            color: var(--accent-red);
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .note-delete:hover {
            background: rgba(248, 81, 73, 0.15);
        }

        .notes-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
            font-size: 13px;
        }

        .notes-empty-icon {
            font-size: 32px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .add-note-btn {
            margin: 12px;
            padding: 12px;
            background: var(--bg-tertiary);
            border: 1px dashed var(--border-primary);
            border-radius: 8px;
            color: var(--text-muted);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .add-note-btn:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        /* Note Editor Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 20px;
            cursor: pointer;
            padding: 4px;
            line-height: 1;
        }

        .modal-close:hover {
            color: var(--text-primary);
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-size: 12px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }

        .form-group textarea,
        .form-group input {
            width: 100%;
            padding: 10px 12px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 14px;
            font-family: inherit;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-group textarea:focus,
        .form-group input:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        .modal-footer {
            padding: 16px 20px;
            border-top: 1px solid var(--border-primary);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            color: var(--text-secondary);
        }

        .btn-secondary:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .btn-primary {
            background: var(--accent-blue);
            border: 1px solid var(--accent-blue);
            color: #fff;
        }

        .btn-primary:hover {
            background: #4393e6;
        }

        /* Entity Legend */
        .entity-legend {
            display: flex;
            gap: 16px;
            padding: 12px 24px;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-primary);
            font-size: 11px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--text-muted);
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        .legend-color.person { background: var(--highlight-blue); }
        .legend-color.date { background: var(--highlight-yellow); }
        .legend-color.court { background: var(--highlight-green); }
        .legend-color.case { background: rgba(163, 113, 247, 0.5); }

        /* Selection highlight */
        ::selection {
            background: var(--accent-blue);
            color: #fff;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--border-secondary);
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            padding: 12px 20px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-color: var(--accent-green);
        }

        .toast.success .toast-icon {
            color: var(--accent-green);
        }

        /* No results state */
        .no-results {
            text-align: center;
            padding: 60px 40px;
            color: var(--text-muted);
        }

        .no-results-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .no-results h3 {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .no-results p {
            font-size: 13px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .notes-sidebar {
                width: 260px;
            }
            .results-panel {
                width: 340px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">‚öñÔ∏è</div>
            <span>Vibe-Law</span>
        </div>
        <div class="search-container">
            <div class="search-wrapper">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" id="searchInput" placeholder="Search cases, citations, parties, topics...">
            </div>
        </div>
        <div class="header-actions">
            <button class="header-btn">üìã Export</button>
            <button class="header-btn">‚öôÔ∏è Settings</button>
        </div>
    </header>

    <main class="main-container">
        <aside class="results-panel">
            <div class="results-header">
                <span class="results-count"><strong id="resultCount">0</strong> cases found</span>
                <select class="sort-select" id="sortSelect">
                    <option value="relevance">Sort: Relevance</option>
                    <option value="date-desc">Date (Newest)</option>
                    <option value="date-asc">Date (Oldest)</option>
                    <option value="court">Court</option>
                </select>
            </div>
            <div class="results-list" id="resultsList">
                <!-- Case items will be rendered here -->
            </div>
        </aside>

        <section class="detail-panel" id="detailPanel">
            <div class="detail-header">
                <h1 class="detail-title" id="detailTitle">Select a case to view details</h1>
                <div class="detail-meta" id="detailMeta">
                    <!-- Meta information will be rendered here -->
                </div>
            </div>
            <div class="detail-tabs">
                <button class="tab-btn active" data-tab="summary">Summary</button>
                <button class="tab-btn" data-tab="fulltext">Full Text</button>
                <div class="detail-actions">
                    <button class="action-btn" id="extractEntitiesBtn">
                        <span>üè∑Ô∏è</span> Extract Entities
                    </button>
                    <button class="action-btn success" id="addNoteBtn">
                        <span>üìù</span> Add Note
                    </button>
                </div>
            </div>
            <div class="detail-content">
                <div class="tab-content active" id="summaryTab">
                    <div class="summary-section">
                        <h3>Case Overview</h3>
                        <p class="summary-text" id="caseSummary">Select a case to view its summary.</p>
                    </div>
                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>Petitioner</h4>
                            <p id="petitionerInfo">-</p>
                        </div>
                        <div class="summary-card">
                            <h4>Respondent</h4>
                            <p id="respondentInfo">-</p>
                        </div>
                        <div class="summary-card">
                            <h4>Key Issue</h4>
                            <p id="keyIssue">-</p>
                        </div>
                        <div class="summary-card">
                            <h4>Ruling</h4>
                            <p id="rulingInfo">-</p>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="fulltextTab">
                    <div class="full-text" id="fullTextContent">
                        <!-- Full text will be rendered here -->
                    </div>
                </div>
                <aside class="notes-sidebar">
                    <div class="notes-header">
                        <h3>Case Notes</h3>
                        <span class="notes-count" id="notesCount">0 notes</span>
                    </div>
                    <div class="notes-list" id="notesList">
                        <div class="notes-empty">
                            <div class="notes-empty-icon">üìù</div>
                            <p>No notes yet.<br>Select text and click "Add Note"</p>
                        </div>
                    </div>
                    <button class="add-note-btn" id="addNoteSidebarBtn">+ Add Note</button>
                </aside>
            </div>
            <div class="entity-legend" id="entityLegend" style="display: none;">
                <div class="legend-item">
                    <div class="legend-color person"></div>
                    <span>Person</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color date"></div>
                    <span>Date</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color court"></div>
                    <span>Court/Location</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color case"></div>
                    <span>Case Reference</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Note Editor Modal -->
    <div class="modal-overlay" id="noteModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Add Case Note</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Selected Text (Quote)</label>
                    <textarea id="noteQuote" readonly></textarea>
                </div>
                <div class="form-group">
                    <label>Your Note</label>
                    <textarea id="noteText" placeholder="Enter your analysis, thoughts, or key takeaways..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelNote">Cancel</button>
                <button class="btn btn-primary" id="saveNote">Save Note</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-icon">‚úì</span>
        <span class="toast-message" id="toastMessage">Note saved successfully</span>
    </div>

    <script>
        // Mock Legal Cases Database
        const cases = [
            {
                id: 1,
                title: "Smith v. Johnson Industries, Inc.",
                citation: "456 U.S. 789 (2023)",
                court: "Supreme Court of the United States",
                date: "2023-06-15",
                category: "Employment Law",
                petitioner: "Margaret Smith",
                respondent: "Johnson Industries, Inc.",
                keyIssue: "Whether employers can require mandatory arbitration clauses that waive employees' rights to collective action.",
                ruling: "Reversed and remanded. Employers cannot enforce arbitration agreements that prohibit employees from participating in collective proceedings.",
                summary: "This landmark case addressed the enforceability of mandatory arbitration clauses in employment contracts. The Court held that the Federal Arbitration Act does not permit employers to waive employees' rights to engage in collective action through class or collective proceedings. The decision significantly impacts employment practices nationwide and requires many companies to revise their arbitration agreements.",
                fullText: `The Supreme Court of the United States

                    SMITH v. JOHNSON INDUSTRIES, INC.
                    456 U.S. 789 (2023)

                    OPINION OF THE COURT

                    Justice Williams delivered the opinion of the Court.

                    This case presents the question of whether employers may, through mandatory arbitration agreements, waive employees' rights to participate in collective or class actions. The respondent, Johnson Industries, Inc., required all employees to sign arbitration agreements as a condition of employment. These agreements contained provisions waiving the right to bring or participate in any collective, class, or representative proceedings.

                    The petitioner, Margaret Smith, filed a collective action under the Fair Labor Standards Act alleging wage and hour violations. Johnson Industries moved to compel individual arbitration based on the signed agreement. The District Court granted the motion, and the Court of Appeals affirmed.

                    We hold that the Federal Arbitration Act, 9 U.S.C. ¬ß 1 et seq., does not authorize employers to strip employees of their substantive rights to collective action. The Act's purpose was to enforce arbitration agreements according to their terms, not to enable parties to use arbitration as a means of evading legal protections.

                    The text of the arbitration agreement in this case clearly and unmistakably delegated questions of arbitrability to the arbitrator. However, this delegation does not extend to questions regarding the validity of the waiver provision itself. We conclude that the waiver of collective action rights is unenforceable as a matter of federal law.

                    The judgment of the Court of Appeals is REVERSED, and the case is REMANDED for further proceedings consistent with this opinion.

                    It is so ordered.`,
                entities: {
                    persons: ["Margaret Smith", "Justice Williams", "Johnson Industries"],
                    dates: ["2023-06-15", "Fair Labor Standards Act"],
                    courts: ["Supreme Court of the United States", "District Court", "Court of Appeals"],
                    cases: ["Federal Arbitration Act"]
                }
            },
            {
                id: 2,
                title: "State of California v. Hernandez Construction",
                citation: "234 Cal. 456 (2022)",
                court: "California Supreme Court",
                date: "2022-11-08",
                category: "Environmental Law",
                petitioner: "State of California",
                respondent: "Hernandez Construction Co.",
                keyIssue: "Whether construction companies are liable for environmental damage caused by improper disposal of construction debris under state environmental statutes.",
                ruling: "Affirmed. Construction companies have a non-delegable duty to ensure proper disposal of construction debris under the California Environmental Quality Act.",
                summary: "This case addressed the environmental liability of construction companies under California law. The Court determined that Hernandez Construction Co. could not delegate its environmental responsibilities to independent contractors, holding the company liable for damages caused by improper disposal of hazardous construction materials at multiple job sites throughout the state.",
                fullText: `Supreme Court of California

                    STATE OF CALIFORNIA v. HERNANDEZ CONSTRUCTION CO.
                    234 Cal. 456 (2022)

                    CHIEF JUSTICE MARTINEZ delivered the opinion of the Court.

                    The People of the State of California brought this action against Hernandez Construction Co. and its subsidiary entities for violations of the California Environmental Quality Act (CEQA) and the Porter-Cologne Water Quality Control Act. The complaint alleged that Hernandez Construction knowingly permitted the improper disposal of lead-based paint debris, asbestos-containing materials, and other hazardous substances at various construction sites throughout California between 2018 and 2021.

                    Hernandez Construction moved for summary judgment, arguing that it had delegated waste management responsibilities to licensed independent contractors who were solely responsible for disposal procedures. The trial court denied the motion, and following a bench trial, entered judgment in favor of the State in the amount of $2.4 million in civil penalties and $800,000 in remediation costs.

                    We affirm. The language of CEQA imposes a non-delegable duty on project owners and developers to ensure compliance with environmental regulations. Hernandez Construction cannot escape liability by contracting away its fundamental environmental responsibilities. The trial court's factual findings regarding the company's knowledge of the improper disposal practices are supported by substantial evidence.

                    The judgment of the Court of Appeal is AFFIRMED.`,
                entities: {
                    persons: ["Chief Justice Martinez", "State of California"],
                    dates: ["2018", "2021", "2022-11-08"],
                    courts: ["California Supreme Court", "Court of Appeal", "Trial Court"],
                    cases: ["California Environmental Quality Act", "Porter-Cologne Water Quality Control Act"]
                }
            },
            {
                id: 3,
                title: "Thompson v. Metropolitan Police Department",
                citation: "789 F.3d 1234 (9th Cir. 2022)",
                court: "United States Court of Appeals, Ninth Circuit",
                date: "2022-04-22",
                category: "Civil Rights",
                petitioner: "Robert Thompson",
                respondent: "Metropolitan Police Department",
                keyIssue: "Whether qualified immunity shields police officers from liability when using force against a suspect who failed to comply with verbal commands but posed no immediate threat.",
                ruling: "Reversed. Officers are not entitled to qualified immunity where the constitutional violation was clearly established at the time of the incident.",
                summary: "This civil rights case examined the boundaries of qualified immunity for law enforcement officers. The Court found that the officers violated Thompson's Fourth Amendment rights by using excessive force and that the right to be free from such force was clearly established at the time of the incident, thereby precluding qualified immunity.",
                fullText: `United States Court of Appeals for the Ninth Circuit

                    THOMPSON v. METROPOLITAN POLICE DEPARTMENT
                    789 F.3d 1234 (9th Cir. 2022)

                    Judge Richardson, writing for the panel.

                    Robert Thompson appeals from the district court's grant of summary judgment in favor of defendants Metropolitan Police Department and Officers James Wilson and Sarah Chen. Thompson alleges that Officers Wilson and Chen used excessive force in violation of his Fourth Amendment rights when they tased him during a traffic stop on March 15, 2021.

                    The facts, viewed in the light most favorable to Thompson, are as follows. Officer Wilson initiated a traffic stop after observing Thompson's vehicle had a broken taillight. When Wilson approached the vehicle, Thompson exited the car. Wilson ordered Thompson to return to his vehicle. Thompson, who suffers from a medical condition that causes him to become disoriented when stressed, did not immediately comply.

                    Within seconds, Officer Chen deployed her taser, striking Thompson in the chest. Thompson fell to the ground and suffered injuries requiring hospitalization, including three broken ribs and a laceration requiring stitches.

                    The district court granted defendants summary judgment based on qualified immunity. We reverse.

                    To determine whether qualified immunity applies, we ask whether the officers violated a constitutional right and whether that right was clearly established at the time of the conduct. Graham v. Connor, 490 U.S. 386 (1989).

                    The use of a taser on a non-threatening individual who has committed only a minor traffic violation constitutes excessive force in violation of the Fourth Amendment. This Court has clearly established that significant force, such as taser deployment, requires a showing of resistance or threat of harm. See Bryant v. City of Redlands, 571 F.3d 1062 (9th Cir. 2009).

                    REVERSED and REMANDED.`,
                entities: {
                    persons: ["Robert Thompson", "Officer James Wilson", "Officer Sarah Chen", "Judge Richardson"],
                    dates: ["March 15, 2021", "2022-04-22"],
                    courts: ["Ninth Circuit", "District Court", "Metropolitan Police Department"],
                    cases: ["Fourth Amendment", "Graham v. Connor", "Bryant v. City of Redlands"]
                }
            },
            {
                id: 4,
                title: "Digital Privacy Alliance v. TechCorp International",
                citation: "567 F.Supp.3d 890 (D. Del. 2023)",
                court: "United States District Court, District of Delaware",
                date: "2023-02-14",
                category: "Privacy Law",
                petitioner: "Digital Privacy Alliance",
                respondent: "TechCorp International",
                keyIssue: "Whether TechCorp's collection and sale of user location data without explicit consent violates the Computer Fraud and Abuse Act and state privacy laws.",
                ruling: "Partial summary judgment granted. Collection violated CFAA; damages to be determined at trial.",
                summary: "This case examined the boundaries of digital privacy in the age of ubiquitous data collection. The Court ruled that TechCorp's systematic collection and commercialization of precise location data without explicit user consent violated the Computer Fraud and Abuse Act, establishing important precedents for digital privacy rights.",
                fullText: `United States District Court for the District of Delaware

                    DIGITAL PRIVACY ALLIANCE v. TECHCORP INTERNATIONAL
                    567 F.Supp.3d 890 (D. Del. 2023)

                    JUDGE PATEL issued this Memorandum Order.

                    Plaintiff Digital Privacy Alliance brings this action alleging that Defendant TechCorp International violated the Computer Fraud and Abuse Act, 18 U.S.C. ¬ß 1030, and various state privacy laws by collecting, storing, and selling precise geographic location data obtained from millions of mobile device users without adequate disclosure or consent.

                    The evidence demonstrates that TechCorp's mobile SDK, embedded in over 400 popular applications, collected continuous precise location data including GPS coordinates, WiFi access points, and Bluetooth beacons. This data was aggregated, analyzed, and sold to advertising networks, data brokers, and government entities.

                    TechCorp argues that users consented to data collection through generic privacy policies that were not specifically disclosed during app installation. We find this consent inadequate under both the CFAA and relevant state laws. Users must be informed of the specific nature and purpose of data collection in a clear and conspicuous manner.

                    Plaintiff's motion for partial summary judgment is GRANTED as to the CFAA violation. The question of damages remains for trial.

                    IT IS SO ORDERED.`,
                entities: {
                    persons: ["Judge Patel", "Digital Privacy Alliance"],
                    dates: ["2023-02-14"],
                    courts: ["District of Delaware", "United States District Court"],
                    cases: ["Computer Fraud and Abuse Act", "CFAA"]
                }
            },
            {
                id: 5,
                title: "Martinez v. Regional Bank Corporation",
                citation: "345 F.3d 567 (7th Cir. 2023)",
                court: "United States Court of Appeals, Seventh Circuit",
                date: "2023-08-30",
                category: "Banking Law",
                petitioner: "Elena Martinez",
                respondent: "Regional Bank Corporation",
                keyIssue: "Whether the Truth in Lending Act requires lenders to disclose the specific methodology used to calculate variable interest rates in loan documents.",
                ruling: "Affirmed. TILA requires lenders to provide sufficient information for borrowers to understand how interest rates are calculated.",
                summary: "This case clarified disclosure requirements under the Truth in Lending Act for variable-rate loans. The Court held that Regional Bank Corporation's loan documents failed to provide adequate disclosure of the methodology used to calculate interest rate adjustments, in violation of TILA's requirement that borrowers receive clear understanding of loan terms.",
                fullText: `United States Court of Appeals for the Seventh Circuit

                    MARTINEZ v. REGIONAL BANK CORPORATION
                    345 F.3d 567 (7th Cir. 2023)

                    JUDGE OKONKWO delivered the opinion of the Court.

                    Elena Martinez appeals from the district court's summary judgment in favor of Regional Bank Corporation on her claim under the Truth in Lending Act, 15 U.S.C. ¬ß 1601 et seq. Martinez contends that Regional Bank's disclosures regarding its adjustable interest rate methodology were insufficient to satisfy TILA's requirements.

                    Martinez obtained a $450,000 mortgage loan from Regional Bank in January 2021. The loan agreement stated that the interest rate would be "subject to adjustment based on market conditions" and referenced an "index" without identifying which index would be used or providing the current value of that index.

                    The district court found that these disclosures were adequate because they notified Martinez that her rate could change. We disagree. TILA and Regulation Z require lenders to disclose the specific index or reference rate that will be used to calculate interest rate adjustments. Generic references to "market conditions" do not satisfy this requirement.

                    The purpose of TILA is to promote the informed use of consumer credit by requiring disclosures about terms and costs. A borrower cannot make an informed decision about a variable-rate loan without knowing which index will govern her interest rate.

                    REVERSED and REMANDED.`,
                entities: {
                    persons: ["Elena Martinez", "Judge Okonkwo"],
                    dates: ["January 2021", "2023-08-30"],
                    courts: ["Seventh Circuit", "District Court", "Regional Bank Corporation"],
                    cases: ["Truth in Lending Act", "TILA", "Regulation Z"]
                }
            },
            {
                id: 6,
                title: "In re: Estate of James W. Patterson, Deceased",
                citation: "123 N.Y.2d 890 (S.Ct. 2022)",
                court: "New York Court of Appeals",
                date: "2022-09-16",
                category: "Estate & Trust Law",
                petitioner: "Patterson Family Trust",
                respondent: "State of New York",
                keyIssue: "Whether a holographic will is valid when the testator's signature appears at the end but not at the beginning or middle of the document.",
                ruling: "Reversed. A holographic will with the testator's signature at the end satisfies New York estate law requirements.",
                summary: "This case addressed the validity requirements for holographic wills under New York law. The Court clarified that a will entirely in the testator's handwriting with a signature at the end satisfies statutory requirements, resolving a split among lower courts regarding the placement of signatures on holographic documents.",
                fullText: `Court of Appeals of New York

                    In re: Estate of JAMES W. PATTERSON, Deceased
                    123 N.Y.2d 890 (S.Ct. 2022)

                    JUDGE FOSTER wrote for the Court.

                    This proceeding concerns the validity of a holographic will left by James W. Patterson, who died on December 3, 2021. The Surrogate's Court admitted the will to probate, and several beneficiaries appealed, arguing that the will was invalid because Patterson's signature appeared only at the end of the document rather than on each page.

                    New York Estates, Powers and Trusts Law ¬ß 5-1.1(a) provides that a will is valid if "subscribed by the testator at the end of the will." The statute does not require signatures on each page of a multi-page will.

                    The holographic will in this case is entirely in Patterson's handwriting. It consists of four pages describing his assets, the appointment of his wife as executor, and specific bequests to his children. Patterson signed the fourth and final page. This subscription satisfies the statutory requirement.

                    We hold that a testator's signature at the conclusion of a holographic will, after the dispositive provisions, satisfies the subscription requirement of EPTL ¬ß 5-1.1(a).

                    ORDER affirmed.`,
                entities: {
                    persons: ["James W. Patterson", "Judge Foster", "Patterson Family Trust"],
                    dates: ["December 3, 2021", "2022-09-16"],
                    courts: ["New York Court of Appeals", "Surrogate's Court", "State of New York"],
                    cases: ["New York Estates, Powers and Trusts Law", "EPTL"]
                }
            },
            {
                id: 7,
                title: "National Educators Union v. School District of Philadelphia",
                citation: "890 F.3d 456 (3d Cir. 2022)",
                court: "United States Court of Appeals, Third Circuit",
                date: "2022-07-11",
                category: "Labor Law",
                petitioner: "National Educators Union",
                respondent: "School District of Philadelphia",
                keyIssue: "Whether a school district's implementation of mandatory professional development requirements during contract negotiations violates the duty to bargain in good faith.",
                ruling: "Affirmed in part, reversed in part. Mandatory training is a mandatory subject of bargaining; implementation during negotiations was bad faith.",
                summary: "This labor dispute examined the scope of mandatory bargaining subjects for public sector unions. The Court held that the School District of Philadelphia violated its duty to bargain in good faith by unilaterally implementing mandatory professional development requirements without completing collective bargaining negotiations with the National Educators Union.",
                fullText: `United States Court of Appeals for the Third Circuit

                    NATIONAL EDUCATORS UNION v. SCHOOL DISTRICT OF PHILADELPHIA
                    890 F.3d 456 (3d Cir. 2022)

                    JUDGE CHEN delivered the opinion of the Court.

                    The National Educators Union appeals from the National Labor Relations Board's order finding that the School District of Philadelphia violated the National Labor Relations Act by implementing mandatory professional development requirements without bargaining to impasse. The Board ordered the District to rescind the requirements and make affected employees whole.

                    The central question is whether mandatory professional development is a mandatory subject of bargaining under the NLRA. We hold that it is. Professional development requirements directly affect teachers' working conditions, including their schedule, workload, and professional autonomy. These are classic mandatory bargaining subjects.

                    The School District argues that the training requirements are academic decisions excluded from bargaining under the Academic Freedom Doctrine. We reject this argument. While decisions about curriculum and teaching methodology may fall within academic freedom, requirements about when and how teachers must complete training relate to employment conditions, not academic content.

                    We affirm the Board's determination that the District violated Section 8(a)(5) of the NLRA. However, we remand for the Board to reconsider its remedy.

                    AFFIRMED in part, REMANDED in part.`,
                entities: {
                    persons: ["Judge Chen", "National Educators Union", "School District of Philadelphia"],
                    dates: ["2022-07-11"],
                    courts: ["Third Circuit", "National Labor Relations Board"],
                    cases: ["National Labor Relations Act", "NLRA", "Academic Freedom Doctrine"]
                }
            },
            {
                id: 8,
                title: "Chen v. Quality Healthcare Services",
                citation: "678 F.Supp.3d 345 (N.D. Cal. 2023)",
                court: "United States District Court, Northern District of California",
                date: "2023-05-02",
                category: "Healthcare Law",
                petitioner: "Dr. Wei Chen",
                respondent: "Quality Healthcare Services, Inc.",
                keyIssue: "Whether a non-compete clause in a physician employment agreement is enforceable given California's strong public policy favoring physician mobility.",
                ruling: "Summary judgment for plaintiff. Non-compete clause is unenforceable as a matter of California law.",
                summary: "This case tested the enforceability of non-compete agreements in the healthcare sector. The Court held that Quality Healthcare Services' non-compete clause, which would have prevented Dr. Wei Chen from practicing medicine within 50 miles of any of the company's facilities for two years following termination, was unenforceable under California Business and Professions Code section 16600.",
                fullText: `United States District Court for the Northern District of California

                    CHEN v. QUALITY HEALTHCARE SERVICES, INC.
                    678 F.Supp.3d 345 (N.D. Cal. 2023)

                    JUDGE NAKAMURA issued this Order.

                    Dr. Wei Chen, a board-certified cardiologist, brings this action seeking declaratory relief that the non-compete provision in his employment agreement with Quality Healthcare Services, Inc. is unenforceable. The parties have cross-moved for summary judgment.

                    Dr. Chen worked for Quality Healthcare at its San Francisco clinic from 2019 to 2022. His employment agreement contained a non-compete clause restricting him from "engaging in the practice of medicine" within 50 miles of any Quality Healthcare facility for a period of two years following termination of employment.

                    After resigning, Dr. Chen accepted a position at a competing medical group. Quality Healthcare sent a cease-and-desist letter, threatening enforcement of the non-compete provision.

                    California Business and Professions Code ¬ß 16600 provides that "every contract by which anyone is restrained from engaging in a lawful profession, trade, or business of any kind is to that extent void." While California courts recognize limited exceptions for agreements related to the sale of a business, no exception exists for physician employment agreements.

                    Quality Healthcare argues that the non-compete is necessary to protect its investment in Dr. Chen's training. This argument fails. The statute contains no such exception.

                    Defendant's motion DENIED. Plaintiff's motion GRANTED.`,
                entities: {
                    persons: ["Dr. Wei Chen", "Judge Nakamura", "Quality Healthcare Services"],
                    dates: ["2019", "2022", "2023-05-02"],
                    courts: ["Northern District of California", "United States District Court"],
                    cases: ["California Business and Professions Code", "Section 16600"]
                }
            },
            {
                id: 9,
                title: "Federal Communications Commission v. Wireless Telecom Solutions",
                citation: "456 F.3d 789 (D.C. Cir. 2023)",
                court: "United States Court of Appeals, District of Columbia Circuit",
                date: "2023-03-21",
                category: "Administrative Law",
                petitioner: "Federal Communications Commission",
                respondent: "Wireless Telecom Solutions, LLC",
                keyIssue: "Whether the FCC's rules governing spectrum auction bidding are entitled to Chevron deference when challenged by wireless carriers.",
                ruling: "Petition granted. FCC's interpretation of its own auction rules is entitled to deference.",
                summary: "This administrative law case addressed the scope of Chevron deference in the context of FCC spectrum auction regulations. The Court affirmed that the FCC's reasonable interpretation of ambiguous provisions in its spectrum auction rules was entitled to deference, rejecting Wireless Telecom Solutions' argument that the agency's interpretation was impermissible.",
                fullText: `United States Court of Appeals for the District of Columbia Circuit

                    FEDERAL COMMUNICATIONS COMMISSION v. WIRELESS TELECOM SOLUTIONS, LLC
                    456 F.3d 789 (D.C. Cir. 2023)

                    JUDGE HARRISON wrote the opinion.

                    The Federal Communications Commission petitions for review of a decision by the Administrative Law Judge finding that Wireless Telecom Solutions, LLC violated the Commission's competitive bidding rules during the 5G spectrum auction. The Administrative Law Judge concluded that Wireless Telecom's interpretation of the rules should control, rejecting the FCC's contrary reading.

                    We grant the Commission's petition. The question is whether the Commission's interpretation of its own auction regulations is entitled to deference under Chevron U.S.A., Inc. v. NRDC, Inc., 467 U.S. 837 (1984). It is well established that agencies are entitled to deference when interpreting ambiguous statutory provisions they administer.

                    The spectrum auction rules at issue are ambiguous regarding what constitutes "coordinated bidding." The Commission reasonably interpreted this term to include informal arrangements between competitors to divide markets and allocate bidding territories. This interpretation is consistent with the purpose of the auction rules, which is to promote competition and prevent anti-competitive behavior.

                    Wireless Telecom argues that the Commission's interpretation is inconsistent with its prior interpretations. We find the Commission's explanations adequate and see no reason to disturb its reasonable reading of the regulations.

                    PETITION GRANTED.`,
                entities: {
                    persons: ["Judge Harrison", "Federal Communications Commission", "Wireless Telecom Solutions"],
                    dates: ["2023-03-21", "5G spectrum auction"],
                    courts: ["D.C. Circuit", "Administrative Law Judge", "United States Court of Appeals"],
                    cases: ["Chevron U.S.A., Inc. v. NRDC", "FCC"]
                }
            },
            {
                id: 10,
                title: "Simmons v. Coastal Properties Management",
                citation: "234 F.3d 567 (11th Cir. 2022)",
                court: "United States Court of Appeals, Eleventh Circuit",
                date: "2022-12-05",
                category: "Property Law",
                petitioner: "Barbara Simmons",
                respondent: "Coastal Properties Management, LLC",
                keyIssue: "Whether a property owner's prescriptive easement rights are extinguished when the servient estate is transferred to a new owner who has no actual notice of the easement.",
                ruling: "Reversed. Recording statutes do not extinguish valid prescriptive easements without notice to the easement holder.",
                summary: "This property law case concerned the interaction between prescriptive easements and property recording statutes. The Court held that Coastal Properties Management's purchase of property subject to a recorded easement did not extinguish the easement, regardless of whether the company had actual knowledge of its existence at the time of purchase.",
                fullText: `United States Court of Appeals for the Eleventh Circuit

                    SIMMONS v. COASTAL PROPERTIES MANAGEMENT, LLC
                    234 F.0d 567 (11th Cir. 2022)

                    JUDGE WELLINGTON delivered the opinion of the Court.

                    Barbara Simmons appeals the district court's grant of summary judgment in favor of Coastal Properties Management, LLC on her claim of a prescriptive easement across Coastal's beachfront property. The easement has been used by Simmons and her family for beach access since 1965.

                    Coastal Properties purchased the servient estate in 2019 without actual knowledge of the easement. The property records showed no mention of the easement in the chain of title. Coastal argues that the easement was extinguished upon transfer to a bona fide purchaser without notice.

                    We reverse. Unlike acquired easements by necessity or express grant, prescriptive easements arise from adverse, open, and notorious use over the statutory period. Once established, a prescriptive easement runs with the land. The purchaser of property subject to a prescriptive easement takes the property subject to that easement, regardless of actual notice.

                    Coastal Properties relies on recording statutes that protect bona fide purchasers. However, those statutes address the effect of failing to record conveyances on prior purchasers. They do not address the effect of purchasing property that is already burdened by an easement.

                    REVERSED and REMANDED.`,
                entities: {
                    persons: ["Barbara Simmons", "Judge Wellington", "Coastal Properties Management"],
                    dates: ["1965", "2019", "2022-12-05"],
                    courts: ["Eleventh Circuit", "District Court", "Coastal Properties Management"],
                    cases: ["recording statutes"]
                }
            },
            {
                id: 11,
                title: " pharmaceutical Research Coalition v. Department of Health",
                citation: "789 F.3d 123 (Fed. Cir. 2022)",
                court: "United States Court of Appeals, Federal Circuit",
                date: "2022-10-18",
                category: "Administrative Law",
                petitioner: "Pharmaceutical Research Coalition",
                respondent: "Department of Health and Human Services",
                keyIssue: "Whether the HHS drug pricing regulations under the Inflation Reduction Act exceed the agency's statutory authority.",
                ruling: "Petition denied. HHS has statutory authority to implement drug price negotiation program as enacted.",
                summary: "This case challenged the Department of Health and Human Services' authority to implement drug price negotiation provisions under the Inflation Reduction Act. The Pharmaceutical Research Coalition argued that the program's requirements exceeded congressional authorization. The Court disagreed, finding that Congress had clearly delegated authority to HHS to implement the negotiation program.",
                fullText: `United States Court of Appeals for the Federal Circuit

                    PHARMACEUTICAL RESEARCH COALITION v. DEPARTMENT OF HEALTH AND HUMAN SERVICES
                    789 F.3d 123 (Fed. Cir. 2022)

                    JUDGE MONTGOMERY delivered the opinion of the Court.

                    The Pharmaceutical Research Coalition petitions for review of regulations promulgated by the Department of Health and Human Services implementing the drug price negotiation provisions of the Inflation Reduction Act. Coalition members argue that the regulations exceed HHS's statutory authority and violate the Fifth Amendment Due Process Clause.

                    The Inflation Reduction Act authorizes HHS to negotiate "maximum fair prices" for certain high-expenditure drugs covered by Medicare. The Act directs HHS to establish a methodology for determining these prices based on factors including the drug's clinical benefit and market exclusivity.

                    Coalition argues that the statutory factors are too vague to provide meaningful guidance to HHS. We disagree. Congress is not required to provide an agency with precise standards when delegating authority over complex policy matters. The factors identified in the statute provide adequate guidance for HHS to develop a rational pricing methodology.

                    Coalition's constitutional arguments likewise fail. The Fifth Amendment does not require Congress to compensate pharmaceutical companies for regulations that reduce their profits. The drug price negotiation program is a valid exercise of Congress's spending power.

                    PETITION DENIED.`,
                entities: {
                    persons: ["Judge Montgomery", "Pharmaceutical Research Coalition", "Department of Health and Human Services"],
                    dates: ["2022-10-18", "Inflation Reduction Act"],
                    courts: ["Federal Circuit", "United States Court of Appeals", "HHS"],
                    cases: ["Fifth Amendment", "Medicare"]
                }
            },
            {
                id: 12,
                title: "In re: Grand Jury Investigation of Media Leak",
                citation: "567 F.3d 890 (2d Cir. 2022)",
                court: "United States Court of Appeals, Second Circuit",
                date: "2022-06-28",
                category: "Constitutional Law",
                petitioner: "The Daily Tribune Newspaper",
                respondent: "United States Department of Justice",
                keyIssue: "Whether the First Amendment protects journalists from compelled disclosure of confidential sources in federal grand jury proceedings.",
                ruling: "Petitioner granted partial relief. Journalists have qualified First Amendment privilege that must be balanced against government's need for information.",
                summary: "This First Amendment case addressed the scope of journalist privilege in federal grand jury proceedings. The Court adopted a balancing test, holding that journalists have a qualified privilege against compelled disclosure of confidential sources, but this privilege can be overcome upon a showing of compelling governmental interest and lack of alternative sources.",
                fullText: `United States Court of Appeals for the Second Circuit

                    In re: GRAND JURY INVESTIGATION OF MEDIA LEAK
                    567 F.3d 890 (2d Cir. 2022)

                    JUDGE PATEL wrote for the panel.

                    The Daily Tribune Newspaper and investigative reporter Thomas Hartley appeal from a district court order holding Hartley in contempt for refusing to answer grand jury questions about the source of his information for an article exposing classified intelligence operations.

                    The First Amendment provides some protection for journalists seeking to protect confidential sources. However, this protection is not absolute. We adopt a balancing approach that weighs the reporter's interest in confidentiality against the grand jury's need for the information.

                    Factors relevant to the balance include: (1) the relevance of the information to the grand jury investigation; (2) whether the information is available from other sources; (3) the seriousness of the crime under investigation; and (4) the reporter's role in the criminal activity.

                    On remand, the district court shall apply this balancing test. The government must demonstrate a compelling need for the information that cannot be satisfied through alternative means before the reporter can be compelled to testify.

                    PETITIONERS' APPLICATION GRANTED IN PART.`,
                entities: {
                    persons: ["Thomas Hartley", "Judge Patel", "The Daily Tribune Newspaper"],
                    dates: ["2022-06-28"],
                    courts: ["Second Circuit", "District Court", "United States Department of Justice", "Grand Jury"],
                    cases: ["First Amendment"]
                }
            },
            {
                id: 13,
                title: "Williams v. AutoFinance Group",
                citation: "123 F.Supp.3d 456 (E.D. Mich. 2023)",
                court: "United States District Court, Eastern District of Michigan",
                date: "2023-01-24",
                category: "Consumer Protection",
                petitioner: "Patricia Williams",
                respondent: "AutoFinance Group, Inc.",
                keyIssue: "Whether the Telephone Consumer Protection Act applies to text message communications sent by automobile dealers for marketing purposes.",
                ruling: "Summary judgment for plaintiff. Text messages are 'calls' under TCPA; prior consent required.",
                summary: "This consumer protection case addressed the application of the Telephone Consumer Protection Act to modern communication methods. The Court held that automated text messages sent by AutoFinance Group for marketing purposes constituted "calls" under the TCPA and required prior express consent, establishing that the statute's protections extend to text message communications.",
                fullText: `United States District Court for the Eastern District of Michigan

                    WILLIAMS v. AUTOFINANCE GROUP, INC.
                    123 F.Supp.3d 456 (E.D. Mich. 2023)

                    JUDGE ANDERSON issued this Opinion and Order.

                    Patricia Williams brings this action under the Telephone Consumer Protection Act, 47 U.S.C. ¬ß 227, alleging that AutoFinance Group, Inc. sent her dozens of unwanted automated text messages advertising automobile financing offers without her prior consent.

                    AutoFinance Group argues that the TCPA, enacted in 1991, applies only to telephone calls, not text messages. This argument fails. The TCPA defines "call" to include "any telephone call or telephone call made for telemarketing purposes." 47 U.S.C. ¬ß 227(a)(1). A text message is functionally a telephone call in electronic form.

                    The Federal Communications Commission, the agency charged with implementing the TCPA, has consistently interpreted the statute to cover text messages. See In re Rules & Regulations Implementing the Tel. Consumer Prot. Act of 1991, 18 F.C.C.R. 14014 (2003). This interpretation is entitled to deference.

                    Williams has presented evidence that she never provided her phone number to AutoFinance Group and never consented to receive text messages. AutoFinance Group obtained her number from a lead generator and began sending marketing texts without verification of consent.

                    Plaintiff's motion for summary judgment GRANTED.`,
                entities: {
                    persons: ["Patricia Williams", "Judge Anderson", "AutoFinance Group"],
                    dates: ["1991", "2023-01-24"],
                    courts: ["Eastern District of Michigan", "United States District Court", "Federal Communications Commission"],
                    cases: ["Telephone Consumer Protection Act", "TCPA"]
                }
            },
            {
                id: 14,
                title: "Pacific Marine Trade Association v. Port of Seattle",
                citation: "890 F.3d 234 (9th Cir. 2023)",
                court: "United States Court of Appeals, Ninth Circuit",
                date: "2023-04-10",
                category: "Maritime Law",
                petitioner: "Pacific Marine Trade Association",
                respondent: "Port of Seattle",
                keyIssue: "Whether the Port's environmental surcharge on docked vessels violates federal maritime law preemption principles.",
                ruling: "Affirmed. State and local environmental regulations of vessel operations are preempted by federal maritime law.",
                summary: "This maritime law case examined the preemptive effect of federal shipping regulations on local environmental requirements. The Court held that the Port of Seattle's environmental surcharge on docked vessels was preempted by federal law, which occupies the field of vessel operations and emissions standards in navigable waters.",
                fullText: `United States Court of Appeals for the Ninth Circuit

                    PACIFIC MARINE TRADE ASSOCIATION v. PORT OF SEATTLE
                    890 F.3d 234 (9th Cir. 2023)

                    JUDGE MORRISON delivered the opinion of the Court.

                    Pacific Marine Trade Association appeals the district court's dismissal of its claims that the Port of Seattle's "Environmental Vessel Surcharge" is preempted by federal maritime law. The Port imposed the surcharge on all vessels docking at Seattle ports to fund local environmental initiatives.

                    The Association argues that the surcharge is preempted under both conflict and field preemption theories. We agree that field preemption applies. Federal maritime law comprehensively regulates vessel operations, including emissions from vessels in navigable waters. The Port's surcharge effectively establishes environmental standards for vessel operations, a matter Congress has entrusted to federal agencies.

                    The Port argues that the surcharge is a revenue measure, not a regulatory standard. This distinction is illusory. The surcharge creates economic incentives that influence vessel operators' conduct, functioning as a de facto environmental regulation. Such regulation is within the exclusive province of federal law.

                    The Port also argues that the surcharge falls within the traditional police powers of state and local governments. However, traditional police powers do not extend to regulating the operational characteristics of vessels in navigable waters.

                    AFFIRMED.`,
                entities: {
                    persons: ["Judge Morrison", "Pacific Marine Trade Association", "Port of Seattle"],
                    dates: ["2023-04-10"],
                    courts: ["Ninth Circuit", "District Court", "Port of Seattle"],
                    cases: ["federal maritime law", "federal shipping regulations"]
                }
            },
            {
                id: 15,
                title: "Gonzalez v. Immigration Reform Coalition",
                citation: "456 F.3d 678 (5th Cir. 2022)",
                court: "United States Court of Appeals, Fifth Circuit",
                date: "2022-08-15",
                category: "Immigration Law",
                petitioner: "Maria Gonzalez",
                respondent: "Immigration Reform Coalition",
                keyIssue: "Whether cancellation of removal is available to lawful permanent residents who have not maintained continuous residence in the United States for seven years.",
                ruling: "Reversed. The continuous residence requirement applies to the period before the underlying criminal conviction, not the entire seven-year period.",
                summary: "This immigration case clarified the calculation of continuous residence for purposes of cancellation of removal. The Court held that Maria Gonzalez's lawful permanent resident status was improperly revoked, as her seven years of continuous residence should be measured from her entry until her criminal conduct, not until her conviction date.",
                fullText: `United States Court of Appeals for the Fifth Circuit

                    GONZALEZ v. IMMIGRATION REFORM COALITION
                    456 F.3d 678 (5th Cir. 2022)

                    JUDGE RAMIREZ wrote the opinion.

                    Maria Gonzalez, a lawful permanent resident since 2010, petitions for review of the Board of Immigration Appeals' decision finding her removable and ineligible for cancellation of removal. The Board found that Gonzalez had not maintained seven years of continuous residence following her most recent entry, as required by 8 U.S.C. ¬ß 1229b(a)(2).

                    Gonzalez entered the United States in 2002. She became a lawful permanent resident in 2010. In 2017, Gonzalez was convicted of misdemeanor assault. The Department of Homeland Security initiated removal proceedings in 2019.

                    The Immigration Judge found Gonzalez removable based on her conviction and ineligible for cancellation of removal because she had not accumulated seven years of continuous residence after her 2017 conviction. This reading of the statute is incorrect.

                    Section 1229b(a)(2) requires seven years of "continuous residence in the United States" before "the date of application." It does not require seven years of residence after any particular event. Gonzalez accumulated more than seven years of continuous residence before her removal proceedings commenced.

                    The Board erred in treating Gonzalez's conviction as an interruption of continuous residence for purposes of the cancellation of removal statute.

                    PETITION GRANTED.`,
                entities: {
                    persons: ["Maria Gonzalez", "Judge Ramirez", "Immigration Reform Coalition", "Department of Homeland Security"],
                    dates: ["2002", "2010", "2017", "2019", "2022-08-15"],
                    courts: ["Fifth Circuit", "Board of Immigration Appeals", "Immigration Judge"],
                    cases: ["8 U.S.C. ¬ß 1229b", "cancellation of removal", "lawful permanent resident"]
                }
            }
        ];

        // Application State
        let currentCase = null;
        let entitiesExtracted = false;
        let selectedText = '';

        // DOM Elements
        const searchInput = document.getElementById('searchInput');
        const resultsList = document.getElementById('resultsList');
        const resultCount = document.getElementById('resultCount');
        const sortSelect = document.getElementById('sortSelect');
        const detailTitle = document.getElementById('detailTitle');
        const detailMeta = document.getElementById('detailMeta');
        const caseSummary = document.getElementById('caseSummary');
        const notesList = document.getElementById('notesList');
        const notesCount = document.getElementById('notesCount');
        const noteModal = document.getElementById('noteModal');
        const noteQuote = document.getElementById('noteQuote');
        const noteText = document.getElementById('noteText');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        const entityLegend = document.getElementById('entityLegend');
        const extractEntitiesBtn = document.getElementById('extractEntitiesBtn');
        const addNoteBtn = document.getElementById('addNoteBtn');
        const addNoteSidebarBtn = document.getElementById('addNoteSidebarBtn');

        // Initialize
        function init() {
            renderCases(cases);
            setupEventListeners();
            loadNotes();
        }

        // Setup Event Listeners
        function setupEventListeners() {
            searchInput.addEventListener('input', debounce(handleSearch, 300));
            sortSelect.addEventListener('change', handleSearch);
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', (e) => handleTabSwitch(e.target.dataset.tab));
            });

            extractEntitiesBtn.addEventListener('click', toggleEntities);
            addNoteBtn.addEventListener('click', () => openNoteModal());
            addNoteSidebarBtn.addEventListener('click', () => openNoteModal());
            
            document.getElementById('closeModal').addEventListener('click', closeNoteModal);
            document.getElementById('cancelNote').addEventListener('click', closeNoteModal);
            document.getElementById('saveNote').addEventListener('click', saveNoteToStorage);
            
            noteModal.addEventListener('click', (e) => {
                if (e.target === noteModal) closeNoteModal();
            });

            // Handle text selection in full text tab
            document.getElementById('fullTextContent').addEventListener('mouseup', handleTextSelection);
        }

        // Debounce helper
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Render Cases List
        function renderCases(casesToRender) {
            resultCount.textContent = casesToRender.length;
            
            if (casesToRender.length === 0) {
                resultsList.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">üìö</div>
                        <h3>No cases found</h3>
                        <p>Try adjusting your search terms</p>
                    </div>
                `;
                return;
            }

            resultsList.innerHTML = casesToRender.map((caseItem, index) => `
                <div class="case-item ${currentCase && currentCase.id === caseItem.id ? 'active' : ''}" 
                     data-id="${caseItem.id}" onclick="selectCase(${caseItem.id})">
                    <div class="case-title">${caseItem.title}</div>
                    <div class="case-meta">
                        <span>üìÖ ${formatDate(caseItem.date)}</span>
                        <span>üèõÔ∏è ${abbreviateCourt(caseItem.court)}</span>
                    </div>
                    <div class="case-snippet">${highlightQuery(caseItem.summary, searchInput.value)}</div>
                </div>
            `).join('');
        }

        // Handle Search
        function handleSearch() {
            const query = searchInput.value.toLowerCase().trim();
            const sortBy = sortSelect.value;
            
            let filtered = cases.filter(caseItem => {
                if (!query) return true;
                return (
                    caseItem.title.toLowerCase().includes(query) ||
                    caseItem.citation.toLowerCase().includes(query) ||
                    caseItem.court.toLowerCase().includes(query) ||
                    caseItem.summary.toLowerCase().includes(query) ||
                    caseItem.petitioner.toLowerCase().includes(query) ||
                    caseItem.respondent.toLowerCase().includes(query) ||
                    caseItem.category.toLowerCase().includes(query) ||
                    caseItem.keyIssue.toLowerCase().includes(query)
                );
            });

            // Sort results
            filtered.sort((a, b) => {
                switch (sortBy) {
                    case 'date-desc':
                        return new Date(b.date) - new Date(a.date);
                    case 'date-asc':
                        return new Date(a.date) - new Date(b.date);
                    case 'court':
                        return a.court.localeCompare(b.court);
                    default:
                        return 0;
                }
            });

            renderCases(filtered);
        }

        // Select Case
        function selectCase(id) {
            currentCase = cases.find(c => c.id === id);
            entitiesExtracted = false;
            entityLegend.style.display = 'none';
            
            // Update active state in results
            document.querySelectorAll('.case-item').forEach(item => {
                item.classList.toggle('active', parseInt(item.dataset.id) === id);
            });

            // Update detail panel
            detailTitle.textContent = `${currentCase.title} ${currentCase.citation}`;
            detailMeta.innerHTML = `
                <span class="detail-meta-item"><span class="label">Court:</span> <strong>${currentCase.court}</strong></span>
                <span class="detail-meta-item"><span class="label">Date:</span> <strong>${formatDate(currentCase.date)}</strong></span>
                <span class="detail-meta-item"><span class="label">Category:</span> <strong>${currentCase.category}</strong></span>
                <span class="detail-meta-item"><span class="label">Citation:</span> <strong>${currentCase.citation}</strong></span>
            `;

            // Update summary tab
            caseSummary.textContent = currentCase.summary;
            document.getElementById('petitionerInfo').textContent = currentCase.petitioner;
            document.getElementById('respondentInfo').textContent = currentCase.respondent;
            document.getElementById('keyIssue').textContent = currentCase.keyIssue;
            document.getElementById('rulingInfo').textContent = currentCase.ruling;

            // Update full text tab (without entities)
            renderFullText(false);

            // Load notes for this case
            loadNotes();

            // Reset to summary tab
            handleTabSwitch('summary');
        }

        // Render Full Text
        function renderFullText(withEntities) {
            let content = currentCase.fullText;
            
            if (withEntities && currentCase.entities) {
                // Replace entities with highlighted spans
                content = escapeHtml(content);
                
                // Highlight case references
                currentCase.entities.cases.forEach(c => {
                    const regex = new RegExp(`\\b${escapeRegex(c)}\\b`, 'gi');
                    content = content.replace(regex, `<span class="entity-case">$&</span>`);
                });

                // Highlight courts
                currentCase.entities.courts.forEach(c => {
                    const regex = new RegExp(`\\b${escapeRegex(c)}\\b`, 'gi');
                    content = content.replace(regex, `<span class="entity-court">$&</span>`);
                });

                // Highlight persons
                currentCase.entities.persons.forEach(p => {
                    const regex = new RegExp(`\\b${escapeRegex(p)}\\b`, 'gi');
                    content = regex.test(content) ? content.replace(regex, `<span class="entity-person">$&</span>`) : content;
                });

                // Highlight dates
                currentCase.entities.dates.forEach(d => {
                    const regex = new RegExp(escapeRegex(d), 'gi');
                    content = regex.test(content) ? content.replace(regex, `<span class="entity-date">$&</span>`) : content;
                });
            }

            // Convert newlines to paragraphs
            content = content.split('\n\n').map(p => `<p>${p.trim()}</p>`).join('');
            document.getElementById('fullTextContent').innerHTML = content;
        }

        // Toggle Entities
        function toggleEntities() {
            entitiesExtracted = !entitiesExtracted;
            renderFullText(entitiesExtracted);
            entityLegend.style.display = entitiesExtracted ? 'flex' : 'none';
            extractEntitiesBtn.classList.toggle('primary', entitiesExtracted);
            extractEntitiesBtn.innerHTML = entitiesExtracted 
                ? '<span>üè∑Ô∏è</span> Hide Entities' 
                : '<span>üè∑Ô∏è</span> Extract Entities';
        }

        // Handle Tab Switch
        function handleTabSwitch(tabId) {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tab === tabId);
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.toggle('active', content.id === tabId + 'Tab');
            });
        }

        // Handle Text Selection
        function handleTextSelection() {
            const selection = window.getSelection();
            selectedText = selection.toString().trim();
            
            if (selectedText.length > 0) {
                addNoteBtn.classList.add('success');
            } else {
                addNoteBtn.classList.remove('success');
            }
        }

        // Open Note Modal
        function openNoteModal() {
            noteQuote.value = selectedText || '';
            noteText.value = '';
            noteModal.classList.add('active');
            noteText.focus();
        }

        // Close Note Modal
        function closeNoteModal() {
            noteModal.classList.remove('active');
            selectedText = '';
        }

        // Save Note to localStorage
        function saveNoteToStorage() {
            const noteContent = noteText.value.trim();
            if (!noteContent && !selectedText) {
                showToast('Please enter a note or select text');
                return;
            }

            const notes = JSON.parse(localStorage.getItem('vibelaw_notes') || '[]');
            
            const newNote = {
                id: Date.now(),
                caseId: currentCase.id,
                caseTitle: currentCase.title,
                quote: selectedText,
                content: noteContent,
                createdAt: new Date().toISOString()
            };

            notes.push(newNote);
            localStorage.setItem('vibelaw_notes', JSON.stringify(notes));
            
            closeNoteModal();
            loadNotes();
            showToast('Note saved successfully', 'success');
        }

        // Load Notes
        function loadNotes() {
            const notes = JSON.parse(localStorage.getItem('vibelaw_notes') || '[]');
            const caseNotes = notes.filter(n => n.caseId === currentCase?.id);
            
            notesCount.textContent = `${caseNotes.length} note${caseNotes.length !== 1 ? 's' : ''}`;
            
            if (caseNotes.length === 0) {
                notesList.innerHTML = `
                    <div class="notes-empty">
                        <div class="notes-empty-icon">üìù</div>
                        <p>No notes yet.<br>Select text and click "Add Note"</p>
                    </div>
                `;
                return;
            }

            notesList.innerHTML = caseNotes.map(note => `
                <div class="note-item" data-id="${note.id}">
                    ${note.quote ? `<div class="note-quote">${escapeHtml(note.quote)}</div>` : ''}
                    <div class="note-user-text">${escapeHtml(note.content)}</div>
                    <div class="note-meta">
                        <span class="note-date">${formatDate(note.createdAt)}</span>
                        <span class="note-delete" onclick="deleteNote(${note.id})">Delete</span>
                    </div>
                </div>
            `).join('');
        }

        // Delete Note
        function deleteNote(noteId) {
            const notes = JSON.parse(localStorage.getItem('vibelaw_notes') || '[]');
            const filtered = notes.filter(n => n.id !== noteId);
            localStorage.setItem('vibelaw_notes', JSON.stringify(filtered));
            loadNotes();
            showToast('Note deleted');
        }

        // Show Toast
        function showToast(message, type = '') {
            toastMessage.textContent = message;
            toast.className = 'toast show ' + type;
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Utility Functions
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        function abbreviateCourt(court) {
            return court
                .replace('Supreme Court of the United States', 'SCOTUS')
                .replace('United States Court of Appeals, ', 'Cir. ')
                .replace('United States District Court, ', 'Dist. ')
                .replace('Court of Appeals', 'App.')
                .replace('Supreme Court', 'S.Ct.');
        }

        function highlightQuery(text, query) {
            if (!query) return text.substring(0, 150) + '...';
            const regex = new RegExp(`(${escapeRegex(query)})`, 'gi');
            return text.replace(regex, '<mark>$1</mark>').substring(0, 200) + '...';
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function escapeRegex(string) {
            return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }

        // Initialize app
        init();
    </script>
</body>
</html>