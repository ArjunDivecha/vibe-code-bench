<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-box {
            background: #f8f9fa;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            min-width: 120px;
        }

        .stat-label {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
        }

        .text-display {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.3em;
            line-height: 1.8;
            font-family: 'Courier New', monospace;
            min-height: 150px;
        }

        .char {
            position: relative;
        }

        .char.correct {
            color: #28a745;
            background-color: #d4edda;
        }

        .char.incorrect {
            color: #dc3545;
            background-color: #f8d7da;
        }

        .char.current {
            background-color: #fff3cd;
            border-bottom: 2px solid #667eea;
        }

        #typingInput {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }

        #typingInput:focus {
            outline: none;
            border-color: #667eea;
        }

        #typingInput:disabled {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        button {
            padding: 12px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .results {
            display: none;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
        }

        .results.show {
            display: block;
        }

        .results h2 {
            margin-bottom: 20px;
            font-size: 2em;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .result-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .result-item .label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .result-item .value {
            font-size: 2em;
            font-weight: bold;
        }

        .instruction {
            text-align: center;
            color: #6c757d;
            margin-bottom: 20px;
            font-style: italic;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }

            .text-display {
                font-size: 1.1em;
                padding: 15px;
            }

            .stat-value {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Time</div>
                <div class="stat-value" id="timer">0s</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
        </div>

        <div class="instruction">Click on the input box below and start typing!</div>

        <div class="text-display" id="textDisplay"></div>

        <input 
            type="text" 
            id="typingInput" 
            placeholder="Start typing here..."
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
        >

        <div class="buttons">
            <button class="btn-primary" id="restartBtn">Try Again</button>
            <button class="btn-secondary" id="resetBtn">Reset Timer</button>
        </div>

        <div class="results" id="results">
            <h2>üéâ Test Complete!</h2>
            <div class="results-grid">
                <div class="result-item">
                    <div class="label">Final WPM</div>
                    <div class="value" id="finalWpm">0</div>
                </div>
                <div class="result-item">
                    <div class="label">Accuracy</div>
                    <div class="value" id="finalAccuracy">0%</div>
                </div>
                <div class="result-item">
                    <div class="label">Time</div>
                    <div class="value" id="finalTime">0s</div>
                </div>
                <div class="result-item">
                    <div class="label">Characters</div>
                    <div class="value" id="finalChars">0</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Text samples for practice
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet and is often used for typing practice.",
            "Programming is the art of telling another human being what one wants the computer to do. It requires patience, logic, and creativity.",
            "In the midst of chaos, there is also opportunity. Every difficulty carries within it the seeds of an equal or greater benefit.",
            "The only way to do great work is to love what you do. If you haven't found it yet, keep looking and don't settle for less than extraordinary.",
            "Success is not final, failure is not fatal. It is the courage to continue that counts most in the journey of life and achievement.",
            "Technology is best when it brings people together. Innovation distinguishes between a leader and a follower in the modern world.",
            "The beautiful thing about learning is that no one can take it away from you. Education is the most powerful weapon we can use.",
            "Life is what happens when you're busy making other plans. Sometimes the best moments are the ones you never saw coming at all.",
            "To be yourself in a world that is constantly trying to make you something else is the greatest accomplishment one can achieve.",
            "The future belongs to those who believe in the beauty of their dreams. Never give up on something you really want to accomplish."
        ];

        let currentText = '';
        let currentIndex = 0;
        let startTime = null;
        let timerInterval = null;
        let testDuration = 30; // 30 seconds test
        let isTestComplete = false;
        let correctChars = 0;
        let totalCharsTyped = 0;

        const textDisplay = document.getElementById('textDisplay');
        const typingInput = document.getElementById('typingInput');
        const timerEl = document.getElementById('timer');
        const wpmEl = document.getElementById('wpm');
        const accuracyEl = document.getElementById('accuracy');
        const restartBtn = document.getElementById('restartBtn');
        const resetBtn = document.getElementById('resetBtn');
        const resultsDiv = document.getElementById('results');

        function initTest() {
            // Select random text
            currentText = textSamples[Math.floor(Math.random() * textSamples.length)];
            currentIndex = 0;
            startTime = null;
            isTestComplete = false;
            correctChars = 0;
            totalCharsTyped = 0;

            // Clear input
            typingInput.value = '';
            typingInput.disabled = false;
            typingInput.focus();

            // Reset display
            displayText();
            updateStats(0, 100);
            timerEl.textContent = '0s';
            resultsDiv.classList.remove('show');

            // Clear timer
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        function displayText() {
            const chars = currentText.split('');
            textDisplay.innerHTML = chars.map((char, index) => {
                let className = 'char';
                if (index < currentIndex) {
                    const typedChar = typingInput.value[index];
                    className += typedChar === char ? ' correct' : ' incorrect';
                } else if (index === currentIndex) {
                    className += ' current';
                }
                return `<span class="${className}">${char === ' ' ? '&nbsp;' : char}</span>`;
            }).join('');
        }

        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                timerEl.textContent = elapsed + 's';

                // Check if 30 seconds have passed
                if (elapsed >= testDuration) {
                    endTest();
                }
            }, 100);
        }

        function calculateWPM(timeInSeconds) {
            if (timeInSeconds === 0) return 0;
            // Standard: 1 word = 5 characters
            const words = correctChars / 5;
            const minutes = timeInSeconds / 60;
            return Math.round(words / minutes);
        }

        function calculateAccuracy() {
            if (totalCharsTyped === 0) return 100;
            return Math.round((correctChars / totalCharsTyped) * 100);
        }

        function updateStats(wpm, accuracy) {
            wpmEl.textContent = wpm;
            accuracyEl.textContent = accuracy + '%';
        }

        function endTest() {
            isTestComplete = true;
            typingInput.disabled = true;
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const finalWpm = calculateWPM(elapsed);
            const finalAccuracy = calculateAccuracy();

            // Show results
            document.getElementById('finalWpm').textContent = finalWpm;
            document.getElementById('finalAccuracy').textContent = finalAccuracy + '%';
            document.getElementById('finalTime').textContent = elapsed + 's';
            document.getElementById('finalChars').textContent = correctChars + '/' + currentText.length;
            resultsDiv.classList.add('show');
        }

        typingInput.addEventListener('input', (e) => {
            if (isTestComplete) return;

            // Start timer on first keystroke
            if (!startTime) {
                startTimer();
            }

            const typed = e.target.value;
            currentIndex = typed.length;
            
            // Calculate correct characters
            correctChars = 0;
            totalCharsTyped = typed.length;
            
            for (let i = 0; i < typed.length && i < currentText.length; i++) {
                if (typed[i] === currentText[i]) {
                    correctChars++;
                }
            }

            // Update display
            displayText();

            // Calculate and update stats
            if (startTime) {
                const elapsed = (Date.now() - startTime) / 1000;
                const wpm = calculateWPM(elapsed);
                const accuracy = calculateAccuracy();
                updateStats(wpm, accuracy);
            }

            // Check if test is complete (typed entire text correctly)
            if (typed.length >= currentText.length) {
                endTest();
            }
        });

        // Prevent pasting
        typingInput.addEventListener('paste', (e) => {
            e.preventDefault();
        });

        restartBtn.addEventListener('click', () => {
            initTest();
        });

        resetBtn.addEventListener('click', () => {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            startTime = null;
            timerEl.textContent = '0s';
            typingInput.value = '';
            currentIndex = 0;
            correctChars = 0;
            totalCharsTyped = 0;
            displayText();
            updateStats(0, 100);
            typingInput.disabled = false;
            typingInput.focus();
        });

        // Initialize on load
        initTest();
    </script>
</body>
</html>