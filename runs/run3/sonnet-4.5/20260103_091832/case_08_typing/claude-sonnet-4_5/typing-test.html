<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            min-width: 120px;
            flex: 1;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
        }

        .text-display {
            background: #f7f7f7;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            font-size: 1.3em;
            line-height: 1.8;
            letter-spacing: 0.5px;
            font-family: 'Courier New', monospace;
            min-height: 150px;
        }

        .char {
            position: relative;
        }

        .char.correct {
            color: #10b981;
            background-color: #d1fae5;
        }

        .char.incorrect {
            color: #ef4444;
            background-color: #fee2e2;
        }

        .char.current {
            background-color: #fef3c7;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.5; }
        }

        .input-area {
            margin-bottom: 20px;
        }

        #typingInput {
            width: 100%;
            padding: 20px;
            font-size: 1.2em;
            border: 3px solid #667eea;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            outline: none;
            transition: all 0.3s;
        }

        #typingInput:focus {
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        #typingInput:disabled {
            background-color: #f0f0f0;
            cursor: not-allowed;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            color: white;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .results {
            display: none;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            color: white;
        }

        .results.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .result-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .result-item h3 {
            font-size: 0.9em;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .result-item p {
            font-size: 2.5em;
            font-weight: bold;
        }

        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .mode-btn {
            padding: 10px 20px;
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .mode-btn.active {
            background: #667eea;
            color: white;
        }

        .mode-btn:hover {
            transform: translateY(-2px);
        }

        .instructions {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Typing Speed Test</h1>
        
        <div class="mode-selector">
            <button class="mode-btn active" onclick="setMode('timed')">30 Second Test</button>
            <button class="mode-btn" onclick="setMode('free')">Free Practice</button>
        </div>

        <div class="instructions">
            Click "Start Test" and begin typing. The test will start when you type the first character.
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Time</div>
                <div class="stat-value" id="timer">0s</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpm">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Characters</div>
                <div class="stat-value" id="characters">0</div>
            </div>
        </div>

        <div class="text-display" id="textDisplay"></div>

        <div class="input-area">
            <input 
                type="text" 
                id="typingInput" 
                placeholder="Click 'Start Test' to begin..."
                disabled
                autocomplete="off"
                spellcheck="false">
        </div>

        <div class="controls">
            <button class="btn-primary" id="startBtn" onclick="startTest()">Start Test</button>
            <button class="btn-secondary" id="resetBtn" onclick="resetTest()" disabled>Try Again</button>
        </div>

        <div class="results" id="results">
            <h2>üéâ Test Complete!</h2>
            <div class="results-grid">
                <div class="result-item">
                    <h3>Words Per Minute</h3>
                    <p id="finalWpm">0</p>
                </div>
                <div class="result-item">
                    <h3>Accuracy</h3>
                    <p id="finalAccuracy">0%</p>
                </div>
                <div class="result-item">
                    <h3>Time Taken</h3>
                    <p id="finalTime">0s</p>
                </div>
                <div class="result-item">
                    <h3>Characters Typed</h3>
                    <p id="finalChars">0</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Array of text samples
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This pangram contains every letter of the alphabet and is perfect for typing practice.",
            "Programming is not about typing, it's about thinking. However, faster typing speed can significantly improve your productivity and workflow.",
            "In the digital age, typing has become as fundamental as writing. The ability to type quickly and accurately is a valuable skill in almost every profession.",
            "Practice makes perfect. The more you type, the better you become. Your fingers will learn the keyboard layout through muscle memory over time.",
            "Touch typing is a method where you use all ten fingers without looking at the keyboard. It may seem difficult at first, but it becomes natural with practice.",
            "The internet has transformed how we communicate, work, and learn. Fast typing skills help you take full advantage of these digital opportunities.",
            "Writing code requires precision and attention to detail. Every character matters, and a single typo can cause errors that take hours to debug.",
            "Good typing posture is important for avoiding strain and injury. Keep your wrists straight, feet flat on the floor, and screen at eye level.",
            "Keyboard shortcuts can dramatically increase your efficiency. Learn the common ones for your operating system and applications you use frequently.",
            "The art of communication has evolved from handwritten letters to instant messages. Typing speed directly affects how quickly you can express your thoughts.",
            "Software development is a creative process that combines logical thinking with technical skills. Fast typing allows developers to keep pace with their ideas.",
            "Cybersecurity is increasingly important in our connected world. Strong passwords and secure typing habits protect your personal information online."
        ];

        let currentText = '';
        let currentIndex = 0;
        let startTime = null;
        let timerInterval = null;
        let isTestActive = false;
        let testMode = 'timed'; // 'timed' or 'free'
        let testDuration = 30; // seconds
        let correctChars = 0;
        let incorrectChars = 0;

        const textDisplay = document.getElementById('textDisplay');
        const typingInput = document.getElementById('typingInput');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const results = document.getElementById('results');

        function setMode(mode) {
            if (isTestActive) return;
            
            testMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function getRandomText() {
            const randomIndex = Math.floor(Math.random() * textSamples.length);
            return textSamples[randomIndex];
        }

        function displayText(text) {
            currentText = text;
            textDisplay.innerHTML = text.split('').map((char, index) => 
                `<span class="char" data-index="${index}">${char === ' ' ? '&nbsp;' : char}</span>`
            ).join('');
        }

        function startTest() {
            // Reset everything
            currentIndex = 0;
            correctChars = 0;
            incorrectChars = 0;
            isTestActive = true;
            startTime = null;
            
            // Get new random text
            displayText(getRandomText());
            
            // Enable input and focus
            typingInput.value = '';
            typingInput.disabled = false;
            typingInput.placeholder = 'Start typing here...';
            typingInput.focus();
            
            // Update buttons
            startBtn.disabled = true;
            resetBtn.disabled = true;
            
            // Hide results
            results.classList.remove('show');
            
            // Reset stats display
            updateStats(0, 0, 100, 0);
        }

        function updateStats(time, wpm, accuracy, chars) {
            document.getElementById('timer').textContent = time + 's';
            document.getElementById('wpm').textContent = Math.round(wpm);
            document.getElementById('accuracy').textContent = Math.round(accuracy) + '%';
            document.getElementById('characters').textContent = chars;
        }

        function calculateWPM(chars, timeInSeconds) {
            if (timeInSeconds === 0) return 0;
            const minutes = timeInSeconds / 60;
            // Standard: 1 word = 5 characters
            return (chars / 5) / minutes;
        }

        function calculateAccuracy() {
            const totalTyped = correctChars + incorrectChars;
            if (totalTyped === 0) return 100;
            return (correctChars / totalTyped) * 100;
        }

        function updateDisplay() {
            const chars = textDisplay.querySelectorAll('.char');
            chars.forEach((char, index) => {
                char.classList.remove('correct', 'incorrect', 'current');
                if (index < currentIndex) {
                    // Already typed
                    if (char.dataset.correct === 'true') {
                        char.classList.add('correct');
                    } else if (char.dataset.correct === 'false') {
                        char.classList.add('incorrect');
                    }
                } else if (index === currentIndex) {
                    // Current character
                    char.classList.add('current');
                }
            });
        }

        function endTest() {
            isTestActive = false;
            typingInput.disabled = true;
            clearInterval(timerInterval);
            startBtn.disabled = false;
            resetBtn.disabled = false;
            
            const elapsedTime = (Date.now() - startTime) / 1000;
            const wpm = calculateWPM(correctChars, elapsedTime);
            const accuracy = calculateAccuracy();
            
            // Show final results
            document.getElementById('finalWpm').textContent = Math.round(wpm);
            document.getElementById('finalAccuracy').textContent = Math.round(accuracy) + '%';
            document.getElementById('finalTime').textContent = Math.round(elapsedTime) + 's';
            document.getElementById('finalChars').textContent = correctChars + incorrectChars;
            
            results.classList.add('show');
        }

        function resetTest() {
            clearInterval(timerInterval);
            isTestActive = false;
            startTime = null;
            currentIndex = 0;
            correctChars = 0;
            incorrectChars = 0;
            
            typingInput.value = '';
            typingInput.disabled = true;
            typingInput.placeholder = "Click 'Start Test' to begin...";
            
            startBtn.disabled = false;
            resetBtn.disabled = false;
            
            results.classList.remove('show');
            
            updateStats(0, 0, 100, 0);
            displayText(getRandomText());
        }

        typingInput.addEventListener('input', function(e) {
            if (!isTestActive) return;
            
            // Start timer on first keystroke
            if (!startTime) {
                startTime = Date.now();
                timerInterval = setInterval(() => {
                    const elapsed = Math.floor((Date.now() - startTime) / 1000);
                    const wpm = calculateWPM(correctChars, elapsed);
                    const accuracy = calculateAccuracy();
                    updateStats(elapsed, wpm, accuracy, correctChars + incorrectChars);
                    
                    // Check if time limit reached (for timed mode)
                    if (testMode === 'timed' && elapsed >= testDuration) {
                        endTest();
                    }
                }, 100);
            }
            
            const typedText = e.target.value;
            const chars = textDisplay.querySelectorAll('.char');
            
            // Update current index to match typed length
            currentIndex = Math.min(typedText.length, currentText.length);
            
            // Reset counters
            correctChars = 0;
            incorrectChars = 0;
            
            // Compare typed text with original
            for (let i = 0; i < typedText.length && i < currentText.length; i++) {
                const char = chars[i];
                if (typedText[i] === currentText[i]) {
                    char.dataset.correct = 'true';
                    correctChars++;
                } else {
                    char.dataset.correct = 'false';
                    incorrectChars++;
                }
            }
            
            updateDisplay();
            
            // Check if test is complete (all text typed correctly)
            if (currentIndex >= currentText.length && testMode === 'free') {
                endTest();
            }
        });

        // Prevent paste
        typingInput.addEventListener('paste', function(e) {
            e.preventDefault();
        });

        // Initialize with random text
        displayText(getRandomText());
    </script>
</body>
</html>