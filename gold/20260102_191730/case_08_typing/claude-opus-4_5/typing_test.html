<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #8892b0;
            font-size: 1.1rem;
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            min-width: 120px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #e94560;
        }

        .stat-label {
            color: #8892b0;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .mode-btn {
            padding: 10px 25px;
            border: 2px solid #e94560;
            background: transparent;
            color: #e94560;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .mode-btn:hover, .mode-btn.active {
            background: #e94560;
            color: #fff;
        }

        .text-display {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            font-size: 1.4rem;
            line-height: 2;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 150px;
        }

        .char {
            position: relative;
            transition: color 0.1s;
        }

        .char.correct {
            color: #4ade80;
        }

        .char.incorrect {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.3);
            border-radius: 3px;
        }

        .char.current {
            border-left: 2px solid #e94560;
            animation: blink 1s infinite;
        }

        .char.pending {
            color: #64748b;
        }

        @keyframes blink {
            0%, 50% { border-color: #e94560; }
            51%, 100% { border-color: transparent; }
        }

        .input-area {
            position: relative;
            margin-bottom: 25px;
        }

        #typing-input {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 2px solid rgba(233, 69, 96, 0.5);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            outline: none;
            transition: border-color 0.3s;
        }

        #typing-input:focus {
            border-color: #e94560;
        }

        #typing-input:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.1rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn-primary {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: #fff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 40px;
            border-radius: 25px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 2px solid rgba(233, 69, 96, 0.5);
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #e94560;
        }

        .final-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .final-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
        }

        .final-stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #4ade80;
        }

        .final-stat-label {
            color: #8892b0;
            margin-top: 5px;
        }

        .rating {
            font-size: 1.2rem;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(233, 69, 96, 0.2);
            border-radius: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e94560, #ff6b6b);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .instructions {
            text-align: center;
            color: #8892b0;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .stats-bar {
                gap: 15px;
            }
            
            .stat-box {
                padding: 15px 20px;
                min-width: 90px;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .text-display {
                font-size: 1.1rem;
                padding: 20px;
            }
            
            .final-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚å®Ô∏è Typing Speed Test</h1>
            <p class="subtitle">Test your typing speed and accuracy</p>
        </header>

        <div class="stats-bar">
            <div class="stat-box">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="accuracy">100%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="timer">0:00</div>
                <div class="stat-label">Time</div>
            </div>
        </div>

        <div class="mode-selector">
            <button class="mode-btn active" data-mode="free">Free Mode</button>
            <button class="mode-btn" data-mode="30">30 Seconds</button>
            <button class="mode-btn" data-mode="60">60 Seconds</button>
        </div>

        <div class="progress-bar" id="progress-container" style="display: none;">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="text-display" id="text-display"></div>

        <p class="instructions">Click the input box and start typing to begin the test</p>

        <div class="input-area">
            <input type="text" id="typing-input" placeholder="Start typing here..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        </div>

        <div class="btn-group">
            <button class="btn btn-primary" id="new-text-btn">New Text</button>
            <button class="btn btn-secondary" id="reset-btn">Reset</button>
        </div>
    </div>

    <div class="modal-overlay" id="modal-overlay">
        <div class="modal">
            <h2>üéâ Test Complete!</h2>
            <div class="final-stats">
                <div class="final-stat">
                    <div class="final-stat-value" id="final-wpm">0</div>
                    <div class="final-stat-label">Words Per Minute</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-value" id="final-accuracy">0%</div>
                    <div class="final-stat-label">Accuracy</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-value" id="final-chars">0</div>
                    <div class="final-stat-label">Characters Typed</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-value" id="final-time">0:00</div>
                    <div class="final-stat-label">Time Elapsed</div>
                </div>
            </div>
            <div class="rating" id="rating"></div>
            <div class="btn-group">
                <button class="btn btn-primary" id="try-again-btn">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        const textSamples = [
            "The quick brown fox jumps over the lazy dog. This classic sentence contains every letter of the alphabet and has been used for decades to test typewriters and keyboards around the world.",
            "Programming is the art of telling a computer what to do through a series of instructions. Good programmers write code that humans can understand, not just machines.",
            "In the depths of winter, I finally learned that within me there lay an invincible summer. The human spirit is stronger than anything that can happen to it.",
            "Technology is best when it brings people together. Innovation distinguishes between a leader and a follower. Stay hungry, stay foolish, and never stop learning.",
            "The only way to do great work is to love what you do. If you haven't found it yet, keep looking. Don't settle. As with all matters of the heart, you'll know when you find it.",
            "Success is not final, failure is not fatal: it is the courage to continue that counts. The greatest glory in living lies not in never falling, but in rising every time we fall.",
            "Reading is to the mind what exercise is to the body. A room without books is like a body without a soul. The more that you read, the more things you will know.",
            "Life is what happens when you're busy making other plans. In the end, it's not the years in your life that count, it's the life in your years that truly matters.",
            "The greatest enemy of knowledge is not ignorance, it is the illusion of knowledge. True wisdom comes to each of us when we realize how little we understand about life.",
            "Creativity is intelligence having fun. Logic will get you from A to B, but imagination will take you everywhere. The only limit to our realization of tomorrow is our doubts of today."
        ];

        let currentText = "";
        let startTime = null;
        let timerInterval = null;
        let isRunning = false;
        let isComplete = false;
        let mode = "free";
        let timeLimit = 0;
        let elapsedSeconds = 0;
        let correctChars = 0;
        let totalTyped = 0;

        const textDisplay = document.getElementById("text-display");
        const typingInput = document.getElementById("typing-input");
        const wpmDisplay = document.getElementById("wpm");
        const accuracyDisplay = document.getElementById("accuracy");
        const timerDisplay = document.getElementById("timer");
        const progressContainer = document.getElementById("progress-container");
        const progressFill = document.getElementById("progress-fill");
        const modalOverlay = document.getElementById("modal-overlay");
        const newTextBtn = document.getElementById("new-text-btn");
        const resetBtn = document.getElementById("reset-btn");
        const tryAgainBtn = document.getElementById("try-again-btn");
        const modeBtns = document.querySelectorAll(".mode-btn");

        function getRandomText() {
            const randomIndex = Math.floor(Math.random() * textSamples.length);
            return textSamples[randomIndex];
        }

        function initText() {
            currentText = getRandomText();
            renderText("");
            typingInput.value = "";
            typingInput.disabled = false;
            typingInput.focus();
            resetStats();
        }

        function renderText(typed) {
            let html = "";
            for (let i = 0; i < currentText.length; i++) {
                let charClass = "char ";
                if (i < typed.length) {
                    if (typed[i] === currentText[i]) {
                        charClass += "correct";
                    } else {
                        charClass += "incorrect";
                    }
                } else if (i === typed.length) {
                    charClass += "current pending";
                } else {
                    charClass += "pending";
                }
                
                let char = currentText[i];
                if (char === " ") {
                    char = "&nbsp;";
                }
                html += `<span class="${charClass}">${char}</span>`;
            }
            textDisplay.innerHTML = html;
        }

        function startTimer() {
            if (isRunning) return;
            isRunning = true;
            startTime = Date.now();
            elapsedSeconds = 0;
            
            timerInterval = setInterval(() => {
                elapsedSeconds = Math.floor((Date.now() - startTime) / 1000);
                updateTimerDisplay();
                
                if (mode !== "free" && elapsedSeconds >= timeLimit) {
                    endTest();
                }
                
                updateStats();
            }, 100);
        }

        function updateTimerDisplay() {
            if (mode !== "free") {
                const remaining = Math.max(0, timeLimit - elapsedSeconds);
                const mins = Math.floor(remaining / 60);
                const secs = remaining % 60;
                timerDisplay.textContent = `${mins}:${secs.toString().padStart(2, "0")}`;
                progressFill.style.width = `${((timeLimit - remaining) / timeLimit) * 100}%`;
            } else {
                const mins = Math.floor(elapsedSeconds / 60);
                const secs = elapsedSeconds % 60;
                timerDisplay.textContent = `${mins}:${secs.toString().padStart(2, "0")}`;
            }
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            isRunning = false;
        }

        function resetStats() {
            stopTimer();
            isComplete = false;
            correctChars = 0;
            totalTyped = 0;
            elapsedSeconds = 0;
            wpmDisplay.textContent = "0";
            accuracyDisplay.textContent = "100%";
            timerDisplay.textContent = "0:00";
            progressFill.style.width = "0%";
        }

        function updateStats() {
            const typed = typingInput.value;
            totalTyped = typed.length;
            correctChars = 0;
            
            for (let i = 0; i < typed.length; i++) {
                if (typed[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            // Calculate WPM (words = chars / 5)
            const minutes = elapsedSeconds / 60;
            const wpm = minutes > 0 ? Math.round((correctChars / 5) / minutes) : 0;
            wpmDisplay.textContent = wpm;
            
            // Calculate accuracy
            const accuracy = totalTyped > 0 ? Math.round((correctChars / totalTyped) * 100) : 100;
            accuracyDisplay.textContent = accuracy + "%";
        }

        function endTest() {
            stopTimer();
            isComplete = true;
            typingInput.disabled = true;
            
            const typed = typingInput.value;
            totalTyped = typed.length;
            correctChars = 0;
            
            for (let i = 0; i < typed.length; i++) {
                if (typed[i] === currentText[i]) {
                    correctChars++;
                }
            }
            
            const minutes = elapsedSeconds / 60;
            const wpm = minutes > 0 ? Math.round((correctChars / 5) / minutes) : 0;
            const accuracy = totalTyped > 0 ? Math.round((correctChars / totalTyped) * 100) : 100;
            
            document.getElementById("final-wpm").textContent = wpm;
            document.getElementById("final-accuracy").textContent = accuracy + "%";
            document.getElementById("final-chars").textContent = totalTyped;
            
            const mins = Math.floor(elapsedSeconds / 60);
            const secs = elapsedSeconds % 60;
            document.getElementById("final-time").textContent = `${mins}:${secs.toString().padStart(2, "0")}`;
            
            let rating = "";
            if (wpm >= 80 && accuracy >= 95) {
                rating = "üèÜ Outstanding! You're a typing master!";
            } else if (wpm >= 60 && accuracy >= 90) {
                rating = "üåü Excellent! You're above average!";
            } else if (wpm >= 40 && accuracy >= 85) {
                rating = "üëç Good job! Keep practicing!";
            } else if (wpm >= 25) {
                rating = "üí™ Nice effort! Practice makes perfect!";
            } else {
                rating = "üéØ Keep practicing to improve your speed!";
            }
            document.getElementById("rating").textContent = rating;
            
            modalOverlay.classList.add("show");
        }

        typingInput.addEventListener("input", (e) => {
            if (isComplete) return;
            
            const typed = e.target.value;
            
            if (!isRunning && typed.length > 0) {
                startTimer();
            }
            
            renderText(typed);
            updateStats();
            
            // Check if completed (typed all characters in free mode)
            if (mode === "free" && typed.length >= currentText.length) {
                endTest();
            }
        });

        typingInput.addEventListener("keydown", (e) => {
            // Prevent backspace if at beginning
            if (e.key === "Tab") {
                e.preventDefault();
            }
        });

        modeBtns.forEach(btn => {
            btn.addEventListener("click", () => {
                modeBtns.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                
                mode = btn.dataset.mode;
                if (mode === "free") {
                    timeLimit = 0;
                    progressContainer.style.display = "none";
                } else {
                    timeLimit = parseInt(mode);
                    progressContainer.style.display = "block";
                }
                
                initText();
            });
        });

        newTextBtn.addEventListener("click", () => {
            initText();
        });

        resetBtn.addEventListener("click", () => {
            typingInput.value = "";
            renderText("");
            resetStats();
            typingInput.disabled = false;
            typingInput.focus();
        });

        tryAgainBtn.addEventListener("click", () => {
            modalOverlay.classList.remove("show");
            initText();
        });

        modalOverlay.addEventListener("click", (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove("show");
            }
        });

        // Initialize
        initText();
    </script>
</body>
</html>