<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a2e;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #e94560, #0f3460);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #8892b0;
            font-size: 1rem;
        }

        .hint {
            display: inline-block;
            background: #0f3460;
            padding: 8px 16px;
            border-radius: 20px;
            margin-top: 15px;
            font-size: 0.9rem;
            color: #ccd6f6;
        }

        .hint kbd {
            background: #e94560;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: monospace;
            margin: 0 3px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #e94560, #c73659);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
        }

        .btn-secondary {
            background: #0f3460;
            color: #ccd6f6;
        }

        .btn-secondary:hover {
            background: #16213e;
            transform: translateY(-2px);
        }

        .palette-container {
            display: flex;
            min-height: 50vh;
            transition: all 0.3s ease;
        }

        .color-card {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 30px 15px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .color-card:hover {
            flex: 1.3;
        }

        .color-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0);
            transition: background 0.3s ease;
        }

        .color-card:hover::before {
            background: rgba(0, 0, 0, 0.1);
        }

        .color-info {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            min-width: 160px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .color-card:hover .color-info {
            transform: translateY(0);
            opacity: 1;
        }

        .color-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 10px;
            text-transform: capitalize;
        }

        .color-code {
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            color: #333;
            margin: 5px 0;
            padding: 5px 10px;
            background: #f0f0f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .color-code:hover {
            background: #e94560;
            color: white;
        }

        .lock-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 45px;
            height: 45px;
            border: none;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            opacity: 0;
            transform: scale(0.8);
            z-index: 20;
        }

        .color-card:hover .lock-btn {
            opacity: 1;
            transform: scale(1);
        }

        .lock-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1) !important;
        }

        .lock-btn.locked {
            opacity: 1;
            transform: scale(1);
            background: rgba(233, 69, 96, 0.9);
        }

        .copy-toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #1a1a2e;
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
        }

        .copy-toast.show {
            transform: translateX(-50%) translateY(0);
        }

        .favorites-section {
            padding: 40px 20px;
            background: #16213e;
        }

        .favorites-section h2 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
        }

        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .favorite-palette {
            background: #1a1a2e;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .favorite-palette:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .favorite-colors {
            display: flex;
            height: 80px;
        }

        .favorite-color {
            flex: 1;
            cursor: pointer;
            transition: flex 0.3s ease;
            position: relative;
        }

        .favorite-color:hover {
            flex: 1.5;
        }

        .favorite-color::after {
            content: attr(data-hex);
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: white;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
            font-family: monospace;
        }

        .favorite-color:hover::after {
            opacity: 1;
        }

        .favorite-actions {
            display: flex;
            justify-content: space-between;
            padding: 15px;
        }

        .favorite-actions button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .load-btn {
            background: #0f3460;
            color: #ccd6f6;
        }

        .load-btn:hover {
            background: #e94560;
            color: white;
        }

        .delete-btn {
            background: transparent;
            color: #8892b0;
        }

        .delete-btn:hover {
            color: #e94560;
        }

        .empty-favorites {
            text-align: center;
            color: #8892b0;
            padding: 40px;
            font-size: 1.1rem;
        }

        .empty-favorites span {
            font-size: 3rem;
            display: block;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .palette-container {
                flex-direction: column;
                min-height: auto;
            }

            .color-card {
                min-height: 150px;
                padding: 20px 15px;
            }

            .color-card:hover {
                flex: 1;
            }

            .color-info {
                transform: translateY(0);
                opacity: 1;
                padding: 15px;
                min-width: 140px;
            }

            .lock-btn {
                opacity: 1;
                transform: scale(1);
            }

            .header h1 {
                font-size: 1.8rem;
            }
        }

        .generating .color-card:not(.locked) {
            animation: pulse 0.5s ease;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>üé® Color Palette Generator</h1>
        <p>Create beautiful color combinations instantly</p>
        <div class="hint">
            Press <kbd>Space</kbd> to generate ‚Ä¢ Click color to copy ‚Ä¢ üîí to lock
        </div>
    </header>

    <div class="controls">
        <button class="btn btn-primary" onclick="generatePalette()">
            ‚ú® Generate New
        </button>
        <button class="btn btn-secondary" onclick="savePalette()">
            üíæ Save Palette
        </button>
    </div>

    <div class="palette-container" id="paletteContainer"></div>

    <section class="favorites-section">
        <h2>üíñ Saved Palettes</h2>
        <div class="favorites-grid" id="favoritesGrid"></div>
    </section>

    <div class="copy-toast" id="copyToast">Copied to clipboard!</div>

    <script>
        // Color names database for naming suggestions
        const colorNames = {
            red: ['Crimson', 'Ruby', 'Scarlet', 'Cherry', 'Rose', 'Coral', 'Vermillion'],
            orange: ['Tangerine', 'Peach', 'Apricot', 'Amber', 'Sunset', 'Marigold', 'Copper'],
            yellow: ['Lemon', 'Sunshine', 'Butter', 'Canary', 'Gold', 'Honey', 'Mustard'],
            green: ['Emerald', 'Forest', 'Sage', 'Mint', 'Olive', 'Jade', 'Lime', 'Fern'],
            cyan: ['Teal', 'Aqua', 'Turquoise', 'Seafoam', 'Ocean', 'Lagoon', 'Arctic'],
            blue: ['Sapphire', 'Navy', 'Azure', 'Cobalt', 'Indigo', 'Sky', 'Royal', 'Denim'],
            purple: ['Violet', 'Lavender', 'Plum', 'Grape', 'Orchid', 'Amethyst', 'Mauve'],
            pink: ['Blush', 'Fuchsia', 'Magenta', 'Salmon', 'Flamingo', 'Bubblegum', 'Rouge'],
            brown: ['Chocolate', 'Coffee', 'Mocha', 'Sienna', 'Chestnut', 'Mahogany', 'Walnut'],
            gray: ['Slate', 'Charcoal', 'Ash', 'Stone', 'Steel', 'Smoke', 'Shadow', 'Silver'],
            white: ['Snow', 'Ivory', 'Pearl', 'Cloud', 'Cotton', 'Cream', 'Vanilla'],
            black: ['Obsidian', 'Midnight', 'Onyx', 'Jet', 'Raven', 'Coal', 'Ebony']
        };

        const modifiers = ['Deep', 'Light', 'Soft', 'Bright', 'Dark', 'Pale', 'Rich', 'Muted', 'Warm', 'Cool'];

        let currentPalette = [];
        let lockedColors = [false, false, false, false, false];

        // Generate random hex color
        function randomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        // Convert hex to RGB
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        // Convert RGB to HSL
        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }
            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        // Get color name based on hue
        function getColorName(hex) {
            const rgb = hexToRgb(hex);
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
            
            let baseColor;
            const h = hsl.h;
            const s = hsl.s;
            const l = hsl.l;

            // Determine base color from hue
            if (l < 15) baseColor = 'black';
            else if (l > 90) baseColor = 'white';
            else if (s < 10) baseColor = 'gray';
            else if (h < 15 || h >= 345) baseColor = 'red';
            else if (h < 45) baseColor = 'orange';
            else if (h < 65) baseColor = 'yellow';
            else if (h < 150) baseColor = 'green';
            else if (h < 190) baseColor = 'cyan';
            else if (h < 260) baseColor = 'blue';
            else if (h < 290) baseColor = 'purple';
            else if (h < 345) baseColor = 'pink';
            else baseColor = 'red';

            // Get random name from category
            const names = colorNames[baseColor];
            const name = names[Math.floor(Math.random() * names.length)];
            
            // Maybe add modifier
            let modifier = '';
            if (Math.random() > 0.5) {
                if (l < 30) modifier = 'Deep ';
                else if (l > 70) modifier = 'Light ';
                else if (s > 70) modifier = 'Vivid ';
                else if (s < 40) modifier = 'Soft ';
            }

            return modifier + name;
        }

        // Check if color is light or dark
        function isLight(hex) {
            const rgb = hexToRgb(hex);
            const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
            return brightness > 128;
        }

        // Generate palette
        function generatePalette() {
            const container = document.getElementById('paletteContainer');
            container.classList.add('generating');

            for (let i = 0; i < 5; i++) {
                if (!lockedColors[i]) {
                    currentPalette[i] = randomColor();
                }
            }

            renderPalette();

            setTimeout(() => {
                container.classList.remove('generating');
            }, 500);
        }

        // Render palette
        function renderPalette() {
            const container = document.getElementById('paletteContainer');
            container.innerHTML = '';

            currentPalette.forEach((color, index) => {
                const rgb = hexToRgb(color);
                const colorName = getColorName(color);
                const textColor = isLight(color) ? '#1a1a2e' : '#ffffff';

                const card = document.createElement('div');
                card.className = `color-card ${lockedColors[index] ? 'locked' : ''}`;
                card.style.backgroundColor = color;

                card.innerHTML = `
                    <button class="lock-btn ${lockedColors[index] ? 'locked' : ''}" 
                            onclick="event.stopPropagation(); toggleLock(${index})"
                            style="color: ${textColor}">
                        ${lockedColors[index] ? 'üîí' : 'üîì'}
                    </button>
                    <div class="color-info">
                        <div class="color-name">${colorName}</div>
                        <div class="color-code" onclick="event.stopPropagation(); copyColor('${color}')">${color}</div>
                        <div class="color-code" onclick="event.stopPropagation(); copyColor('rgb(${rgb.r}, ${rgb.g}, ${rgb.b})')">
                            RGB(${rgb.r}, ${rgb.g}, ${rgb.b})
                        </div>
                    </div>
                `;

                card.onclick = () => copyColor(color);
                container.appendChild(card);
            });
        }

        // Toggle lock
        function toggleLock(index) {
            lockedColors[index] = !lockedColors[index];
            renderPalette();
        }

        // Copy to clipboard
        function copyColor(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(`Copied: ${text}`);
            }).catch(() => {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast(`Copied: ${text}`);
            });
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('copyToast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // Save palette to favorites
        function savePalette() {
            const favorites = JSON.parse(localStorage.getItem('colorPalettes') || '[]');
            favorites.unshift({
                id: Date.now(),
                colors: [...currentPalette],
                timestamp: new Date().toISOString()
            });
            
            // Keep only last 20 palettes
            if (favorites.length > 20) {
                favorites.pop();
            }

            localStorage.setItem('colorPalettes', JSON.stringify(favorites));
            renderFavorites();
            showToast('Palette saved! üíæ');
        }

        // Load favorites from localStorage
        function loadFavorites() {
            return JSON.parse(localStorage.getItem('colorPalettes') || '[]');
        }

        // Render favorites
        function renderFavorites() {
            const grid = document.getElementById('favoritesGrid');
            const favorites = loadFavorites();

            if (favorites.length === 0) {
                grid.innerHTML = `
                    <div class="empty-favorites">
                        <span>üé®</span>
                        No saved palettes yet.<br>Generate one you like and click Save!
                    </div>
                `;
                return;
            }

            grid.innerHTML = favorites.map(palette => `
                <div class="favorite-palette" data-id="${palette.id}">
                    <div class="favorite-colors">
                        ${palette.colors.map(color => `
                            <div class="favorite-color" 
                                 style="background-color: ${color}"
                                 data-hex="${color}"
                                 onclick="copyColor('${color}')">
                            </div>
                        `).join('')}
                    </div>
                    <div class="favorite-actions">
                        <button class="load-btn" onclick="loadPalette(${JSON.stringify(palette.colors).replace(/"/g, '&quot;')})">
                            üì§ Load
                        </button>
                        <button class="delete-btn" onclick="deletePalette(${palette.id})">
                            üóëÔ∏è Delete
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Load a saved palette
        function loadPalette(colors) {
            currentPalette = [...colors];
            lockedColors = [false, false, false, false, false];
            renderPalette();
            window.scrollTo({ top: 0, behavior: 'smooth' });
            showToast('Palette loaded! ‚ú®');
        }

        // Delete a saved palette
        function deletePalette(id) {
            let favorites = loadFavorites();
            favorites = favorites.filter(p => p.id !== id);
            localStorage.setItem('colorPalettes', JSON.stringify(favorites));
            renderFavorites();
            showToast('Palette deleted');
        }

        // Keyboard shortcut for spacebar
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && e.target === document.body) {
                e.preventDefault();
                generatePalette();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            generatePalette();
            renderFavorites();
        });
    </script>
</body>
</html>